## 数据结构

### 判断

1. BST 中删除节点 *x* 的时间复杂度是 $O(d)$，其中 *d* 为 *x* 的深度。

> ❌
> 删除根节点的复杂度是 $O(1)+O(根节点直接后继的深度)$，而题目中的 $d$ 指的是被删除节点本身的深度。

### 填空

1. 给出以下问题计算成本的 Big-O-notation ： （    ） $$
T(n)=\left\{
\begin{aligned}
    &O(1)   &(n\le 1)\\
    &2\times T(\sqrt{n})+O(\log n) &(n\ge2)
\end{aligned}
\right.
$$

> ![[IMG_20231215_203854.jpg]]

2. 若仅使用 9 个字符，且出现频率分别为 `{1,1,2,3,5,8,13,33,34}`，则平均带权编码长度为：（    ）

> ![[IMG_20231215_204508.jpg]]

3. 设文本串 T、模式串 P 的长度分别为 2024 和 17，且 T 中并不包含 P，则用 BM-GS 算法做模式匹配，最好情况下需要做字符比对的次数为：（    ）

> $\lfloor 2024/17\rfloor=119$ 次
> ![[2024-威卷-III-BM-GS-algo.png]]
> 注意代码中 while 循环的判断条件——当文本长度至少要大于模式串长度时才会进行匹配，否则就会直接退出。

## 组成原理

### 判断

1. 闪存每单元能编码的比特数越多，闪存的寿命越短

> ✅
> 闪存每单元能编码的比特数越多，即一个单元能够表示多个 bit，这将导致在更新其中一个 bit 时不得不反复擦除这个整体单元（FLASH 不支持随机的单个 bit 的擦写），因而会降低该单元的寿命。
> ![[2024-威卷-III-FLASH-erase.png]]
> 更多关于 FLASH 的说法：
> - 闪存的写入端粒度和擦除端粒度不同 ✅
> - FTL 提供逻辑块地址到物理块地址的映射 ✅
> - 闪存物理页在更新之前要进行擦除 ✅
> - ![[2024-威卷-III-FLASH.png]]
> - ![[2024-威卷-III-FLASH-opt.png]]
> - [[62-SSD]]

2. SRAM 和 DRAM 在断电后都会丢失信息

> ✅
> 前者物理结构是触发器，后者是电容，这两种物理结构都是 volatile 的。
> ![[2024-威卷III-volatile-SRAM.png]]
> 更多关于 SRAM 和 DRAM 的说法：
> - SRAM 不是破坏性读出，而 DRAM 是破坏性读出。✅
> - SRAM 不需要周期性地刷新，而 DRAM 需要。✅
> - SRAM 可以同时送行地址和列地址，DRAM 需要分两次送。✅
> 	- ![[2024-威卷III-DRAM-read.png]]
> - SRAM 访问速度更快、集成度更低、发热量更大、存储成本更高，而 DRAM 与之相反。✅
> - SRAM 为什么是 static 的？
> 	- ![[2024-威卷III-SRAM-static.png]]

3. 总线仲裁中，菊链仲裁的公平性较好

> ❌
> The daisy chain arbitration scheme got its name from the structure for ***the grant line which chains through each device from the highest priority to the lowest priority***.
> The higher priority device will pass the grant line to the lower priority device ONLY if it does not want it so priority is built into the scheme.
> ![[2024-威卷III-daisy-chain-arbitration.png]]
> 总的说来，菊链仲裁还是分布式的、基于优先级的仲裁方式，因此必然存在饥饿现象；而改进为集中式的仲裁器进行仲裁，则可以保证公平。
### Cache

对以下计算两个向量点积的程序段：
```c
float dotproduct(float x[8], float y[8]){
	float sum=0.0;
	int i;
	for(i=0;i<8;i++)
		sum += x[i] * y[i];
	return sum;
}
```

请回答下列问题：
1) 假定数据 cache 采用直接映射方式，数据区容量为 32B，每个主存块大小为 16B；编译器将变量 Sum 和 i 分配在寄存器中，数组 x 存放在 00000040H 开始的 32B 的连续存储区中，数组 y 则紧跟在 x 后进行存放。该程序数据访问的命中率是多少？要求说明每次访问时 cache 的命中情况。

2) 将上述（1）中的数据 cache 改用 2 路组相联映射方式，块大小改为 8B，其他条件不变，则该程序数据访问的命中率是多少？

3) 在上述（1）中条件不变的情况下，将数组 x 定义为 `float[12]`，则数据访问的命中率是多少？

### 流水线

设数据通路中各主要功能单元的操作时间如下。存储器: 400ps; ALU 和加法器: 200ps; 寄存器堆读口或写口: 100ps。假设 MUX、控制单元、PC、扩展器和传输线路等的延迟忽略不计, 程序中指令的组成比例为: 取数指令占 25%; 存数指令占 10%; ALU 运算类指令占 52%; 分支指令占 11%; 跳转指令占 2%。则下面的实现方式中, 哪个更快? 快多少?

1) 单周期方式, 每条指令在一个固定长度的时钟周期内完成，其平均每条指令执行时间为（   ）

2) 多周期方式, 并且每类指令时钟数为: 取数-5, 存数-4, ALU-4, 分支-3, 跳转-2，其平均每条指令执行时间为（    ）

3) 流水线方式, 具体来说, 每条指令分取指令、取数/译码、执行、存储器访问和写回 5 个阶段。假定没有结构冒险; 数据冒险采用“转发”技术处理, 取数指令引发 load-use 数据冒险的概率为 50%; 分支延迟损失时间片为 1, 预测准确率为 75%; 不考虑异常、中断和访问失效引起的流水线阻塞。则流水线下平均 CPI 为（    ）

## 操作系统

### 判断

1. 使用自旋锁，不能保证进程按先来后到的顺序使用 CPU 资源。

> ✅
> 自旋锁会在获取锁的条件不满足时原地死循环，因此当有多个进程在自旋等待时，会形成竞争条件——宏观上并不能决定哪个进程会在锁空闲时获取，因为当前 OS 正在执行哪个进程的自旋是不确定的。

2. SSTF 算法具有最短的平均寻道长度。

> ✅
> Shortest Seek Time First 要求每一次选择寻道目标是距离当前位置最小者，但局部的寻道距离最小不能确保全局也是最小的。

3. Ctrl+C 和 Kill -9 -1 的区别是前者的信号可能被捕获，后者的信号无法被捕获。

> ✅
> 确切地说，这二者发出的信号是不同的，前者为 SIGINT，后者为 SIGKILL，而 SIGKILL 是不可以被捕获、忽略的。
> ![[2024-威卷III-SIGKILL.png]]
> - 更详细的手册：[Termination Signals (The GNU C Library)](https://www.gnu.org/software/libc/manual/html_node/Termination-Signals.html)

### 选择

1. FCFS、RR、SPN、SRT、HRRN 中可能导致进程饥饿的调度算法有（    ）个，有（    ）是抢占式的。

> 能够出现饥饿的调度算法：SPN、SRT
> 抢占式的调度算法：RR、SRT
> 
> ![[50-CPU调度#调度策略]]

### 简答

1. 简述硬链接、软链接的特点。

> **硬链接**：
> - 硬链接通过直接链接到文件的索引节点来完成引用，因此硬链接可以移动原始文件到不同的目录位置仍正确运行
> - 硬链接不可以跨越文件系统、磁盘卷进行链接，因为不同文件系统的索引节点未必相同
> - 硬链接不可以链接到目录，这样是为了避免目录循环问题
> - 硬链接到某个文件或删除某个文件的硬链接，会使得索引节点中的引用计数值相应地增加或减少
> 
> **软链接**：
> - 软链接通过链接到原始文件自身来完成引用，因此原始文件如果移动到不同目录位置，软链接就会失效
> - 软链接可以跨越文件系统和磁盘卷进行链接，因为它实际指向的是文件的位置
> - 软链接可以链接到目录
> - 软链接的引用计数值永远保持为 1，删除时才会归 0

2. 某进程的两个线程 T1 和 T2 并发执行 A~F 共 6 个操作，其中 T1 执行操作 A、E、F，T2 执行操作 B、C、D。下图表示上述 6 个操作必须满足的执行顺序的要求，即 C 必须在 A 和 B 都完成后再执行……请使用信号量的 PV 操作描述 T1 和 T2 之间的同步关系，并说明所用信号量的作用及其初值。
![[2024-威卷-III-PV.png]]

```
sem_t mutex_c=1

T1{

}

T2{

}
```

## 计算机网络

### 判断

1. 虚电路交换网络只在建立时需要进行路由选择。

> ✅
> 虚电路交换网络的思路就是只在建立时进行路由选择，避免后续每个分组都要进行路由选择的开销，并且如此可以稳定一条虚拟的连接，从而确保延迟、吞吐量等可控。
> ![[2024-威卷III-Virtual-circuit.png]]
> ![[2024-威卷III-virtual-circuit-route-table.png]]

2. SNMP 中的管理程序和代理程序按 Client-Server 模式工作，其中管理程序运行 SNMP 服务器程序，而代理程序运行 SNMP 客户端程序。

> ❌
> 和常规模式相反，SNMP 协议中管理程序运行客户端程序，代理程序运行服务端程序：
> ![[2024-威卷III-SNMP-agent.png]]
> 这种异常是因为在 SNMP 中，管理者向受管者建立连接、发送请求。

3. 网桥的自学习算法是一种最简单的生成树算法。

> ❌
> 网桥设备实际上就是路由器，而路由器是动态分配路由路径的，因此不可能使用生成树算法获取固定的链路拓扑。
> ![[60-Link-layer-and-LAN#交换机 Vs. 路由器]]

### 选择/填空

1. 能够抑制广播风暴的网络设备有：（    ）
A. 中继器  B. 集线器  C. 网桥  D. 路由器

> 要能抑制广播风暴，就要能够隔离广播域，而这可以由支持 VLAN 的交换机和路由器实现。
> 网桥是运行在链路层的设备，

2. 将一个 IP 网络划分为 3 个子网，若其中一个子网是 192.168.9.128/26，则下列网络中不可能是另外两个子网之一的是：（    ）
A. 192.168.9.0/25
B. 192.168.9.0/26
C. 192.168.9.192/26
D. 192.168.9.192/27

> 

3. 主机甲和主机乙之间建立一个 TCP 连接，双方持续有数据传输，且数据无差错和丢失。若甲收到一个来自乙的 TCP 段，该段的序号为 1913、确认序号为 2046、有效载荷为 100 Bytes，则甲立即发送给乙的 TCP 段的序号和确认序号分别是（    ）、（    ）

