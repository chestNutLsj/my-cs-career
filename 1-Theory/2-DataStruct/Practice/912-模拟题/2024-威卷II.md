## 数据结构

### 判断题

1. 由 2023个互异节点构成的度为 2 的 BST 的个数，与由 1012 对括号构成的合法表达式一样多。
> ❌
> 2023 个互异节点的 BST，其中叶子节点数比内部节点数多 1，则叶节点数为 1012，内部节点数为 1011，因此相当于 1011 个节点的 BST 数目——Catalan (1011)
> 
> 而 1012 对括号构成的合法表达式数目为 Catalan (12)——可以理解左子为左括号，右子为右括号的二叉树，并且其中必然有一个度数为 1 的节点。

2. 权值各异且单调增加的元素 $a_1,a_2,a_3,...,a_n$ 构成的哈夫曼树 T 中，$a_{i}$ 和 $a_{i+1}$ 所对应的节点要么在同层，要么在相邻层。
> ❌
> 题中“权值各异且单调增加”的元素构成的哈夫曼树中所有叶节点是单调的，其高度与元素中的顺序没有必然关系。
> ![[2024-威卷II-huffman.png]]

3. 跳转表在某层横向跳转的次数的期望是 logn
> ❌
> 单层横向跳转的次数的期望是 `O(1)`
> 而全部的层横向跳转次数的期望才是 `O(logn)`

4. Karp-Rabin 算法指纹相同的概率为 1/M，其中 M 为字符集的大小。
> ❌
> ![[2024-威卷II-karp-rabin.png]]


5. 判断以下 big-Θ-notation 的正误：

> - $(\log n)^{\log n}=\Theta(n^{\log\log n})$ 
> 	- ✅ 两边取 log 后完全等价
> - $[\log n]!=\Theta(n^{\log\log n})$
> 	- ❌ 预测卷 I 中有详细解析，如果说 $[\log n]!=O(n^{\log\log n})$ 则是正确的
> - $n\log n=\Theta[\log(n!)]$ 
> 	- ✅ 由斯特林渐进，$\log (n!)= n\log n-n\log e+O(\log n)$ ，这里 $n\log n$ 占据了主导，因此其满足 Θ 的关系
> - $\log^{*}(\log n)\Theta[\log(\log^{*}n)]$ 
> 	- ❌ 构造 `N=n^n^n^n...` 一共 n 个幂的幂的幂...，此时 $\log^{*}N$ 将不再是一个接近常数的值，转而变成一个变量，数量级大概是 n；而 $\log^{*}(\log N)=\log^{*}N -1=O(n)$ ，而 $\log(\log^{*}N)=\log n$ ，这二者自然不是可以用 Θ 可以表示的。 
> - $2^{2^{n+1}}=\Theta(2^{2^{n}})$
> 	- ❌ $\lim\limits_{n\rightarrow\infty} \frac{2^{2^{n}}}{2^{2^{n+1}}}=\lim\limits_{n\rightarrow\infty} \frac{2^{2^{n}}}{2^{2^{n}}\cdot 2^{2^{n}}}=0$

6. 在任意一棵非空 AVL 树 T1 中，删除某节点 v 后（若失衡，则复衡之）得到树 T2，在 T2 中又添入 v 节点，判断以下叙述的正误，并举出例子：
A. 若 v 是 T1 的叶节点，则 T1 和 T3 可能不相同
B. 若 v 不是 T1 的叶节点，则 T1 和 T3 一定不相同

> A ✅ 如果删除叶节点导致失衡，则旋转后未必保持原位：
> ![[2024-威卷II-AVL-del-insert.png]]
> 
> B ❌
> ![[2024-威卷II-avl-del-internal-insert.png]]

### 填空题

1. 对非法表达式 `12 3 + ! 4 * + 3` 进行求值的结果是（    ）
> ![[2024-威卷II-error-evaluate.png]]

2. 排序算法 bubble, selection, insersion, binary insersion, merge, heap, tournament, quick 的最好、平均、最坏复杂度分别是：

| algo    | bubble   | selection | insersion | binary insersion | merge        | heap         | tournament   | quick        |
| ------- | -------- | --------- | --------- | ---------------- | ------------ | ------------ | ------------ | ------------ |
| Best    | $O(n)$   | $O(n^2)$  | $O(n)$    | $O(n\log n)$     | $O(n\log n)$ | $O(n\log n)$ | $O(n\log n)$ | $O(n\log n)$ |
| Average | $O(n^2)$ | $O(n^2)$  | $O(n^2)$  | $O(n^2)$         | $O(n\log n)$ | $O(n\log n)$ | $O(n\log n)$ | $O(n\log n)$ |
| Worst   | $O(n^2)$ | $O(n^2)$  | $O(n^2)$  | $O(n^2)$         | $O(n\log n)$ | $O(n\log n)$ | $O(n\log n)$ | $O(n^2)$     |

> - 这里对于 bubble、binary insersion 来说，最好情况就是已经升序有序，则 bubble 只需要扫描一遍，而 binary insersion 虽然不用移动，但仍是需要每轮比较 $\log k$ 次，k 是该轮里 sorted 区间的长度；
> - selection 由于每轮都要从 unsorted 区间中找出最大值，因此总是要比较 n 次（虽然 n 会递减，但数列和仍然是 $O(n^2)$ 量级）；

3. 默写一遍从 `ss[]` 构造 `gs[]` 的策略
> 1) `ss[j]=j+1` 时，对所有 `i<m-j-1`，`m-j-1` 都是 `gs[i]` 的一个可选项；
> 2) `ss[j]<=j` 时，`m-j-1` 是 `gs[m-ss[j]-1]` 的可选项；

4. 考查表达式求值算法。算法执行过程中的某时刻，若操作符栈中的括号多达 2010 个，则此时栈的规模（含栈底的'\\0'）至多可能多大？试说明理由，并示意性地画出当时栈中的内容。

> `(2010+1)*4+1 = 8045` 个字符，栈中内容是：`\0+*^(+*^(+*^(...(+*^(+*^!`，其中 $+$ 和 $\times$ 可以用相同优先级的运算符 $-$ 或 $\div$ 代替。


### 算法题

1. 对于一个无重复元素的有序循环数组 num，返回其中的最小值。有序循环数组的定义是，有序数组左边任意长度的部分依次序放到数组的末尾，右边的部分依次前移。比如有序数组 `[12345]`，其可生成的有序循环数组有 `[23451]`, `[45123]`...。设计尽可能高效的算法，并给出复杂度。

> 二分搜索即可，只不过每轮只需要与首元素比较大小即可——如果大于，则搜索右侧区间，否则搜索左侧区间。
> ![[2024-威卷II-circular-arr-1.png]]
> 
> ![[2024-威卷II-circular-arr-2.png]]
> 
> ![[2024-威卷II-circular-arr-3.png]]


2. 一棵 BST 的节点中，有 data 域和 size 域，其中 data 域存放节点所存储的数据，size 域存放以该节点为根的子树中的节点数目。示意图如下：
![[2024-威卷II-bst-inorder-seq.png]]
设树高为 h，试写出时间复杂度为 $O(h)$ 的算法，其能够确定某个节点在中序遍历中的次序（从 1 开始）。如上图中 21节点，其在中序遍历中的次序为 11。

```
func rank(T:Tree, x:node):
{
	if (x.lchild = nil)
		int r = 1;
	else int r = x.lchild.size + 1;
	
	node y=x;
	while (y!=T){
		// r表示以y为根的子树中，节点x的rank值，因此当y更新到根时，即为所求
		if (y==y.parent.rchild){
			// 当y是其父亲的右子时，y的父亲节点的左子树中所有节点及父节点本身
			// 在中序序列中都在y的前面
			if (y.parent.lchild = nil)
				r = r+1;
			else r = r+y.parent.lchild.size+1;
		}
		y = y.parent;
		
	} // end of while()
	return r;
} // end of func()
```

## 组成原理

### 判断题

1. 一次访存过程中，可能发生 TLB 命中，页表未命中，Cache 命中。

> ❌
> TLB 命中，得到虚拟地址 -> 访问页表，未命中，未得到物理地址 -> 无法查找 Cache

2. RISC 只采用硬连线控制，而不采用微程序控制。
> ✅
> ![[2024-威卷II-RISC-vs-CISC.png]]
> 为什么 RISC 只使用硬布线控制器？
> RISC 中指令的数量有限且是定长，不会经常性地扩充，因此使用硬布线控制器既可以提高指令取指、运行的速度，又可以避免 CISC 那样常常需要修改数据通路的繁琐。

3. RISC 通用寄存器的数目比 CISC 中的数目要多。
> ✅
> 上图中可以看到 RISC 中需要的通用寄存器数更多。
> 为什么？
> 因为 RISC 指令定长、且种类较少，因此需要大量的短指令完成 CISC 中长指令同样的功能，因此运算中需要更多的通用寄存器存储中间值。

4. MIPS 中 R 类型指令的数据通路设计中，一定具有读口和写口的通用寄存器组，一定有一个 ALU 用于对寄存器读出的数据进行运算，一定有一条路径使 ALU 的输出被送到某个寄存器。执行 R 类型指令时通用寄存器组的“WrEn”信号一定为 1。
> ✅
> 下面的数据通路虽然是 RISC-V 的，但是和 MIPS 的结构是一样的。
> ![[22-Datapath#支持 R 型指令的数据通路设计]]

5. 某主存按字节编址，Cache 共有 64 行，采用 4 路组相联的映射方式，主存块大小为 32B，所有编号都从 0 开始。主存第 2593 号单元所在的主存块对应的 cache 的组号是 （   ）


### 选择/填空题

1. 增加同步总线带宽的手段有很多，但以下不能提高总线带宽的是（    ）
A. 采用信号线复用技术
B. 增加总线宽度
C. 采用突发传送方式
D. 提高总线时钟频率

> A 复用无论是时分复用还是频分复用，都是从原总线带宽 N 分配出去，给不同的事务使用，因此总线带宽是没有变化的。
> B 增加总线宽度，意味着单个周期内能够传送的数据量更多，因此带宽自然提升了。
> C 突发传送方式意味着不需要经过总线仲裁器仲裁，因此减少了常规的仲裁用时，故而单位数据量的用时缩短，因此带宽也提升了。
> D 增加总线时钟频率，意味着传送单位数据的用时更短，因此带宽也提升了。
> 
> 其它可以提高总线带宽的方式：
> - 分别设置数据总线和地址总线：同时传输数据和地址，而不必分成两个时钟周期；
> - 成组传送：只传一次地址，然后传多次数据；


2. 若一个 float 类型的变量 x 有机器数 0x45100000 ，则变量 x 的值是多少？


3. 对以下代码，若采用一位预测位的流水线处理器执行，预测位初始为 0，试分析当 N=10 时，该程序段中各分支指令的预测正确率（    ）
```
// C
int sum(int N){
	int i,j,sum=0;
	for(i=0;i<N;i++)
		for(j=0;j<N;j++)
			sum += 1;
	
	return sum;
}

// ASM
Loop-i: beq $t1,$a0,Exit-i
		add $t2,$zero,$zero
Loop-j: beq $t2,$a0,Exit-j
		addi $t2,$t2,1
		addi $t0,$t0,1
		j Loop-j
Exit-j: addi $t1,$t1,1
		j Loop-i
Exit-i:...
```

4. 若上述题改成二位预测位，初始时为 00，重新计算预测正确率（    ）


5. 设计指令系统时，假设采用 16 位定长指令字格式，操作码使用拓展编码方式，地址码为 6 位，包括零地址、一地址、二地址 3 种指令格式的指令，其中二地址指令有 12条，一地址指令有 254条，则零地址指令的条数最多为（   ）
> 二地址指令的 opcode 从 0000 ~ 1011
> 一地址指令的 opcode 从 1100 000000 ~ 1111 111101
> 零地址指令的 opcode 从 1111 111110 000000 ~ 1111 111111 1111111 故共 128条

### 流水线大题

某计算机指令流水线由 6 个功能段组成，依次为 A~F，每个功能段的组合逻辑延迟分别为 80ps、30ps、60ps、50ps、60ps、20ps，最后一个功能段需要写寄存器，寄存器延时为 20ps。在这些组合逻辑块之间插入必要的流水段寄存器就可实现相应的指令流水线。理想情况下，以下各种方式所得到的时钟周期、指令吞吐率和指令执行时间各是多少？应该在哪里插入流水段寄存器？（假定插入的流水段寄存器的延时也为 20ps）
根据对以下 4 种情况的分析，你能得到什么结论？
（1）插入一个流水段寄存器，得到一个两级流水线。
（2）插入两个流水段寄存器，得到一个三级流水线。
（3）插入三个流水段寄存器，得到一个四级流水线。
（4）吞吐量最大的流水线。

改成填空题
（1）中每条指令的执行时间是 未作答 380 ps
（2）中的时钟周期为 未作答 130 ps
（3）中的吞吐量为（    ）G 条指令/s（保留两位小数）
（4）吞吐量最大的流水线分为了（    ）个流水段

## 操作系统

### 判断题

1. 管程将资源抽象为条件变量，通过变量值的增减来控制进程的访问。


2. file1 引用计数为 2，建立一个软链接 file2，再建立一个硬链接 file3，file3 建立一个硬链接 file4，则此时 file2 的引用计数为 2，file4 的引用计数为 4。
> ❌
> 符号链接的引用计数永远是 1，硬链接的引用计数等于硬链接文件数+1（文件自身）
> ![[72-符号链接与硬链接#^aa4418]]

3. 改进版 CLOCK 算法的缺页率不一定比 CLOCK 的缺页率低，但至少不会比 CLOCK 的缺页率更高。
> ❌

4. OS 采用 COW 机制时，fork ()函数不会复制进程的页目录表。
> ✅

### 简答题

1. 文件分配的三种方式是：（   ）（   ）（   ）。分别有什么特征？（存储、文件读写、可靠性）
> 

### 虚存大题

## 计算机网络

### 判断题

1. 一个 VLAN 端口可以被标记为多种 VLAN 颜色。
> ✅
> 考查的是 trunking 干线这个知识点。下面图来自 Cisco 的问答网页：
> ![[2024-威卷II-VLAN-trunk.png]]

2. CSMA/CD 和 p 坚持型 CSMA 都需要分时槽。
> ✅

3. 一个 VLAN 组成一个广播域。
> ✅
> 姊妹问题：一个 VLAN 组成一个冲突域。 ❌
> 区分广播域和冲突域：
> 

### TCP 拥塞控制

TCP 使用慢启动算法，初始阈值为 400KB，接收方窗口大小为 600KB，mss=100KB，填写以下列表：

![[IMG_1318(20231206-223823).png]]

A~H 依次填入阿拉伯数字：