### 3.7.1　测试对象的等价性

关系操作符==和！=也适用于所有对象，但这两个操作符通常会使第一次接触Java的程序员感到迷惑。下面是一个例子：

![077-2](../Images/image02664.jpeg)

语句System.out.println（n1 == n2）将打印出括号内的比较式的布尔值结果。读者可能认为输出结果肯定先是true，再是false，因为两个Integer对象都是相同的。但是尽管对象的内容相同，然而对象的引用却是不同的，而==和！=比较的就是对象的引用。所以输出结果实际上先是false，再是true。这自然会使第一次接触关系操作符的人感到惊奇。

如果想比较两个对象的实际内容是否相同，又该如何操作呢？此时，必须使用所有对象都适用的特殊方法equals()。但这个方法不适用于“基本类型”，基本类型直接使用==和！=即可。下面举例说明如何使用：

![077-3](../Images/image02665.jpeg)

结果正如我们所预料的那样。但事情并不总是这么简单！假设你创建了自己的类，就像下面这样：

![078-2](../Images/image02666.jpeg)

事情再次变得令人费解了：结果又是false！这是由于equals()的默认行为是比较引用。所以除非在自己的新类中覆盖equals()方法，否则不可能表现出我们希望的行为。

遗憾的是，我们要到第7章才学习覆盖，到第17章才学习如何恰当地定义equals()。但在这之前，请留意equals()的这种行为表现方式，这样或许能够避免一些“灾难”。

大多数Java类库都实现了equals()方法，以便用来比较对象的内容，而非比较对象的引用。

练习5：（2）创建一个名为Dog的类，它包含两个String域：name和says。在main()方法中，创建两个Dog对象，一个名为spot（它的叫声为“Ruff！”），另一个名为scruffy（它的叫声为“Wurf！”）。然后显示它们的名字和叫声。

练习6：（3）在练习5的基础上，创建一个新的Dog索引，并对其赋值为spot对象。测试用==和equals()方法来比较所有引用的结果。