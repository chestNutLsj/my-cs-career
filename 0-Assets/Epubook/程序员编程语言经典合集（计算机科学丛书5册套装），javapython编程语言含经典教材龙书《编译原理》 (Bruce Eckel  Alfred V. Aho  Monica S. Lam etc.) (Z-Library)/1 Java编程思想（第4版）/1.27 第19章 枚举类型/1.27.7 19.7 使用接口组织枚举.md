## 19.7　使用接口组织枚举

无法从enum继承子类有时很令人沮丧。这种需求有时源自我们希望扩展原enum中的元素，有时是因为我们希望使用子类将一个enum中的元素进行分组。

在一个接口的内部，创建实现该接口的枚举，以此将元素进行分组，可以达到将枚举元素分类组织的目的。举例来说，假设你想用enum来表示不同类别的食物，同时还希望每个enum元素仍然保持Food类型。那可以这样实现：

![630-3](../Images/image03581.jpeg)

对于enum而言，实现接口是使其子类化的唯一办法，所以嵌入在Food中的每个enum都实现了Food接口。现在，在下面的程序中，我们可以说“所有东西都是某种类型的Food”：

![631-1](../Images/image03582.jpeg)

如果enum类型实现了Food接口，那么我们就可以将其实例向上转型为Food，所以上例中的所有东西都是Food。

然而，当你需要与一大堆类型打交道时，接口就不如enum好用了。例如，如果你想创建一个“枚举的枚举”，那么可以创建一个新的enum，然后用其实例包装Food中的每一个enum类：

![631-2](../Images/image03583.jpeg)

在上面的程序中，每一个Course的实例都将其对应的Class对象作为构造器的参数。通过getEnumConstants()方法，可以从该Class对象中取得某个Food子类的所有enum实例。这些实例在randomSelection()中被用到。因此，通过从每一个Course实例中随机地选择一个Food，我们便能够生成一份菜单：

![631-3](../Images/image03584.jpeg)

在这个例子中，我们通过遍历每一个Course实例来获得“枚举的枚举”的值。稍后，在VendingMachine.java中，我们会看到另一种组织枚举实例的方式，但其也有一些其他的限制。

此外，还有一种更简洁的管理枚举的办法，就是将一个enum嵌套在另一个enum内。就像这样：

![632-2](../Images/image03585.jpeg)

Security接口的作用是将其所包含的enum组合成一个公共类型，这一点是有必要的。然后，SecurityCategory才能将Security中的enum作为其构造器的参数使用，以起到组织的效果。

如果我们将这种方式应用于Food的例子，结果应该这样：

![633-1](../Images/image03586.jpeg)

其实，这仅仅是重新组织了一下代码，不过多数情况下，这种方式使你的代码具有更清晰的结构。

练习3：（1）向Course.java中添加一个新的Course，证明它在Meal.java中能正确工作。

练习4：（1）针对Meal2.java，重复前一个练习。

练习5：（4）修改control/VowelsAndConsonants.java，使用3个enum类型：VOWEL，SOMETIMES_A_VOWEL，以及CONSONANT。其中的enum构造器应该可以接受属于不同类别的各种字母。提示：使用可变参数。要记住，可变参数会自动为你创建一个数组。

练习6：（3）试比较以下两种方式的优缺点：第一：将Appetizer、MainCourse、Desert和Coffee嵌入在Food内部；第二：将它们实现为单独的enum，并各自实现Food接口。