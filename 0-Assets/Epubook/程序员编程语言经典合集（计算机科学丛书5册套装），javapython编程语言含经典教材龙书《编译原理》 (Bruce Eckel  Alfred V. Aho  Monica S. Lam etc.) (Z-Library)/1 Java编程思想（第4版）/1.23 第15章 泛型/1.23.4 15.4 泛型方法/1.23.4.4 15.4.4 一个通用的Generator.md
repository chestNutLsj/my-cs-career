### 15.4.4　一个通用的Generator

下面的程序可以为任何类构造一个Generator，只要该类具有默认的构造器。为了减少类型声明，它提供了一个泛型方法，用以生成BasicGenerator：

![397-3](../Images/image03199.jpeg)

这个类提供了一个基本实现，用以生成某个类的对象。这个类必需具备两个特点：（1）它必须声明为public。（因为BasicGenerator与要处理的类在不同的包中，所以该类必须声明为public，并且不只具有包内访问权限。）（2）它必须具备默认的构造器（无参数的构造器）。要创建这样的BasicGenerator对象，只需调用create()方法，并传入想要生成的类型。泛型化的create()方法允许执行BasicGenerator.create（MyType.class），而不必执行麻烦的new BasicGenerator<MyType>（MyType.class）。

例如，下面是一个具有默认构造器的简单的类：

![398-2](../Images/image03200.jpeg)

CountedObject类能够记录下它创建了多少个CountedObject实例，并通过toString()方法告诉我们其编号。

使用BasicGenerator，你可以很容易地为CountedObject创建一个Generator：

![398-3](../Images/image03201.jpeg)

可以看到，使用泛型方法创建Generator对象，大大减少了我们要编写的代码。Java泛型要求传入Class对象，以便也可以在create()方法中用它进行类型推断。

练习14：（1）修改BasicGeneratorDemo.java类，使其显式地构造Generator（也就是不使用create()方法，而是使用显式的构造器）。