## 7.3　代理

第三种关系称为代理，Java并没有提供对它的直接支持。这是继承与组合之间的中庸之道，因为我们将一个成员对象置于所要构造的类中（就像组合），但与此同时我们在新类中暴露了该成员对象的所有方法（就像继承）。例如，太空船需要一个控制模块：

![164-1](../Images/image02832.jpeg)

构造太空船的一种方式是使用继承：

![164-2](../Images/image02833.jpeg)

然而，SpaceShip并非真正的SpaceShipControls类型，即便你可以“告诉”SpaceShip向前运动（forward（））。更准确地讲，SpaceShip包含SpaceShipControls，与此同时，SpaceShipControls的所有方法在SpaceShip中都暴露了出来。代理解决了此难题：

![164-3](../Images/image02834.jpeg)

可以看到，上面的方法是如何转递给了底层的controls对象，而其接口由此也就与使用继承得到的接口相同了。但是，我们使用代理时可以拥有更多的控制力，因为我们可以选择只提供在成员对象中的方法的某个子集。

尽管Java语言不直接支持代理，但是很多开发工具却支持代理。例如，使用JetBrains Idea IDE就可以自动生成上面的例子。

练习11：（3）修改Detergent.java，让它使用代理。