### 22.8.17　文件对话框

某些操作系统具有大量特殊的内置对话框，它们可以处理诸如选择字体、颜色、打印机等操作。基本上所有的图形操作系统都支持打开和保存文件，所以Java提供了JFileChooser，它封装了这些操作，使文件操作变得更加方便。

下面的程序演练了两个JFileChooser对话框，一个用来打开文件，一个用来保存文件。大多数代码读者现在应该都已经很熟悉了，所有有趣的行为都集中在处理两个按钮单击事件的动作监听器中：

![841-1](../Images/image03856.jpeg)

![842-1](../Images/image03857.jpeg)

注意JFileChooser的使用有很多种变化，包括使用过滤器来缩小可供选择的文件名范围等。

对于“打开文件”对话框，调用showOpenDialog()方法；对于“保存文件”对话框，调用showSaveDialog()。这些命令直到对话框关闭的时候才会返回。此时JFileChooser对象仍旧存在，所以能够从中读取数据。getSelectedFile()和getCurrentDirectory()这两种方法用来查询操作的返回结果。如果它们的返回为空，就表示用户已经取消操作并关闭了对话框。

练习29：（3）在javax.swing的JDK文档中，查找JColorChooser。写一个程序，加入一个按钮，它可以弹出用来选择颜色的对话框。