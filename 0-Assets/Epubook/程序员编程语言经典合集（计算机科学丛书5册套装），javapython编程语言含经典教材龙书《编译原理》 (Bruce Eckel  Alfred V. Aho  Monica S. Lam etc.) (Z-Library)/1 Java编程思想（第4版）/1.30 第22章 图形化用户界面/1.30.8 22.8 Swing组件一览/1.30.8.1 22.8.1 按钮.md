### 22.8.1　按钮

Swing提供了许多类型的按钮。所有的按钮，包括复选框、单选按钮，甚至菜单项，都是从AbstractButton（因为包含了菜单项，所以将其命名为“AbstractSelector”或者其他概括性的名字似乎更恰当一些）继承而来。很快你就会看到菜单项的使用，下面的例子演示了几种按钮：

![819-1](../Images/image03827.jpeg)

程序开始加入了来自javax.swing.plaf.basic的BasicArrowButton，然后又加入了几种不同类型的按钮。运行例子，你会发现触发器按钮（JToggleButton）能保持自身最新的状态：按下或者弹出。不过复选框和单选按钮看起来差不多，也都是在开和关之间切换（它们都是从JToggleButton继承而来）。

按钮组

要想让单选按钮表现出某种“排它”行为，必须把它们加入到一个“按钮组”（ButtonGroup）中。不过，正如下面的例子所演示的，任何AbstractButton对象都可以加入到按钮组中。

为了避免重复编写大量的代码，下面这个例子使用了反射功能来产生几组不同类型的按钮。注意makeBPanel()方法，它用来创建一个按钮组和一个JPanel，此方法的第二个参数是一个字符串数组。针对其中每个字符串，将创建一个由第一参数所代表的按钮实例，然后将此按钮加入到JPanel中：

![819-2](../Images/image03828.jpeg)

![820-1](../Images/image03829.jpeg)

边框的标题是从类的名称中得到的，并且去掉了其中的路径信息。AbstractButton被初始化为一个标签为“Failed”的JButton对象，所以即使你忽略了异常，仍旧能够在屏幕上观察到失败。getConstructor()方法产生一个Constructor对象，这个构造器对象接受“传递给getConstructor()的Class列表里面指定的类型”所组成的数组作为参数。然后你要做的就是调用newInstance()，并且把包含实际参数列表传递给它，在本例中就是ids数组中的字符串。

要想通过按钮得到“排它”行为，就得先创建一个按钮组，然后把你希望具有“排它”行为的按钮加入到这个按钮组中。运行程序，你将发现除了JButton以外，其他按钮都具有了这种“排它”行为。