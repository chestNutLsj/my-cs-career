### 22.8.20　选择外观

“可插拔外观”使你的程序能够模仿不同的操作系统的外观。你甚至可以在程序运行期间动态改变程序的外观。不过，通常只会在以下二者中选择一个：要么选择“跨平台”的外观（即Swing的“金属”外观）；要么选择程序当前所在系统的外观，这样你的Java程序看起来就好像是为该系统专门设计的（在大多数情况下，这的确是最好的选择，而且可以避免误导用户）。实现这两种行为的代码都很简单，不过你要确保在创建任何可视组件之前先调用这些代码，这是因为组件是根据当前的外观而创建的，而且创建之后就不会改变（很少会在程序运行的时候改变程序的外观，这个过程相当复杂，这方面的内容可以参考专门研究Swing的书）。

实际上，如果要使用跨平台的“金属”外观（它是Swing程序的特征），那么什么都不用做，因为它是默认外观。不过要想使用当前操作系统的外观[^7]的开头，至少也要在添加任何组件之前：

![844-1](../Images/image03861.jpeg)

在catch子句中你什么也不用做，因为一旦你的设置代码失败了，UIManager默认将设置成跨平台的外观。不过在调试的时候，异常非常有用，所以你也许希望通过catch子句看看所发生的问题。

下面的程序能通过命令行参数选择外观，这里选择了几种组件，演示了它们在选择不同的外观时的表现：

![844-2](../Images/image03862.jpeg)

![845-1](../Images/image03863.jpeg)

可以观察到，一种选择是明确地使用字符串来指定外观，比如MotifLookAndFeel外观。而且，只有这个外观和默认的“金属”外观能够合法地在所有平台上使用；尽管有针对Windows和Macintosh外观的字符串，但它们只能在各自的平台上使用才合法（当在这些平台上调用getSystemLookAndFeelClassName()方法时，可以得到相应的字符串）。

自己编写一种外观也是可以的，比如，当你为某个公司编写框架代码时，他们要求有独特的外观。这是一项大工程，这远远超出了本书的范围。（事实上，你会发现这也超出了许多专业Swing书的范围！）