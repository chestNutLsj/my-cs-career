### 22.14.4　菜单

为了演示基本的菜单，下面的程序将读入它自己的源代码，将其断开为单词，然后用这些单词组装菜单：

![881-3](../Images/image03917.jpeg)

![882-1](../Images/image03918.jpeg)

Menu必须置于某个Shell之上，并且Composite允许你用getShell()获取它的shell。TextFile来自net.mindview.util，并且在前面已经描述过。这里TreeSet是用单词填充的，因此它们将按照排序顺序地出现，其中最初的元素是数字，它们将被丢弃掉。通过使用单词流，先命名菜单条上的顶级菜单，然后创建子菜单，并用单词来填充它，直至没有更多的单词位置。

在对选取菜单项的响应中，Listener直接打印了事件，因此你可以看到它包含什么类型的信息。当你运行这个程序时，将会看到部分信息包括菜单上的标签，因此可以根据这些信息来产生对不同菜单的响应，或者你可以为每个菜单都提供一个不同的监听器（对于国际化来说，这是一种更安全的方式）。