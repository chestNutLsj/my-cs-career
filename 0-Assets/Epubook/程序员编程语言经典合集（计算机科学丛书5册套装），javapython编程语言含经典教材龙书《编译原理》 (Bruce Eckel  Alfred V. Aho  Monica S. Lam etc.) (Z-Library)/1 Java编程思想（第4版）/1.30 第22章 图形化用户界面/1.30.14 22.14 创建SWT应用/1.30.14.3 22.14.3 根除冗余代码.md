### 22.14.3　根除冗余代码

在继续学习之前请注意，有些事情是你在每个SWT应用程序中都会做的，这与Swing程序中的重复动作一样。对于SWT，你总是得创建Display，从Display中创建Shell，然后创建readAndDispatch()等等。当然，对于某些特殊情况，你可以不做这些，但是它非常普遍，绝对值得去根除这些重复代码，就像在net.mindview.util.SwingConsole中所作的那样。

我们需要强制每个应用程序遵循下面的接口：

![880-2](../Images/image03914.jpeg)

应用程序应该提交给了Composite对象（Shell是它的一个子类），并且应该用它在createContents()内部创建其所有的内容。SWTConsole.run()会在恰当的地方调用createContents()，根据用户传递给run()的参数来设置shell的尺寸，打开shell，然后运行事件循环，最终在程序退出时释放shell：

![880-3](../Images/image03915.jpeg)

这个类还会将标题栏设置为SWTApplication类的名字，并设置Shell的width和height。

我们可以创建一个DisplayProperties.java的变体，它可以用SWTConsole来显示机器环境：

![881-2](../Images/image03916.jpeg)

SWTConsole使得我们可以聚焦于应用程序中的有趣方面，而不是重复性的方面。

练习40：（4）修改DisplayProperties.java，让其使用SWTConsole。

练习41：（4）修改DisplayEnvironment.java，让其不使用SWTConsole。