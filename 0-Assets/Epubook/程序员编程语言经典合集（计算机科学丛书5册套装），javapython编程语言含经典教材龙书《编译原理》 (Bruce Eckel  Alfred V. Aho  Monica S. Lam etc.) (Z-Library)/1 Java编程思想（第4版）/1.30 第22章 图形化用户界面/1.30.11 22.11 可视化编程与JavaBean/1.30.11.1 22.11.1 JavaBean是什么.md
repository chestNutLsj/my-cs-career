### 22.11.1　JavaBean是什么

在剥去层层包裹之后，组件只不过就是一段代码，通常以类的形式出现。对于组件来说，关键在于要具有“能够被IDE构建工具侦测其属性和事件”的能力。要编写一个VB组件，程序员不得不根据某些固定规则编写相当复杂的代码，以暴露出组件的属性和方法（数年之后这已经变得容易多了）。Delphi作为第二代可视化编程工具，语言本身就是围绕着可视化编程而设计的，所以编写可视化组件要容易很多。然而，通过引入JavaBean，Java把可视化组件的创建带到了最高的层次，因为Bean就是一个类。要编写一个Bean，你不必添加任何特殊代码或者使用任何特殊的语言功能。实际上你唯一要做的就是，对方法的名称做少许修改。通过方法的名称就能告诉应用程序构建工具，这是一个属性、一个事件，还是只是一个普通方法。

在JDK文档中，命名规则使用了错误的术语“设计模式”（design pattern）。这是不恰当的，因为设计模式（参考www.MindView.com网站上的《Thinking in Patterns（with Java）》）即使不与这些概念混在一起，其本身也具有足够的挑战性。这不是设计模式，这只是一个命名规则，而且非常简单：

1）对于一个名称为xxx的属性，通常你要写两个方法：getXxx()和setXxx()。任何浏览这些方法的工具，都会把get或set后面的第一个字母自动转换为小写，以产生属性名。get方法返回的类型要与set方法里参数的类型相同。属性的名称与get和set所依据的类型毫无关系。

2）对于布尔型属性，可以使用以上get和set的方式，不过也可以把get替换成is。

3）Bean的普通方法不必遵循以上的命名规则，不过它们必须是public的。

4）对于事件，要使用Swing中处理监听器的方式。这与前面所见到的完全相同——addBounceListener（BounceListener）和removeBounceListener（BounceListener）用来处理BounceEvent事件。大多数情况下，内置的事件和监听器就能够满足需求了，不过也可以自己编写事件和监听器接口。

我们可以使用这些规则编写一个简单的Bean：

![858-1](../Images/image03880.jpeg)

首先，你可以发现这只是一个类。通常，所有的字段都是私有的，只能通过方法和属性进行访问。根据命名规则，Bean的属性是jumps、color、spots和jumper（注意属性名称第一个字母的大小写变化）。对于前三个属性，其名称与其内部标识符的名称相同，不过通过jumper你会发现，属性名称并不要求你为内部变量使用任何特定的标识符（或者，实际上甚至不需要有任何内部变量与属性对应）。

根据add和remove方法对相关监听器的命名可以看出，这个Bean所处理的事件是ActionEvent和KeyEvent。最后，你可以发现普通方法croak()也是Bean的一部分；这只是因为它是公共方法，而不是因为它遵循了任何命名规则。