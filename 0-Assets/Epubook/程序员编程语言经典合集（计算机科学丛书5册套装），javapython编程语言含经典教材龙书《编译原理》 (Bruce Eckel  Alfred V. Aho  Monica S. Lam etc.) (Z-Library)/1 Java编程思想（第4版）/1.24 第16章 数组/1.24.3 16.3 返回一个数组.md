## 16.3　返回一个数组

假设你要写一个方法，而且希望它返回的不止一个值，而是一组值。这对于C和C++这样的语言来说就有点困难，因为它们不能返回一个数组，而只能返回指向数组的指针。这会造成一些问题，因为它使得控制数组的生命周期变得很困难，并且容易造成内存泄漏。

在Java中，你只是直接“返回一个数组”，而无需担心要为数组负责——只要你需要它，它就会一直存在，当你使用完后，垃圾回收器会清理掉它。

下例演示如何返回String型数组：

![469-4](../Images/image03333.jpeg)

![470-1](../Images/image03334.jpeg)

方法flavorSet()创建了一个名为results的String数组。此数组容量为n，由传入方法的参数决定。然后从数组FLAVORS中随机选择元素（即“味道”），存入results数组中，它是方法所最终返回的数组。返回一个数组与返回任何其他对象（实质上是返回引用）没什么区别。数组是在flavorSet()中被创建还是在别的地方被创建，这一点并不重要。当使用完毕后，垃圾回收器负责清理数组；而只要还需要它，此数组就会一直存在。

说句题外话，注意当flavorSet()随机选择各种数组元素“味道”时，它确保不会重复选择。由一个do循环不断进行随机选择，直到找出一个在数组picked中还不存在的元素。（当然，还会比较String以检查随机选择的元素是否已经在数组results中。）如果成功，将此元素加入数组，然后查找下一个（i递增）。

从输出中可以看出，flavorSet()每次确实是在随机选择“味道”。

练习2：（1）编写一个方法，它接受一个int参数，并返回一个具有该尺寸的数组，用BerylliumSphere对象填充该数组。