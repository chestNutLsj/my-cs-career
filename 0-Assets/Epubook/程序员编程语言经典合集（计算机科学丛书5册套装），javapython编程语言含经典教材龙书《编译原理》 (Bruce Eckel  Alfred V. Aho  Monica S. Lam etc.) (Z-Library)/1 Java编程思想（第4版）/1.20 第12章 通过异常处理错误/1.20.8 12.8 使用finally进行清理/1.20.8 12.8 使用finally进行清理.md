## 12.8　使用finally进行清理

对于一些代码，可能会希望无论try块中的异常是否抛出，它们都能得到执行。这通常适用于内存回收之外的情况（因为回收由垃圾回收器完成）。为了达到这个效果，可以在异常处理程序后面加上finally子句[^4]。完整的异常处理程序看起来像这样：

![297-3](../Images/image03029.jpeg)

为了证明finally子句总能运行，可以试试下面这个程序：

![298-2](../Images/image03030.jpeg)

可以从输出中发现，无论异常是否被抛出，finally子句总能被执行。

这个程序也给了我们一些思路，当Java中的异常不允许我们回到异常抛出的地点时，那么该如何应对呢？如果把try块放在循环里，就建立了一个“程序继续执行之前必须要达到”的条件。还可以加入一个static类型的计数器或者别的装置，使循环在放弃以前能尝试一定的次数。这将使程序的健壮性更上一个台阶。