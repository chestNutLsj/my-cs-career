   

### 12.3.2　链表

链表是一种动态数据结构，它将列表中的项彼此链接了起来。图12.4以概略图的形式展示了一个链表，与所有链式数据结构一样，链表包含被称为节点的对象。在图中，节点是用水平线一分为二的方框，每个节点都有一个用于存储数据的位置和一个用于持有对另一个节点的链接的位置。但是，当初次接触链表时，我们可以将“链接”直接想作箭头。在链表中，每个节点都只包含一个链接，而节点是按照一个接一个的方式排列的，这样就构成了列表，如图12.4所示。直觉上，你的代码是顺着链接从一个节点移动到另一个节点。

标记为head的链接不在节点列表中，实际上，它甚至不是一个节点，而是一个让我们可以获得第一个节点的链接。在实现中，head将包含一个对节点的引用，因此，head是节点类型的变量。你的程序可以很容易地在列表中按顺序从第一个节点到最后一个节点顺着“箭头”移动。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11363.jpeg)

图12.4　链表

回顾：链表

链表是一种包含被称为节点的对象的数据结构。每个节点都包含数据和对另一个节点的引用，使得节点链接在一起，形成了列表，如图12.4所示。

现在，让我们来看一看我们到底可以怎样用Java实现链表。每个节点都是具有两个实例变量的类：一个实例变量表示数据，一个实例变量表示链接。程序清单12.4给出了一个Java类定义，可以用作如图12.4所示的链表的节点类。在这个案例中，每个节点中数据都包含单个String值[^1]。正如在程序清单12.4中所标注的，我们后续会让这个节点类成为私有的。

程序清单12.4　节点类

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11364.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11365.jpeg)

注意，程序清单12.4中的ListNode类的link实例变量是ListNode类型的。这种关系看起来好像是循环的，在某种意义上说，确实如此。但是，这种类定义在Java中完全合法。回忆一下，类类型的变量持有的是对该类对象的引用。因此，ListNode类的link实例变量包含的是对ListNode类的另一个对象的引用。所以，正如图12.4中的箭头所示，链表的每个节点对象都在其link实例变量中包含一个对ListNode类的另一个对象的引用，这个被引用的对象又包含一个对ListNode另一个对象的引用，以此类推，直至链表的末尾。

在处理链表时，我们的代码需要能够“到达”第一个节点，并且需要某种方式能够探测是否到达了最后一个节点。为了到达第一个节点，我们可以使用一个ListNode类型的变量，它包含对第一个节点的引用。正如之前提到的，这个变量并不是列表中的节点。在图12.4中，包含对第一个节点的引用的变量称为头节点，使用head这个名字来命名包含了对第一个节点的引用的变量是一种很普遍的做法。实际上，我们称head为头引用。

在Java中，我们通过将最后一个节点对象的link实例变量设置为null来表示链表的末尾，如图12.4所示。通过这种方式，我们的代码就可以通过测试某个节点的link实例变量是否包含null来测试这个节点是否是链表中的最后一个节点。回忆一下，我们是通过使用==操作符来检查某个变量是否包含null的。与此形成对照的是，程序清单12.4中的data实例变量是String类型的，正常情况下，我们是通过使用equals方法来检查两个String变量是否相等的。

链表通常始于空的状态。因为变量head被认为包含了对链表中第一个节点的引用，所以在不存在第一个节点时，我们要赋予head什么值呢？我们赋予head的值为null，以此表示空列表。这项技术很传统，对于许多操作链表的算法来说，都可能很好地工作。

牢记：使用null表示空列表和列表末尾

空链表的头引用包含null，非空链表的最后一个节点的link部分也是如此。

[^1]:  从技术上讲，节点不包含字符串，只包含对字符串的引用，就像任何String类型的变量一样。但是，对于我们而言，可以将节点看作包含字符串，因为我们从来都不会将这个字符串引用当作“箭头”来使用。