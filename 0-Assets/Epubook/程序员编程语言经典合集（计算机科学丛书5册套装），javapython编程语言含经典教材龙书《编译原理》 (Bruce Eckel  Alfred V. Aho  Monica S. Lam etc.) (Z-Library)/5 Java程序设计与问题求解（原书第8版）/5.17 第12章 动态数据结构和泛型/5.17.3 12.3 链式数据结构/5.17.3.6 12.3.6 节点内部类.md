   

### 12.3.6　节点内部类

通过把像ListNode这样的节点类设计成内部类，我们就可以让像StringLinkedList这样的类成为自包含的类，如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11378.jpeg)

注意，我们已经让ListNode成为了私有内部类。如果内部类不会在其他地方使用，那么它就应该是私有的。让ListNode成为私有内部类也会显得更安全，因为它向StringLinkedList定义外部的世界隐藏了getLink。正如我们之前在12.3.4节中提到的，如果一个方法返回的是对类类型实例变量的引用，那么让这样的方法成为公有的会很危险。

如果我们打算让ListNode类成为StringLinkedList定义中的私有内部类，那么就可以安全地简化ListNode类的定义，删除其中的访问器和修改器方法（set和get方法），直接访问实例变量data和link。在程序清单12.7中，我们以这种方式重写了StringLinkedList类。这个名为StringLinkedListSelfContained的类与程序清单12.5中的StringLinkedList类等价，因为它们具有执行相同动作的相同方法。实际上，如果我们运行程序清单12.6中的StringLinkedListDemo程序，将StringLinkedList替换为StringLinkedListSelfContained，那么样例输出是不会变化的。（StringLinkedListSelfContainedDemo程序包含在本书的源代码中，它就是这么做的。）

牢记：节点内部类

通过让节点类成为链表类的内部类，我们可以让诸如链表之类的链式数据结构成为自包含的。