   

### 12.2.2　HashSet类

HashSet类可用来存储对象集。就像ArrayList一样，HashSet类也实现了Collection接口。但是，HashSet存储的是多个项构成的集合而不是列表，这意味着其中不包含任何重复的元素，这与ArrayList可以包含许多重复元素不同。

这个类被命名为HashSet是因为用来实现这种集合的算法称为哈希表。有关哈希表算法如何工作的描述超出了本书的范围，但是总的来说，它提供了一种快速而高效地查找数据项的方式。程序清单12.2演示了如何用HashSet类来存储和管理一个整数集，其中基类型是包装器类Integer（6.2节描述过）而不是基本类型int，这是因为基本类型不允许成为基类型，只有对象才能存储在任何集合中。这个示例只用到了Collection接口中指定的方法。

重要的是，如果想要用我们自己的类作为参数化类型T来使用HashSet<T>类，那么我们的类T就必须覆盖下面的方法：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11355.jpeg)

hashCode（）方法应该返回数字型的键，理想情况下，它应该是类中每个对象唯一的标识符。为我们自己遍写的所有类都覆盖equals方法总是一个好的做法，但是在这个场景下必须覆盖它。Java将使用哈希码来索引对象，然后使用equals（）方法来检查某个对象是否存在于该集合中。如果两个不同对象的哈希码相同，那么它们仍旧会被正确地索引，只要equals（）方法表示它们是唯一的。但是，相同的哈希码会降低性能。

程序清单12.2　HashSet演示程序

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11356.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11357.jpeg)