   

## 练习

1.重写第7章练习2，但是要使用ArrayList的实例而不是数组。不要读取值的数量，而是不断地读取值，直至用户输入负值。

2.重写第7章练习3，但是要使用ArrayList的实例而不是数组。不要读取家庭的数量，而是不断地读取家庭的数据，直至用户输入单词done。

3.重写第7章练习5，但是要使用ArrayList的实例而不是数组。

4.重写第7章练习6和练习7，但是要使用ArrayList的实例而不是数组。我们不再需要知道销售记录的最大数量，所以各个方法需要做出修改以反映这一点。

5.编写一个静态方法removeDuplicates（ArrayList<Character>data），移除对象data中所有重复的字符。总是要保留每个字符的第一个副本，而移除掉后续所有的副本。

6.编写一个静态方法：

![](../Images/image11429.gif)

它会返回一个新的ArrayList的实例，其中包含了list1和list2中所有相同的字符串。

7.编写一个程序，从一个文本文件中读取语句，将每个句子都放到其自己的ArrayList实例中。（你需要创建一个语句对象，将其包含的单词逐一地读取并添加到该对象中。）当一个子句被完整读取后，将这个句子添加到另一个ArrayList实例中。一旦读取了完整的文件，你就会得到一个ArrayList的实例，它包含了若干个ArrayList的实例，其中每个实例表示一个读取的句子。现在，让用户输入一个句子编号和一个单词编号，然后显示位于指定位置上的单词。如果句子编号或单词编号无效，则给出一条恰当的错误消息。

8.重写第7章的练习12，但是要使用ArrayList的实例而不是数组。对其中的方法做出下列轻微的修改，以反映ArrayList对象的尺寸可以增长：

·修改构造器的参数，将最大指数修改为希望的指数。

·方法setConstant可能需要在ai前面添加0系数。例如，如果a0=3、a1=5、a2=0、a3=2、a4=0、a5=0，那么该多项式就是3次的，因为最后一个非零常数是a3。setConstant（8，15）这个调用需要将a6和a7设置为0，将a8设置为15。

9.编写一个程序，读取一个包含了数量未知的电影评论评分的文件。将得分当作Double值读取，并将它们放到一个ArrayList实例中。计算平均得分。

10.修订程序清单12.5中的StringLinkedList类，使得它可以在列表的末尾添加或移除项。

11.假设我们想要创建一种数据结构，用来存储一组数字，这些数字可以按照添加顺序或者按照排序顺序来访问。我们需要让每个节点都包含两个引用。如果顺着其中一条引用链访问，我们就可以按照添加顺序获得这些数据项；如果顺着另外一条引用链访问，就会按照数字大小的顺序获得这些数据项。创建一个支持这种数据结构的DualNode类，但是不需要编写这种数据结构本身。

12.绘制一张图片，描述上一个练习中的数据结构在初始为空，并按照顺序添加了2、8、4、6之后的样子。

13.编写一些代码，使用迭代器将程序清单12.9的StringLinkedListWithIterator的实例中的每一项都复制一遍。例如，如果该列表包含“a”、“b”、“c”和“d”，那么在代码运行之后，它将包含“a”、“a”、“b”、“b”、“c”、“c”、“d”和“d”。

14.编写一些代码，使用迭代器将程序清单12.9的StringLinkedListWithIterator的实例中的第一项移到列表的末尾。例如，如果该列表包含“a”、“b”、“c”和“d”，那么在代码运行之后，它将包含“b”、“c”、“d”和“a”。

15.编写一些代码，使用迭代器将程序清单12.9的StringLinkedListWithIterator的实例中的每一对数据项互换。例如，如果该列表包含“a”、“b”、“c”、“d”、“e”和“f”，那么在代码运行之后，它将包含“b”、“a”、“d”、“c”、“f”和“e”。

16.程序清单12.9中的StringLinkedListWithIterator类是其自身的迭代器，但是它并没有完全实现Java的Iterator接口。重新定义StringLinkedListWithIterator类，使其实现Iterator接口。这个接口声明了next、remove和hasNext方法，具体如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11430.jpeg)

请注意next方法规约中的泛化数据类型E。

如果仔细地遵循这个问题的指示，那么你是不需要了解什么是接口的，尽管了解这一点可能会让你觉得更顺畅。接口是在第8章讨论的。

这个类的定义应该以下面的内容开头：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11431.jpeg)

定义中剩余的部分与程序清单12.9类似，只是你需要添加Iterator指定的方法定义，对reset-Iteration方法做些小改动，使得新的实例变量twoBack可以被重置，然后删除deleteCurrentNode、goToNext和moreToIterate方法，因为它们现在变得冗余了。

（提示：

·尽管这个练习的细节看起来有些浮夸，但是它相当容易。你需要添加的3个方法定义都非常容易用已有的方法实现。

·注意，hasNext方法和程序清单12.9中的moreToIterate方法并不完全相同。

·之前提及的异常类都是预定义的，你不应该自己定义它们。这些特定的异常不需要被捕获或者在throws子句中声明。Iterator接口声明remove方法会在其不支持的情况下抛出UnsupportedOperationException异常。但是，你的remove方法并不需要抛出这个异常。）

17.编写一个程序，创建两个程序清单12.12中给出的泛化类LinkedList的实例。第一个实例名为stadiumNames，持有的是String类型的项。第二个实例名为gameRevenue，持有的是Double类型的项。在一个循环中，读取一个赛季中所有棒球比赛的数据，每场比赛的数据包括球场名字和这场比赛的营收。将比赛数据添加到stadiumNames和gameRevenue中。因为每个球场都可能会上演不止一场比赛，所以stadiumNames可能会有重复项。在读取了所有比赛数据之后，读取一个球场名字，然后显示在这座球场举行的所有比赛的总营收。