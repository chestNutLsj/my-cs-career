   

### 12.1.2　创建ArrayList的实例

使用ArrayList的实例与使用数组类似，但是有些重要的差异。首先，ArrayList类的定义并不会自动提供，它的定义位于java.util包中，任何使用ArrayList类的代码都必须在文件开头处包含下面的语句：

![](../Images/image11325.gif)

创建和命名ArrayList实例的方式与创建和命名任何类的对象的方式相同，只是我们用不同的标记法指定了基类型。例如，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11326.jpeg)

这条语句使得list成为了这个存储String类的实例的对象的名字。String类型是其基类型，ArrayList类的对象存储的是其基类型的对象，就像数组存储的是其基类型的项一样。不同之处在于ArrayList的基类型必须是类类型，我们不能用像int或double这样的基本类型作为其基类型。

对象list的初始容量是20项。当我们称一个ArrayList对象具有初始容量时，我们的意思是说为它分配了这么多项所需的内存空间，但是如果它需要持有更多的项，那么系统会自动地分配更多的内容。通过仔细地选择初始容量，我们经常可以使程序更加高效。如果选择的初始容量足够大，那么系统就无须过于频繁地重新分配内存，由此，程序就会运行得更快。另一方面，如果选择的初始容量过大，那么就会浪费存储空间。不论我们选择了多大的容量，对一个ArrayList对象可以持有多少项都不会产生任何影响。注意，如果忽略了初始容量，我们调用的就是ArrayList的缺省构造器，它会认为其容量为10。

回顾：创建和命名ArrayList实例

ArrayList类的对象的创建和命名方式与任何其他对象都一样，只是我们需要指定其基类型。

语法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11327.jpeg)

Base_Type必须是类类型，不能是像int和double这样的基本类型。当数字Capacity作为引元传递给构造器时，这个数字就决定了列表的初始容量。忽略这个引元时，初始容量就是10。

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11328.jpeg)

编程窍门：Java较新的各种版本只要求书写一次基类型

在JDK 7以前的版本中，创建ArrayList类的对象的语法要求在构造器中必须重复写一遍基类型。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11329.jpeg)

例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11330.jpeg)

从JDK 7开始，格式上就不再要求在构造器中重复基类型，具体语法为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11331.jpeg)

例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11332.jpeg)

与旧版本相比，这省掉了一点键盘输入工作，并且对于更复杂的基类型而言，可以让代码变得更具可读性。在构造器中不再要求书写基类型可归因于类型推断这一特性。编译器可以从变量声明中推断出基类型。程序员使用早期的格式已经很多年了，因此我们很可能会在已有代码中看到它。