   

### 1.4.4　绘制弧

弧是椭圆的一部分，就像程序清单1.2中笑脸上的微笑一样。例如，程序清单1.2中的以下语句就在脸上绘制了微笑：

![](../Images/image09481.gif)

前两个引元给出了不可视的矩形的位置，这个矩形的左上角位于（150，160）处。接下来的两个引元指定了矩形的尺寸，它的宽为100，高为50。在这个不可视的矩形内部，将具有相同宽度和高度的不可视的椭圆想象成这个不可视的矩形。再接下来的两个引元指定了这个不可视的椭圆中变为可视的部分。在本例中，椭圆的下半部分是可视的，从而显示了微笑。让我们更进一步地审视这两个引元。

strokeArc的第5个引元是起始角的度数，第6个引元指定了多少度的椭圆弧将变为可视的。椭圆焦点弦的最右端位于0度处。在沿着椭圆做逆时针移动时，度数不断增大。例如，图1.8a展示了0度起始角，我们沿着椭圆逆时针移动90度，让四分之一个椭圆可视。相反地，在沿椭圆顺时针移动时，度数不断减小。例如，在图1.8b中，我们从0度出发，顺时针移动90度，使得另外四分之一个椭圆可视。如果第6个参数是360，那么逆时针移动360度，整个椭圆就都是可视的了，如图1.8c所示。

回顾：strokeArc

语法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09482.jpeg)

strokeArc方法绘制一条弧，该弧是某个椭圆的一部分，紧包围这个椭圆的矩形的左上角位于点（x，y）处。椭圆的宽度和高度分别是Width和Height，单位都是像素。绘制的弧由StartAngle和ArcAngle给定，它们的单位都是度。椭圆焦点弦的最右端位于0度处。正角度是按照逆时针方向度量的，而负角度是按照顺时针方向度量的。从StartAngle开始，沿椭圆移动ArcAngle度，就构成了这条弧。ArcType可以是ArcType.OPEN、ArcType.CHORD或ArcType.ROUND。图1.8给出了一些弧的示例。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09483.jpeg)

图1.8　指定一条弧

最后，图1.8d展示了始于180度的弧，它从不可视的椭圆的左端开始画起。其第6个引元也是180，所以这条弧沿逆时针方向有180度范围是可视的，即显示了半个椭圆。最后一个参数指定了弧的类型。ArcType.OPEN表示弧的两个端点保持不连接的状态，ArcType.CHORD会在起点和终点之间用一条直线段连接，从而使弧封闭，而ArcType.ROUND会用线段将弧的起点连到椭圆中心，然后再连到弧的终点，从而使弧封闭。程序清单1.2中脸上的微笑使用的是ArcType.OPEN。

常见问题：什么是图形上下文gc？

标识符gc是对执行绘制工作的对象的命名。注意，gc是一个“虚变量”，它表示Java提供的用来执行绘制操作的对象。你无须使用gc这个标识符，但是你需要前后保持一致。如果你对某次出现的gc进行了修改，例如修改成了pen，那么所有出现的gc都要修改成pen。因此，在程序清单1.2中所示的start方法可以写作如下的形式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09484.jpeg)

这个定义与程序清单1.2中给出的定义是等价的。

自测问题

33.你会如何修改程序清单1.2中的JavaFX应用程序，使得眼睛是圆而不是椭圆？

34.你会如何修改程序清单1.2中的程序，使得这张脸是愁眉苦脸的？（提示：在对strokeArc方法的调用中修改引元，使微笑的嘴倒过来。）