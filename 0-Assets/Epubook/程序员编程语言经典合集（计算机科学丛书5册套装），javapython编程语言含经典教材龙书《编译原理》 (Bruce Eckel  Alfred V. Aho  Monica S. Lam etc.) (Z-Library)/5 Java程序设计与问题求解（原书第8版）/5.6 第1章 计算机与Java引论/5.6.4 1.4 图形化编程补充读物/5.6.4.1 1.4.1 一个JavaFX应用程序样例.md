   

### 1.4.1　一个JavaFX应用程序样例

程序清单1.2包含了一个JavaFX应用程序，它绘制了一张笑脸。下面我们通过逐段遍历的方式来审视其代码。

程序清单1.2　绘制一张笑脸

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09466.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09467.jpeg)

声明该应用程序会用到许多JavaFX库中的包，这些包中包含了Application、Canvas、Scene、Group、Stage、GraphicsContext和ArcType类。这些类都是JavaFX的构件，我们将在本书后续内容中进行更详细的描述。  

下面这一行代码

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09468.jpeg)

开启了该程序的类定义，这个类被命名为HappyFace。extends Application这些词表明我们正在定义一个JavaFX应用程序，而不是其他类型的类。尽管你目前还无须关心更多的细节，但是要清楚我们正在使用继承机制来基于已有的Application类创建Happy-Face类。

该应用程序包含两个方法：main和start。main方法在一般情况下是Java程序开始执行的地方。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09469.jpeg)

在程序清单1.1所示的样例程序中，程序的大部分代码都位于main方法中。这就是我们编写大多数自己的Java程序的方式。但是，JavaFX应用程序有所不同。JavaFX程序的执行始于start方法，在正确部署的JavaFX应用程序中是忽略main方法的。但是，很常见的一种做法是，在程序中包含一个main方法，以及一个对launch方法的调用，launch方法作为一个应变方法，最终启动JavaFX程序和start方法。

对于JavaFX应用程序，程序会在start方法中开始执行。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09470.jpeg)

目前，你可以忽略@Override和throws Exception这些代码。你需要了解的是会在JavaFX应用程序运行时自动地调用这个方法。JavaFX使用了舞台和场景的隐喻，就像是剧院中的舞台和场景一样。

下面四行代码针对绘制简单图形的场景，设置了其上的画布。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09471.jpeg)

之后，我们就可以使用画布上的绘制操作了。下面的方法调用

![](../Images/image09472.gif)

绘制了一个大圆圈，它构成了脸的轮廓，其中前两个数字表示圆圈在屏幕上绘制的位置。你可能已经猜到，strokeOval方法会绘制椭圆。最后两个数字给出了椭圆的宽度和高度。为了得到一个圆圈，可以让宽度和高度相等，如上述代码所示。这些数字的单位是像素，我们随后就会描述它们。

下面的两个方法调用

![](../Images/image09473.gif)

绘制了两只眼睛。这两只眼睛是“真的”椭圆，它们的高度比宽度长。还要注意，该方法名为fillOvel，而不是strokeOval，这意味着它绘制的是内部填色的椭圆。

下面的调用

![](../Images/image09474.gif)

绘制了一张嘴。我们将在下一节解释其所有引元的含义。

最后，下面的代码块

![](../Images/image09475.gif)

设置了窗口的标题，并做了一些簿记工作，以设置舞台和显示窗口。