   

### 4.1.7　在for语句中使用逗号（选修）

for循环可以执行多个初始化操作。为了使用一组初始化动作，只需用逗号将这些动作分开，就像下面的示例一样：

![](../Images/image09999.gif)

这个for循环将n初始化为1，并将product也初始化为1。注意，我们使用了一个逗号而不是分号将这两个初始化动作分开。这种逗号称为逗号操作符。

与此类似，我们可以有多个用逗号分开的更新动作。这种方式有时会产生具有空循环体的for语句，但是其仍旧显得很有用。例如，前面的for语句可以重写为如下的形式：

![](../Images/image10000.gif)

逗号可以用来分隔for语句中的多个初始化操作

实际上，我们让循环体成为了更新动作。但是，如果在更新动作中只操作控制循环的变量，就像这个for循环在前面示例中的版本一样，那么代码就会更具可读性。我们不提倡使用没有任何循环体的for循环，但是许多程序员认为这种做法会显得他们很“聪明”。正如在上一个疑难杂症部分中所阐述的，没有循环体的for循环通常是程序员犯下的错误。

我们不能用多个布尔表达式来测试是否应该终止for循环。但是，我们可以使用 & & 或||操作符将多个测试条件组合成更大的布尔表达式。

注意，逗号操作符只能用于for语句中。如果你用其他编程语言编过程，而这些语言允许在其他地方使用逗号操作符，那么你就要格外当心了。

自测问题

7.下面的代码会产生什么样的输出？

![](../Images/image10001.gif)

8.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10002.jpeg)

9.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10003.jpeg)

10.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10004.jpeg)

（这与上一个自测问题不同，请仔细观察。）

11.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10005.jpeg)

12.编写一个for语句，显示偶数2、4、6、8、10。每个数字都应该出现在单独的行中。声明所有需要用到的变量。

13.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10006.jpeg)

编程窍门：选择一种循环语句

假设你的程序需要循环。你应该怎样决定使用while语句、do-while语句还是for语句呢？我们可以给你一些通用的指导原则。你不应该使用do-while语句，除非你确定，对于所有可能的程序输入，该循环都至少会迭代一次。如果你知道循环应该总是迭代至少一次，那么do-while语句可能就是个不错的选择。但是，比你想象的更常见的情况是，循环有可能会迭代其循环体0次。在这种情况下，你必须使用while语句或for语句。如果你的计算在每次迭代时会对某个数字量（例如某个计数器）进行等量的修改，那么可以考虑for语句。如果for语句看起来不那么明晰，就使用while语句。while语句总是一种安全的选择，因为你可以使用它来实现任何种类的循环。这并不是说你应该只使用while循环，有时其他的选择会显得更明晰更易于编写。许多程序员会使用for语句来澄清其代码逻辑。