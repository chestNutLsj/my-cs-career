   

### 4.1.2　do-while语句

do-while语句（或者do-while循环）与while语句非常类似，它们的主要差别是do-while循环体总是至少会执行一次。回想一下，while循环体可能压根就不执行。

当执行do-while循环时，循环体会首先执行。此后，do-while循环的行为与while循环完全相同。然后，检查布尔表达式。如果布尔表达式为真，循环体就再执行一次。只要布尔表达式为真，这个过程会反复执行。如果布尔表达式为假，那么循环终止。

do-while语句的语法如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09945.jpeg)

Body可以是一条简单语句，但是更有可能是一条复合语句。因此，do-while循环的最常见形式为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09946.jpeg)

注意跟在Boolean_Expression后面的右圆括号后面的分号。还要注意，尽管我们将右花括号和while放在了同一行，但是有些程序员喜欢将它们放在不同的行。这两种形式都可以，但是在程序中要保持一致。

程序清单4.2包含的do-while循环的样例与程序清单4.1中的while循环类似，但是会产生不同的输出。注意，在样例屏幕输出3中，尽管布尔表达式一开始就为假，但是循环体还是执行了一次。再次强调，do-while循环体总是会执行至少一次。图4.3对这种循环的动作进行了总结。

程序清单4.2　do-while循环

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09947.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09948.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09949.jpeg)

图4.3　程序清单4.2中的do-while循环的动作

程序清单4.2中的do-while循环可以写成如下等价的while循环：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09950.jpeg)

尽管我们不推荐以这种方式重写do-while循环，但是这个示例有助于展示两种不同类型的循环语句之间的差别。对于do-while循环，循环体总是至少会执行一次，而对于while循环，循环体可能会执行0次。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09951.jpeg)

图4.4　do-while语句的语义

回顾：do-while语句

语法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09952.jpeg)

Body可以是单条语句，但是更有可能是由{}括起来的一组语句构成的复合语句。Body总是会执行至少一次。一定要注意整条语句末尾的分号。

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09953.jpeg)

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09954.jpeg)