   

### 4.2.6　循环中的break语句和continue语句（选修）

正如到目前为止我们所描述过的循环，while、do-while和for语句总是会在它们的控制布尔表达式Boolean_Expression为假时退出。对于前面程序清单4.7中的程序，这种控制表达式包含了布尔变量haveMoney。因此，当haveMoney为假时，该控制表达式就为假，循环因而终止。

除此之外，循环还可以在碰到break语句时退出。当执行break语句时，直接包含它的循环就会终止，其循环体中其余部分不会再执行。Java允许在while循环、do-while循环和for循环中使用break语句，它与我们之前在switch语句中使用的break语句是一样的。

布尔变量haveMoney在程序清单4.7中的程序中出现了3次。如果删掉其头两次出现，并且将下面的语句：

![](../Images/image10033.gif)

替换为

![](../Images/image10034.gif)

那么这样所产生的程序中的循环将具有程序清单4.8所展示的形式。当leftToSpend不再为正时，就会执行println语句以及会终止本次迭代的break语句。下一条执行的语句就是跟在while语句体之后的语句。

程序清单4.8　使用break语句终止循环

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10035.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10036.jpeg)

如果包含break语句的循环处于更大的循环内部，那么这条break语句就只会终止最内部的循环。类似地，如果break语句处于某个循环内部的switch语句内，那么该break语句也只能终止最内部的循环，或者是包含该break语句的switch语句。

没有break语句的循环所具有的形式简单且易于理解，其中，会测试一个布尔表达式以决定是否要终止循环。在添加了break语句后，循环可能会因控制布尔表达式为假或执行break语句而终止。因此，在循环中使用break语句会使得该循环更难以理解。

例如，程序清单4.8中的循环始于：

![](../Images/image10037.gif)

该循环看起来只有一个会导致其终止的条件。是否会有其他的条件存在？这需要你去研究其循环体，以发现其中包含的break语句。相比之下，程序清单4.7中的循环始于：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10038.jpeg)

你一下子就可以看清该循环会在钱花完或购买的物品超过最大数量时终止。

循环体中的continue语句会终止当前的迭代，并开始下一次迭代。以这种方式使用continue语句与使用break语句时碰到的问题相同。因此，与break语句一样，我们应该避免在循环中使用它们。

编程窍门：避免在循环中使用break和continue语句

由于break语句和continue语句会引入复杂性，因此应该避免在循环中使用它们。任何包含这些语句的循环都可以重写为不包含它们的循环。

自测问题

14.编写一个Java循环，显示四遍短语“One more time”，请添加必要的声明和初始化语句。

15.编写一个Java循环，将变量result的值设置为25。将result的值初始化为1，然后在5次循环迭代中每次都将其乘以2，请添加必要的声明和初始化语句。

16.编写一个Java循环，读取double类型的一组值，然后显示它们的平均值。这些数字都大于等于1.0。输入数据以你指定的哨兵值结尾，请添加必要的声明和初始化语句。

17.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10039.jpeg)

18.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10040.jpeg)

19.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10041.jpeg)

20.将程序清单4.6中的循环修改为使用break语句来代替布尔变量areMore。对你的循环与原来的循环做出比较。