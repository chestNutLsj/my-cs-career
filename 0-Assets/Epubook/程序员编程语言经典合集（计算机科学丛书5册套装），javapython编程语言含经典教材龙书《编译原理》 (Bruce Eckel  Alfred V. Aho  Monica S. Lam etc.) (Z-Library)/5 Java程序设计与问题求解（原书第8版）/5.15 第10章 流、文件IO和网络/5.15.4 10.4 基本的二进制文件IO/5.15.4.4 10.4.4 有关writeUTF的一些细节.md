   

### 10.4.4　有关writeUTF的一些细节

writeInt方法会将整数写入文件，在存储所有整数时，都是用了相同数量的字节，即，相同数量的0或1。类似地，writeLong使用相同数量的字节来存储每个long类型的值。但是，这两个方法所使用的字节数并不相同。对于所有其他的将基本类型值写入二进制文件的方法而言，情况也是如此。但是，writeUTF方法使用了可变数量的字节将不同的字符串存储在一个文件中，较长的字符串需要的字节数量比较短的字符串多。这种情况对Java提出了挑战，因为二进制文件中的数据项之间没有任何分隔符。Java可以通过在每个字符串的开头都添加一些额外信息使这种方式可以工作，这些额外的信息会告知写入该字符串需要用到多少个字节，使得readUTF知道需要读取并转换多少个字节。（readUTF方法将在本章稍后进行讨论，但是正如你可能已经猜到的，它会读取一个String值。）

与我们刚刚描述的情况相比，writeUTF的情况更复杂一点。注意，我们说过，文件中的字符串编码开头处的信息可以告知的是需要读取多少个字节，而不是字符串中有多少个字符，这两个数字并不相同。在使用UTF编码机制时，不同的字符会编码成不同数量的字节。但是，所有ASCII字符都会存储为一个字节。如果只使用ASCII字符，那么这种差别对你来说其理论意义大于实际意义。