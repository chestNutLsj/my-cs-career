   

### 10.4.3　向二进制文件中写入字符串

为了将字符串写入二进制文件中，我们需要使用writeUTF方法。例如，如果output-Stream是ObjectOutputStream类型的流，那么下面的语句将会把字符串"Hi Mom"写入与这个流连接起来的文件中：

![](../Images/image11149.gif)

当然，在使用任何write方法时，我们都可以将类型适合的变量（在本例中，就是String类型）用作该方法的引元，而并非只能传递字面常量。

我们可能会将不同类型的输出写入同一个二进制文件中。例如，我们可以写入int、double和String值的组合。但是，在二进制文件中将类型混合起来需求特别仔细，要确保文件中的值随后可以被正确地读取。特别是，我们需要知道不同类型的值在文件中出现的顺序，因为正如你所见，我们需要使用不同的方法来读取每种不同的类型。

常见问题：UTF代表什么？

为了将int值写入ObjectOutputStream类的流中，我们需要使用writeInt；为了将double值写入ObjectOutputStream类的流中，我们需要使用writeDouble；以此类推。但是，为了写入字符串，我们需要使用writeUTF。在ObjectOutputStream中并没有名为writeString的方法。为什么会有writeUTF这么滑稽的名字呢？UTF表示Unicode文本格式，这并不是一个描述性很强的名字。下面是这里面的故事。

回忆一下，Java使用的是Unicode字符集，其中包含了许多在各种语言中用到的字符，这些语言的字符集与英语的字符集显得非常不同。大多数文本编辑器和操作系统使用的都是ASCII字符集，这是一种在正常情况下用于英语和典型的Java程序的字符集。ASCII字符集是Unicode字符集的子集，因此，Unicode字符集包含了很多我们并不需要的字符。对于说英语的国家而言，Unicode对字符编码的方式并不是一种非常高效的模式。UTF编码模式是另一种可行的模式，它可以对所有Unicode字符编码，但是对ASCII字符集特别有利，因为它对ASCII字符赋予了短而高效的编码，而对其他Unicode字符赋予的编码就没有那么高效了。但是，如果我们不使用其他的Unicode字符，这种方式就很不错。