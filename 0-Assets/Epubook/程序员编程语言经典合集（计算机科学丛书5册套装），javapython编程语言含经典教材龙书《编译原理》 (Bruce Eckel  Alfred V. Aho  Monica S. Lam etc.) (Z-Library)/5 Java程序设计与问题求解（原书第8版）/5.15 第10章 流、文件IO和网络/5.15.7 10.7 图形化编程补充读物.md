   

## 10.7　图形化编程补充读物

“真实的世界”就是唯一的世界。

——涂鸦

图形化用户界面（GUI）并非仅仅只是好看的小演示程序。GUI是真实应用程序的界面。本节将提供一个操作文件的JavaFX GUI的小示例。

编程示例：操作文件的JavaFX GUI

程序清单10.14中的程序用JavaFX创建了一个GUI，它可以让我们对文本文件做一些整理工作。这个GUI有三个按钮和两个文本域。我们可以在指定的文本域中键入文件名。然后，如果点击Show first line按钮，就会在另一个文本域中显示这个文件的第一行，作为对文件内内容的提示。但是，如果文件不存在或者不可读，那么我们就会得到一条解释这种情况的消息。如果该文件不是文本文件，我们会得到一堆不知所云的东西。

程序清单10.14　一个文件管理器GUI

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11181.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11182.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11183.jpeg)

如果想要删除文件，可以在文本域中键入文件名，然后点击Remove file按钮。只要该文件存在并且可写，它就会被删除，并且会显示一条确认消息。如果该文件不存在或者不可写，即正常情况下意味着我们不能删除它，那么会显示一条恰当的消息。最后，Reset按钮会将两个文本域恢复到它们最初的内容。让我们来看看其中的一些代码。

在该类的构造器内部，我们定义了三个按钮和两个文本域。有两个文本域意味着文件名一直可以看得到，所有输出都会在另一个文本域中给出。为了区分这两个文本域，我们将用于文件名的文本域按照如下方式进行初始化：

![](../Images/image11184.gif)

按钮点击事件处理器会通过调用类中的三个私有方法中的某一个来执行恰当的动作。showFirstLine方法会从文本域中获取文件名，然后在检查该文件确实存在并且可读后，打开该文件用于输入。然后，该方法会读取第一行，将其显示在另一个文本域中，最后关闭该文件。后三个步骤的语句如下：

![](../Images/image11185.gif)

在输入另一个文件名之前，用户应该点击Reset按钮，它会按照如下方式设置两个文本域：

![](../Images/image11186.gif)

第二条语句将文本域的内容设置成了空字符串，空字符串会把这个域设置为空。（这个GUI即使在Reset按钮没有被点击的情况下，也会给出正确答案，但是如果点击该按钮，输出会显得更清晰一些。）这两条语句在私有方法resetFields中，该方法会在点击Reset按钮时被actionPerformed调用。

最后，如果Remove file按钮被点击，actionPerformed会调用私有方法remove-File。在检查文件确实存在并且可读后，removeFile会通过下面的代码删除该文件：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11187.jpeg)

fileObject.delete（）这个调用会尝试删除该文件。如果delete方法执行成功，会返回true，否则返回false。

编程窍门：何时将GUI构件定义为实例变量

当GUI构件必须在一个类的多个方法中都可用时，将它们定义为实例变量会比将它们当作引元传递给多个方法要更加方便。例如，在程序清单10.14中，两个文本域file-NameField和firstLineField都是由start方法创建并初始化的，并且在该类中除main方法之外的其他所有方法中都用到了它们，所以，这些文本域被定义成了实例变量。

但是，请注意在start方法中定义的按钮。因为它们只会在start方法中用到，所以它们可以是该方法的局部变量。