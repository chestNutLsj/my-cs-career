   

### 10.3.3　使用路径名

当我们编写语句将文件名当作引元传递给构造器，用于以之前讨论过的任意一种方式来打开文件，那么该文件都会被认为与程序运行时所在的目录（文件夹）处于同一目录下。但是，如果文件与程序所在的位置不同，那么我们可以通过编写路径名而不是只有文件名来指定包含文件的目录。全路径名，正如其名字所表示的，给出了从根目录开始的完整的路径名。相对路径名给出的是从包含程序的目录出发到文件的路径。指定路径名的方式取决于使用的操作系统，我们这里只讨论部分细节。

下面是一个典型的UNIX路径名的例子：

![](../Images/image11115.gif)

为了创建连接到这个文件的输入流，我们将编写下面的语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11116.jpeg)

Windows在路径名中使用的是\而不是/。典型的Windows路径如下：

![](../Images/image11117.gif)

为了创建连接到这个文件的输入流，我们将编写下面的语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11118.jpeg)

注意，我们必须使用\\而不是\，因为Java会将单个反斜杠与另一个字符配对解释成转义字符，例如\h。

尽管在正常情况下，在引号引起来的字符串中使用单个反斜杠时必须格外小心，但是这个问题在从键盘读取文件名时并不会发生。假设我们在运行像程序清单10.3中那样的程序，该程序与用户之间的部分对话如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11119.jpeg)

这个路径名可以被程序理解，用户并不需要像下面这样输入两个反斜杠

![](../Images/image11120.gif)

实际上，在输入中使用\\可能会读入不正确的文件名。当用户在键盘上键入输入信息时，Java会将\h“理解”为一个后面跟着一个h的反斜杠字符，而不会将其理解为转义字符，因为用户键入的所有内容都是由字符构成的。

有一种避免所有这些转义字符问题的方式是在书写路径名时，总是使用UNIX惯用法。Java程序可以接受用Windows或UNIX格式书写的路径名，甚至程序运行在操作系统与所使用的格式不匹配的计算机上，也是如此。因此，对于下面的Windows文件：

![](../Images/image11121.gif)

另一种创建与其相连接的输入流的可行方式是：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11122.jpeg)