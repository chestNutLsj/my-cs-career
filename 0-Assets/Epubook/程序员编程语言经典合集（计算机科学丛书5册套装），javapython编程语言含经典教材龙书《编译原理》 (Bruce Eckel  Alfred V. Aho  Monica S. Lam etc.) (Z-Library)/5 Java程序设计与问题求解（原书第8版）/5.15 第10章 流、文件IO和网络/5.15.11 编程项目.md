   

## 编程项目

编程项目与实践程序相比，要求更高的问题解决能力，并且通常可以用多种不同的方式来解决。

1.编写一个程序，检查文本文件中的格式和标点符号。该程序会要求提供输入文件和输出文件的名字，然后将输入文件中的所有文本复制到输出文件中，但是要做出下面两点改动：1）任何由两个或更多的空格构成的字符串应该替换成单个空格；2）所有句子都以大写字母开头。第一个句子之后的所有句子都应该跟在一个逗号、句号或感叹号及其后面跟着的一个或多个空白字符的后面。

2.编写一个程序，类似于程序清单10.10中将任意数量的Species对象写入二进制文件的程序。（Species在第5章程序清单5.19中。）该程序应该可以读取文件名，以及用文本编辑器创建的文本文件中的对象数据。然后，编写另一个程序，可以搜索第一个程序所创建的二进制文件，并向用户展示所有要求展示的濒危物种的数据。用户会给出文件名，然后输入物种的名字。程序要么显示物种的数据，要么在该物种未在文件中列出时，给出一条消息。允许用户输入更多的物种名，或者退出。

3.编写一个程序，从上一个编程项目的程序所创建的文件中读取数据，并在显示器上显示下面的信息：种群数量最小的物种和种群数量最大的物种。不要假设文件中的对象具有某种特定的排序。用户将给出文件名。

4.编程项目2让你编写了一个程序，可以用来创建包含Species类的对象的二进制文件。编写一个程序，从该程序创建的文件中读取对象，并将这些对象的种群数量修改为100年后的数量，然后写入另一个文件。请使用Species类的predictPopulation方法，并假定给你提供了每个物种的增长率。

5.文本消息是一种流行的通信手段，其中会经常用到许多缩写，但是这些缩写对于正式通信来说并不适合。假设这些缩写存储在名为abbreviations.txt的文本文件中，每个一行。例如，这个文件可能包含下面各行：

![](../Images/image11194.gif)

编写一个程序，从另一个文本文件中读取一条消息，将每一个缩写都用尖括号<>括起来。将标记后的消息写入新的文本文件中。

例如，如果待扫描的消息如下：

![](../Images/image11195.gif)

那么新的文本文件就应该包含下面的内容：

![](../Images/image11196.gif)

6.修改练习6中描述的TelephoneNumber类，使得它成为可序列化的。编写一个程序，通过从键盘读取数据来创建一个基类型为TelephoneNumber的数组。用writeObject方法将该数组写到一个二进制文件中。然后，使用readObject从该文件中读取数据，并将信息显示在屏幕上。允许用户修改、添加或删除任何电话号码，直至他表示所有修改都已完成。然后，将修改后的电话号码写入文件中，替换原有内容。

7.修改第6章程序清单6.1中所示的Pet类，使得它成为可序列化的。编写一个程序，允许用户向文件中读写Pet类型的对象。该程序应该询问用户是要写文件还是要读文件。无论哪种情况，都应该询问文件名。要求写入文件的用户可以输入任意期望数量的记录，而对于要求读取文件的用户，会向其展示文件中所有的记录。要确保记录向下滚动得不至于过快，导致用户无法看清楚它们。（提示：可以考虑在显示一定数量的行之后，将程序暂停一会儿。）

8.编写一个程序，从由上一个编程项目所描述的程序创建的文件中读取Pet类型的记录，并在屏幕上显示下列信息：最重的宠物的名字和体重，最轻的宠物的名字和体重，最小的宠物的名字和年龄，以及最老的宠物的名字和年龄。

9.加州大学尔湾分校机器学习库中包含许多用于计算机科学研究的数据集。其中一个数据集是Haberman’s Survival，可以从[http://archive.ics.uci.edu/ml/datasets/Haberman's+Survival](http://archive.ics.uci.edu/ml/datasets/Haberman's+Survival)处下载，也可以从本书在线源代码中获得。文件“haberman.data”包含了CSV格式的乳癌病人的存活数据，其中第一个字段是病人做手术时的年龄，第二个字段是做手术的年份，第三个字段是探测到的阳性腋窝淋巴结的数量，第四个字段是生存状况。如果病人存活时间超过5年，生存状态就是1；如果病人在5年内死亡，生存状态就是2。编写一个程序，读取该CSV文件，并计算存活5年以上的病人被探测到的阳性腋窝淋巴结的平均数量和存活5年以内的病人被探测到的阳性腋窝淋巴结的平均数量。这两个平均值之间的明显差异是否意味着被探测到的阳性腋窝淋巴结的数量可以用来预测存活时间。你的程序应该忽略每条记录中的年龄和年份。

10.在许多径赛中，选手们都会在鞋或号码布上戴上一个RFID标签。当选手经过传感器时，计算机会将选手的号码以及当前的时间记录到日志中。传感器可以沿跑道放置，以准确地计算选手的完成时间和速度，检验选手是否经过了关键的检测点。请考虑将这个系统应用于半程马拉松竞赛上，其长度为13.1英里。在这个问题中，只有三个传感器：一个位于起点处、一个位于7英里处、一个位于终点处。

下面是三位选手的样例数据。第一行是以24小时时间格式（HH MM SS）表示的发令枪发枪时间，发枪时间就是比赛开始时间。后续各行是传感器记录下来的信息，包含传感器的ID（0=起点、1=中间点、2=终点），后面跟着选手的号码和时间戳。开始时间可能与发枪时间有些差异，因为当选手数量众多时，有些选手跑到起点线上还要点时间。

![](../Images/image11197.gif)

用上面的样例比赛日志创建一个文本文件。编写一个程序，将日志数组读取到适合的数组结构中。然后，该程序应该允许用户输入一位选手的号码，它应该输出这名选手最终的名次、每一段路程以分钟/英里为单位表示的分段时间（即两个传感器之间的时间），以及比赛总用时和总速度。对于更具挑战性的版本，你可以修改程序，让它能够适应沿跑道不同位置放置任意数量的传感器，而不是固定的三个传感器。你需要为每个传感器指定英里标志。

11.基于编程项目10中描述的日志文件，编写一个程序去探测欺骗行为。以下行为都被认为是欺骗行为：

·选手错过了某个传感器，这表示该名选手可能抄近道了。

·某段路程速度快得可疑，这表示该名选手可能乘坐了某种交通工具。在这种情况下，就可以认为速度快于每英里耗时4分30秒的分段路程是可疑的。

输出应该是一个欺骗嫌疑者的列表，以及他们的嫌疑原因。

12.编写一个可以当作基本的Web浏览器的Java程序。对于这项任务而言，只需要输入服务器的名字，并显示从Web服务器发回的HTML即可。Web服务器一般会在80端口监听。服务器希望在连接上收到的客户端发送过来的字符串中包含能够标识希望接收哪个页面（用/表示根路径）和使用哪种协议的信息。下一行是Host，然后是一个空行。例如，为了获取维基百科上的默认页，该Java程序应该连接其80端口，并发送下面的字符串：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11198.jpeg)

维基百科的服务器之后会将这个网站的HTML发送回来，你的程序应该以文本的形式显示它。对于更具挑战性的程序，应该以更人性化的格式来解析并呈现HTML文件，而不是将原生的HTML内容打印出来。

13.用JavaFX图形化界面重写上一个编程项目。

14.编写一个JavaFX应用，它会用一个文本域来获取文件的名字，逐个字节地读取该文件，然后将这些字节显示成字符。（练习15描述了如何将字节值转换为字符。）在一个Label控件中显示前20个字符。如果一个字节对应的不是合法的字符，那么显示为空格。点击Next按钮就会读取并显示该文件中接下来的20个字符。这个GUI应用看起来就像是图10.8的样子。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11199.jpeg)

图10.8　编程项目14的GUI

15.编写一个应用，实现简单的文本编辑器。使用一个文本域和一个按钮来获取文件。将整个文件内容都当作字符读取出来，并显示在一个TextArea中。然后，用户可以在该文本区中修改其内容。用Save按钮来获取文本区中的内容，并将其以覆盖的方式写入原来的文件。

技术细节：从文件中读取每一行，然后用appendText（aString）方法将其显示在文本区中。get-Text方法会将文本区中所有的内容都放到一个字符串中返回，这个字符串之后可以写到文件中。