   

### 5.2.7　编程示例：Purchase类

程序清单5.13包含的类表示的是单次购买多件同种物品的记录，例如12个苹果和2夸脱牛奶。这个类被设计为超市收银台程序的一部分。超市经常会给出物品的打包价，例如5件售价$1.25或者3件售价$1.00，而不是给出单件物品的价格。超市希望在将苹果标价为5个售价$1.25时，顾客就会买5个苹果而不是2个。但是5件售价$1.25实际上就是每件$0.25，如果我们买2个苹果，那么超市只能收$0.50。

类中的实例变量如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10210.jpeg)

让我们通过一个例子来解释这些实例变量的含义。如果我们以5个$1.25的价格购买了12个苹果，那么name的值就是"apples"，groupCount的值是5，groupPrice的值是1.25，numberBought的值是12。注意，5个$1.25的价格存储在两个实例变量中，groupCount存储了5，groupPrice存储了$1.25。

例如，让我们来考虑getTotalCost方法，购物总成本是按照下面的方式计算的：

![](../Images/image10211.gif)

如果这次购物是以5个$1.25的价格购买了12个苹果，那么总成本就是：

![](../Images/image10212.gif)

还要注意，readInput、setPrice和setNumberBought方法对负数不具实际意义的情况进行了检查，例如，当用户输入购买的物品数量时就做了这种检查。程序清单5.14给出了一个使用这个类的简单演示程序。

程序清单5.13　Purchase类

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10213.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10214.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10215.jpeg)

程序清单5.14　使用Purchase类

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10216.jpeg)