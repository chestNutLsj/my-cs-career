   

### 5.2.2　前置条件和后置条件注释

一种高效且标准的、用来描述方法能够做什么的方式是借助被称为前置条件和后置条件的特殊类型的注释。方法的前置条件注释描述了该方法被调用之前必须为真的条件。除非前置条件得到满足，否则方法就不应该被使用，并且也不能期望它能够正确地执行。

后置条件注释描述了方法调用所产生的所有效果。后置条件会告知我们在前置条件得到满足的情况下，执行该方法后会满足什么条件。对于有返回值的方法，后置条件包括对方法返回值的描述。

例如，下面的注释展示了程序清单5.3中所示的writeOutput方法的前置条件和后置条件注释：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10185.jpeg)

程序清单5.6中的predictPopulation方法的注释可以表达为下面的样子：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10186.jpeg)

如果唯一的后置条件就是对返回值的描述，那么程序员通常会忽略“后置条件”这个词。上面的注释在典型情况下，会写成下面这种可替换的形式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10187.jpeg)

有些设计规范可能会要求对所有方法都要写明前置条件和后置条件，另一些会对方法名已经能够明确表明其动作的方法删除直白的前置条件和后置条件描述，通常认为像readInput、writeOutput和set这样的名字是一目了然的。但是，准确无误的规则应该是遵循你的导师或主管给你的指南，如果有所疑虑，就加上前置条件和后置条件。

有些程序员不喜欢在代码中使用前置条件和后置条件这样的词汇。但是，在编写方法注释时，你应该总是要按照前置条件和后置条件去思考问题。真正重要的不是前置条件和后置条件这两个词汇，而是它们所表示的概念。注意，前置条件和后置条件的注释都是断言的示例。