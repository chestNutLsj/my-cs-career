   

### 8.5.1　事件驱动编程

在本节，我们将解释如何将动作赋予像按钮这样的控件。JavaFX应用会使用事件和事件处理器。事件是一种对象，它们表示会触发响应的某个用户动作，例如用鼠标点击按钮。当一个对象产生某个事件时，就称它触发了某个事件。例如，当用户点击按钮时，该按钮就会触发一个事件。在JavaFX应用中，每个可以触发事件的对象都可以有一个或多个会自动接收事件的监听器对象。监听器对象中包含的方法指定了在该监听器接收到各种事件时应该做些什么。这些方法称为事件处理器。

作为程序员，我们需要为所有可能会触发事件的对象指定哪些对象是它们的监听器。我们还需要定义事件处理器方法。触发事件的对象（例如按钮）与其事件处理监听器之间的关系在图8.6中进行了展示。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10917.jpeg)

图8.6　事件触发和事件监听器

我们实际上没有阐述任何新的东西。事件对象、监听器和事件处理器都是用8.4节所描述的Java接口实现的。在本案例中，该接口称为EventHandler，这个接口要求我们实现名为handler的方法。监听器对象是实现了EventHandler的类。事件对象是ActionEvent类的对象，它是由JavaFX在事件发生时创建的，例如在点击按钮时，这个对象包含的信息与所发生事件的类型以及激发该事件的对象（例如，被点击的按钮）有关。图8.7描述了整个过程。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10918.jpeg)

图8.7　按钮和事件处理器

接下来，我们来讨论选择监听器类的3种选项。无论选择哪种选项，监听器类都必须实现EventHandler<ActionEvent>。<ActionEvent>标记将在第12章讨论，其实质就是在声明我们正在创建事件处理器，它处理的是ActionEvent类型的项。我们可以将监听器类设计为新的单独的类，其唯一的作用就是处理这种事件。对于创建实现某个接口的类来说，这是一种“常规”技术。另一种可选的技术是让主GUI类自身实现该接口。第三种可选的技术是创建一个匿名内部类。在本节中，我们将用这三种技术来阐述各个示例。