   

### 8.5.4　在匿名内部类中处理事件

最后，我们将再展示一种创建事件处理器的方式。这种技术有一个优势，就是赋予了事件处理器类访问主GUI类中所有成员变量的权限，同时又允许我们可以创建不同的监听器实例。这项技术就是创建名为匿名内部类的东西。这是一种没有任何名字的类，我们在声明它的同时对其实例化。匿名内部类可以用来快速创建这样的类：该类中包含实现某个接口时要求我们必需覆盖其父类定义的方法。

创建实现了EventHandler<ActionEvent>接口的匿名内部类的格式如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10930.jpeg)

我们可以将这段代码插到setOnAction方法中，并在其中填入handle方法的实现。在这个例子中，我们的实现是将ButtonDemo类标签中的文本修改为"It is sunny！"：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10931.jpeg)

程序清单8.23通过分别创建用于两个按钮的单独的匿名内部类来演示了这种技术。标签中的文本会依据点击的按钮而发生变化。

程序清单8.23　匿名内部类的事件处理机制

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10932.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10933.jpeg)

自测问题

34.JavaFX事件处理器是一个方法，这体现了哪种Java编程结构？

35.让主应用类扩展EventHandler<ActionEvent>有什么优点？与在单独的类中创建监听器对象相比，其缺点是什么？

36.哪种Java结构允许我们在代码体中无须任何具名引用就可以定义并实例化类的实例。