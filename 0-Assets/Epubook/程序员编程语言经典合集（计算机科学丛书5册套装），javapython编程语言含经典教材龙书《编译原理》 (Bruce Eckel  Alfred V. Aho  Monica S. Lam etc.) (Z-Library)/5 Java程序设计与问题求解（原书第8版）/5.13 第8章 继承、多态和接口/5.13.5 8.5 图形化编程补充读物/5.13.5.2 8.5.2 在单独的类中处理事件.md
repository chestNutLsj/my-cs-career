   

### 8.5.2　在单独的类中处理事件

程序清单8.20创建了一个简单的JavaFX应用，它有一个VBox布局面板，上面有两个按钮。这两个按钮的监听器是程序清单8.21给出的HandleButtonClick类的对象。为了将按钮点击事件与HandleButtonClick对象关联起来，我们使用了setOnAction方法。下面的例子创建了一个新的HandleButtonClick对象，并将其与btnSunny关联了起来：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10919.jpeg)

上面的代码在告诉JavaFX：HandleButtonClick类将会在btnSunny被点击时全权处理所有事宜。

程序清单8.20　在单独的类中进行事件处理

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10920.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10921.jpeg)

程序清单8.21　一个按钮点击监听器和事件处理器

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10922.jpeg)

因为HandleButtonClick是一个常规类，所以我们可以重载其构造器。在程序清单8.21中，我们创建了第二个构造器，它会接受一条String消息，并将其在内部存储起来，以便在事件发生时将此消息作为输出。我们在下面这行代码中使用这个构造器创建了一个HandleButtonClick类的实例，并将其与某个按钮关联了起来：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10923.jpeg)

注意，HandleButtonClick不仅仅只是个普通类。我们用来设置动作的类必须实现EventHandler<ActionEvent>接口。这个接口要求我们覆盖下面的方法：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10924.jpeg)

在程序清单8.21中，handle方法的实现只是输出了缺省值为"It is sunny！"的消息变量。当该应用运行时，点击"Sunny"按钮就会在控制台上输出"It is sunny！"，而点击"Cloudy"按钮会在控制台上输出"It is cloudy."。