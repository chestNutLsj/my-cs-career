   

### 6.7.2　包名和目录

包名并非是随意命名的标识符，它要告诉编译器到哪里可以找到包中的类。实际上，包名告诉编译器的是包含了包中所有类的目录的路径名。为了找到包的路径，Java需要包名以及类路径变量的值中列出的各个目录。

类路径变量的值告诉Java应该从哪里开始搜索包，因此我们首先讨论它。类路径变量并非Java变量，它是操作系统的变量，包含一组目录的路径名。当Java搜索包时，会从这些目录开始搜索。我们称这些目录为类路径的基目录。我们会告诉你Java是如何使用这些类路径的基目录的，以及包是如何命名的，然后我们会告诉你一些有关如何设置类路径变量的信息。

包名指定了包含包中所有类的目录的相对路径名。之所以称之为相对路径名，是因为它假设我们是以某个类路径的基目录为基础，后面跟着由包名给定的子目录路径。例如，假设下面是一个类路径的基目录（你的操作系统使用的可能是/而不是\）：

![](../Images/image10476.gif)

并且假设包中所有的类在下面的目录中：

![](../Images/image10477.gif)

在这种情况下，包必须命名为general.utilities。

![](../Images/image10478.gif)

注意，包名不是随意命名的，必须是一个目录列表，由类路径基目录引导，直至包中的类。因此，包名可以告诉Java应该从基目录开始遍历哪些子目录以找到包中的类。图6.3描述了这种组织方式。包名中的圆点实际上与操作系统中用来表示目录路径的符号/或\的意思相同。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10479.jpeg)

图6.3　包名

你可以通过设置类路径（环境）变量的方式来指定类路径基目录。设置类路径变量的方式取决于操作系统。如果使用的是UNIX系统，那么可以用类似下面的命令来设置类路径：

![](../Images/image10480.gif)

如果使用的是Windows的机器，那么可以使用控制面板来设置或创建名为CLASSPATH的环境变量，以此来设置类路径变量。

回顾：包名

包名必须是包含包中各个类的目录的路径名，但是包名中要用圆点来代替\或/（取决于操作系统使用哪个符号）。当对包命名时，需要使用从类路径（环境）变量中命名的任意目录开始的相对路径名。

示例

![](../Images/image10481.gif)

你可以在类路径变量中列举多个基目录，典型情况下由分号将它们分隔开。例如，下面就是一个类路径：

![](../Images/image10482.gif)

表示你可以创建一个包目录，它要么是下面目录的子目录

![](../Images/image10483.gif)

要么是下面目录的子目录

![](../Images/image10484.gif)

当搜索包的目录时，Java首先查找下面目录的子目录：

![](../Images/image10485.gif)

如果在此处找不到要找的包，那么就在下面目录的子目录中查找：

![](../Images/image10486.gif)

无论何时，只要你设置或修改了类路径变量，都要确保将当前目录包括在内，作为候选目录之一。当前目录是你的程序（或其他类）所在的目录。在大多数系统中，当前目录都是用圆点来表示的。因此，你应该用下面的行来表示类路径变量：

![](../Images/image10487.gif)

我们在末尾添加了一个表示当前目录的圆点。然后，如果在前面两个基目录中都没有找到要找的包，那么Java就会在当前目录的子目录中查找，即在你的程序（或者你正在编译的任何类）的子目录中查找。如果想让Java在检查类路径上的其他目录之前先检查当前目录，那么就应该将当前目录（圆点）列在最前面。

疑难杂症：在类路径中没有包含当前目录

在类路径中删除当前目录不仅会限制可以使用的包的位置，还会与不使用包的程序产生互相干扰。如果没有创建包，而只是将所有类放到相同的目录中（就像本书剩余部分所做的那样），那么除非当前路径在类路径上，否则Java将找不到这些类。在大多数系统中，当前目录是用句点来表示的，即“.”。（如果根本就没有类路径，那么这个问题就不会发生。这个问题只有在设置了类路径变量时才会发生。）