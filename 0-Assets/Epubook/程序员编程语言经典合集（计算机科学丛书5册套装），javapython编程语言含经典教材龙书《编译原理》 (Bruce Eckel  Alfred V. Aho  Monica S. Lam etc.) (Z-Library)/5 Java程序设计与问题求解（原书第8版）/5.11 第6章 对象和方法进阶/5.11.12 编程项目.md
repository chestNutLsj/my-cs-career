   

## 编程项目

编程项目与实践程序相比，要求更高的问题解决能力，并且通常可以用多种不同的方式来解决。

1.定义一个工具类，用来显示double类型的值，称这个类为DoubleOut。该类包含程序清单6.14中的DollarFormat类中的所有方法、自测问题30中的OutputFormat类中的所有方法，以及一个名为scienceWrite的用像2.13e-12这样的e计数法显示double类型值的方法。（这种计数法也称为科学计数法，这也解释了方法名的由来。）当以e计数法显示时，所显示的数字在小数点前面应该正好只有一位非零数字，除非该数字正好是0。scienceWriteln方法与ScienceWrite方法相同，只是它会换行到下一行。除了最后两个方法的定义之外，其他方法定义都可以直接从书中复制过去（更便捷的方式是从网上获得的本书源码中复制）。注意，你正在重载方法名write和writeln。

编写一个驱动程序，测试你的scienceWriteln方法。这个驱动程序应该使用scienceWrite方法的桩。（注意，这意味着你应该在编写scienceWrite之前编写并测试scienceWriteln。）然后，编写一个驱动程序来测试scienceWrite方法。最后，编写一个看起来像超级驱动程序的程序，它接收一个double值为输入，然后使用两个writeln方法和scienceWrite方法来显示它。当需要指定小数点后的数字位数时，将其指定为5。这个超级驱动程序应该允许用户用其他的double类型数字重复执行该测试，直至用户认为可以终止该程序。

2.编写一个新的类TruncatedDollarFormat，它与程序清单6.14中的DollarFormat类相同，只是它会截断而不是四舍五入到小数点后两位数字。当截断时，小数点后两位数字之后的所有位数都会被丢弃，因此，1.229会变成1.22，而不是1.23。使用这个新的类重写第4章的编程项目3。

3.完成并充分测试练习2中描述的Time类。在其中再添加两个构造器，类似于练习2的c和d部分所描述的setTime方法。同时，还要包含下面的方法：

·getTime24会返回一个用24小时表示法hhmm格式表示时间的字符串。例如，如果小时的值为7，而分钟的值为25，那么就会返回“0725”；如果小时的值为0，而分钟的值为5，那么就会返回“0005”；如果小时的值为15，而分钟的值为30，就会返回“1530”。

·getTime12会返回一个用12小时表示法h：mm xx格式表示时间的字符串。例如，如果小时的值为7，而分钟的值为25，那么就会返回“7：25 am”；如果小时的值为0，而分钟的值为5，那么就会返回“12：05 am”；如果小时的值为15，而分钟的值为30，就会返回“3：30 pm”。

4.完成并充分测试练习5中描述的Characteristic类。包含下面的方法：

·getDescription——返回这种性格的描述。

·getRating——返回这种性格的rating。

·getCompatability（Characteristic otherRating）——返回两种性格的匹配程度，如果它们的描述不匹配，则返回0。

·getCompatabilityMeasure（Characteristic otherRating）——私有方法，返回使用下面的公式计算的作为double值的匹配程度度量：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10498.jpeg)

其中两个rating都不是0时；如果任何一个rating为0，那么m就是0。（回忆一下练习5，构造器将rating设置为0表示它的值还尚未确定。）

·isMatch（Characteristic otherRating）——私有方法，如果描述匹配，则返回true。

5.编写一个Java枚举LetterGrade，表示字母等第A到F，包括+和-等第。定义一个私有实例变量来持有表示该等第是否通过的布尔值。还要定义一个初始化该实例变量的构造器，一个返回该变量值的访问器方法isPassing，以及一个将该等第作为字符串返回的toString方法。最后，编写一个程序来演示该枚举的用法。

6.完成并充分测试练习10中描述的Person类。包含下面额外的方法：

·getName——将这个人的名字作为字符串返回。

·getAge——返回这个人的年龄。

·setName（first，last）——将这个人的名字设置为作为字符串给定的姓和名。

·setName（name）——将这个人的名字设置为作为一个字符串给定的完整名字。

·setAge（age）——设置这个人的年龄。

·createToddler——静态方法，返回这个类的特殊实例，表示蹒跚学步的小孩。这个实例的名字为”A toddler”，年龄为2。

·createPreschooler——静态方法，返回这个类的特殊实例，表示学龄前儿童。这个实例的名字为”A preschooler“，年龄为5。

·createAdolescent——静态方法，返回这个类的特殊实例，表示少年。这个实例的名字为”An adolescent“，年龄为9。

·createTeenager——静态方法，返回这个类的特殊实例，表示青少年。这个实例的名字为”A teenager“，年龄为15。

7.编写一个Temperature类，表示以摄氏度和华氏度表示的温度。使用浮点数表示温度，并用一个字符来表示单位——‘C’表示摄氏度，‘F’表示华氏度。这个类应该有：

·4个构造器：一个针对度数，一个针对单位，一个同时针对度数和单位，还有一个缺省构造器。对于每一个构造器，如果没有指定任何值，那么就假设为0度；如果没有指定单位，那么就假设为摄氏度。

·2个访问器方法：一个返回摄氏度的温度，另一个返回华氏度的温度。使用第3章实践程序5中的公式，并将度数四舍五入到最接近的0.1度。

·3个设置方法：一个设置度数，一个设置单位，一个同时设置这两个值。

·3个比较方法：一个用来测试两个温度是否相等，一个用来测试一个温度是否比另一个高，一个用来测试一个温度是否比另一个低。

编写一个驱动程序，测试所有的方法。要确保调用到每个构造器，针对每个比较方法，都要测试至少一个为真和一个为假的用例，并且至少要测试下面3对温度的相等性：0.0°C与32.0°F，-40.0°C和-40.0°F，100.0°C和212.0°F。

8.重写上一章的编程项目8，但是要包含构造器。

9.编写并充分测试表示有理数的类。有理数可以表示成两个整数值a和b的比，其中b不为0。这个类的属性包含比率中的分子和分母。这个比率应该总是存储成最简形式，即任何a和b的公因子都应该被约去。例如，有理数40/12应该存储为10/3。

这个类具有以下的构造器和方法：

·缺省构造器，将有理数设置为0/1。

·参数用于分子和分母的构造器，该构造器会将所产生的比率转换为简化形式。

·simplify——私有方法，将有理数转换为简化形式。

·getGCD（x，y）——私有静态方法，返回两个正整数x和y的最大公约数，即，它们的最大公分母。例如，40和12的最大公分母为4。

·getValue——将该有理数作为double值返回。

·toString——将该有理数作为a/b形式的字符串返回。

10.编写一个程序，通过使用VoteRecorder类来记录两位候选人之一的得票数，这个类需要你来设计和创建。VoteRecorder具有用来跟踪候选人总得票数的静态变量，以及跟踪每个人选票的实例变量。它具有下面的属性：

·nameCandidatePresident1——静态字符串，存储第一位总统候选人的名字。

·nameCandidatePresident2——静态字符串，存储第二位总统候选人的名字。

·nameCandidateVicePresident1——静态字符串，存储第一位副总统候选人的名字。

·nameCandidateVicePresident2——静态字符串，存储第二位副总统候选人的名字。

·votesCandidatePresident1——静态整数，存储第一位总统候选人的得票数。

·votesCandidatePresident2——静态整数，存储第二位总统候选人的得票数。

·votesCandidateVicePresident1——静态整数，存储第一位副总统候选人的得票数。

·votesCandidateVicePresident2——静态整数，存储第二位副总统候选人的得票数。

·myVoteForPresident——整数，存储单个人选举总统的选票（0表示未选择，1表示第一位候选人，2表示第二位候选人）。

·myVoteForVicePresident——整数，存储单个人选举副总统的选票（0表示未选择，1表示第一位候选人，2表示第二位候选人）。

除了适当的构造器，VoteRecorder还具有下面的方法：

·setCandidatesPresident（String name1，String name2）——静态方法，设置两位总统候选人的名字。

·setCandidatesVicePresident（String name1，String name2）——静态方法，设置两位副总统候选人的名字。

·resetVotes——静态方法，重置选票数为0。

·getCurrentVotePresident——静态方法，返回一个字符串以及两位总统候选人当前的得票总数。

·getCurrentVoteVicePresident——静态方法，返回一个字符串以及两位副总统候选人当前的得票总数。

·getAndConfirmVotes——非静态方法，获取单个人的选票，确认它们，然后记录它们。

·getAVote（String name1，String name2）——私有方法，返回单个人的投票在两位候选人之前的选择（0表示未选择，1表示第一位候选人，2表示第二位候选人）。

·getVotes——私有方法，返回单个人对总统和副总统的投票选择。

·confirmVotes——私有方法，显示某个人对总统和副总统的选举票，询问投票者是否对这些选择感到满意，根据对是否满意的回答返回true或false。

·recordVotes——私有方法，将单个人的选票加到恰当的静态变量上。

·创建一个程序来进行选举。总统候选人为Annie和Bob，副总统候选人为John和Susan。使用循环来记录大量选民的选票。为每位选民都创建一个新的VoteRecorder对象。当所有选民都投票之后，呈现选举的结果。

11.重写第5章的编程项目10，但是要包含构造器。

12.创建一个JavaFX应用程序，显示一个具有文本“Button 1”的按钮。在该按钮的下面添加一个文本为“Label 1”的标签。重复此过程，添加“Button 2”和“Label 2”。对第一个按钮和第一个标签添加你选择的图标。

13.编写一个程序，用来玩简化的骰子版本的21点游戏。与从一副牌中抽取一张牌不同，我们会通过投掷一个14个面的骰子来表示一张牌。每一轮的游戏规则和与庄家玩该游戏的规则相同，具体如下：

a）每投掷一次就表示随机地从2~10或J、Q、K、A中选择了一个值，其中A的值总是11，J、Q、K的值都是10。换句话说，每次投掷都有相等的概率从2、3、4、5、6、7、8、9、10、10、10、10、11中选中一个。

b）人类玩家会输入赌注，赌注必须是整数并且不能超过玩家所拥有的钱数。

c）玩家有两个骰子，庄家由计算机来扮演，有一个骰子。需要向玩家展示庄家骰子的点数。

d）如果所有骰子的总点数是22或更大，那么玩家就“爆掉”了，赌注就输掉了，这一轮就结束了。

e）如果所有骰子的总点数是21或更小，那么玩家就可以选择“拿牌”或者“停牌”。如果玩家选择“拿牌”，那么他就会在得到另一个骰子，返回第4步。如果玩家选择“停牌”，那么就继续执行第6步。

f）现在轮到庄家了。庄家再得到一个骰子，然后把点数加起来。如果总点数小于17，那么庄家就必须“拿牌”。如果庄家的总点数为22或更大，那么庄家就“爆掉”了，玩家赢得赌注，这一轮就结束了。庄家必须持续拿牌，直至“爆掉”或者总点数在17到21之间。

g）如果庄家没有“爆掉”，那么就需要拿他的值与玩家的值做比较。如果总点数相同，那么就是“打和”，玩家不输也不赢。如果庄家的总点数大于玩家的，那么玩家就会输掉赌注。如果玩家的总点数大于庄家的，那么玩家就会赢得赌注。

编写一个程序，重复若干轮，直至玩家决定退出或输光钱。玩家最初有$100。使用类和方法来设计你的类，完整的程序不应该只有单个的main方法。