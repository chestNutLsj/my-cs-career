   

### 6.2.5　Math类

预定义类Math提供了大量标准的数学方法。在使用Java语言时，这个类是自动提供的，并不需要任何import语句。表6.1描述了Math类中的一些方法，所有这些方法都是静态的，这意味着我们不需要使用Math类的对象，事实上，创建Math类的对象也没什么实际用途。正常情况下，我们会使用该类的名字（即Math）来代替对象名去调用这些方法。例如，下面的代码显示了数字2和3中较大的值。

![](../Images/image10364.gif)

我们还可省略变量ans，直接写成：

![](../Images/image10365.gif)

Math类还定义了两个具名常量：PI和E。常量PI（在数学公式中经常写作p）在涉及对圆形、球体和其他基于圆的几何形状的计算中会用到。PI近似等于3.141 59。常量E是自然对数系统的底数，在数学公式中经常写作e。E近似等于2.718 28。常量PI和E都是静态的，因此可以用Math.PI和Math.E来引用它们。例如，下面的代码计算了给定半径的圆的面积：

![](../Images/image10366.gif)

应该在你的类中使用常量Math.PI和Math.E，而不要使用自己定义的版本。

如果观察表6.1中的方法，就会发现有3个很相似但是并不完全一样的方法，分别是round、floor和ceil。虽然这些方法中有的会返回一个double类型的值，但是它们返回的都是一个在直观上很接近其引元的表示整数的值。方法round会将一个数字四舍五入到最接近的整数，如果其引元是double值，那么它会返回long类型的值。如果想要得到int类型的整数值，那么必须使用强制类型转换，就像下面这样[^1]：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10367.jpeg)

这里，answer被赋值为4。

floor和ceil方法与round类似，仅有少许差异。它们都会返回double类型而不是int或long类型的、最接近其引元值的整数。floor方法会返回小于等于其引元的最接近的整数，这种动作称为向下舍入。因此Math.floor（3.9）会返回3.0而不是4.0，而Math.floor（3.3）也会返回3.0。

ceil方法会返回大于等于其引元的最接近的整数，这种动作称为向上舍入。因此Math.ceil（3.1）会返回4.0而不是3.0，而Math.ceil（3.9）也会返回4.0。

如果想要将floor或ceil返回的值存储到int类型的变量中，就必须使用类型强制转换，就像下面的例子一样：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10368.jpeg)

在本例中，Math.floor（start）返回的是double值3.0，变量lowAnswer接收到的是int值3。Math.ceil（start）返回的是double值4.0，变量highAnswer接收到的是int值4。

表6.1　Math类中的静态方法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10369.jpeg)

最后是方法random，它会返回一个大于等于0小于1的随机double值。通常位于0到1范围内的数字并非是我们想要的值，此时可以通过乘法和加法将返回的随机数缩放到期望的范围内。如果想要的是整数，那么类型强制转换就是必需的。例如，为了模拟投掷6个面的骰子，我们可以使用下面的语句：

![](../Images/image10370.gif)

将随机数乘以6.0可以得到范围在大于等于0小于6.0内的一个值，将其类型强制转换为int，可以对结果截尾，得到整数0、1、2、3、4或5，加1就会得到在1到6范围内的一个随机整数值。

自测问题

17.下面每行代码会返回什么值？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10371.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10372.jpeg)

18.假设speed是double类型的变量，并且你想要将Math.round（speed）的值赋值给int类型的变量approxSpeed，那么你应该编写什么样的赋值语句呢？

19.重做前一个自测问题，但是将Math.round（speed）的值赋值给long类型的变量longSpeed。

20.假设n1是int类型而n2是long类型，Math.min（n1，n2）将返回什么类型的值？

21.定义一个CircleCalculator类，它只有两个方法——getArea和getCircumference，这些方法分别会返回给定半径的圆的面积和周长。这两个方法都是静态的。不要定义你自己的pi值。

[^1]:  我们不能将long值存储到int类型的变量中，即便是像4这样小到适合int变量的值，也是如此。