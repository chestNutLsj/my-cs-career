   

### 2.2.4　字符串处理

在技术上，String类型的对象不能被修改。注意，表2.3中没有任何方法可以修改String对象的值。String类的方法比表2.3中所展示的方法要多，但是它们中没有任何方法可以让我们编写出语句，去执行类似“将这个字符串中第5个字符修改为'z'”这样的操作。有意识地做出这样的设计，是因为想要让String类的实现变得更高效，即让这些方法执行得更快，同时占用的计算机内存更少。Java还有另一个字符串类StringBuilder，它拥有可以改变其对象的方法。但是我们在这里不会讨论这个类，因为不需要使用它。

尽管无法修改像"Hello"这样的String对象的值，但是仍旧可以编写程序去修改String变量的值，这可能正是你想要的。为了进行修改，我们可以直接使用赋值表达式，就像下面例子中所示：

![](../Images/image09616.gif)

第二行中的赋值语句将变量name的值从"D'Aargo"修改成了"Ka D'Aargo"。程序清单2.4展示了一个样例程序，它执行了一些简单的字符串处理，并且修改了一个String变量的值。我们将在下一节解释出现在println方法引元中的反斜杠。

程序清单2.4　使用String类

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09617.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09618.jpeg)

疑难杂症：字符串索引越界

字符串的第一个字符在索引0而不是索引1处。因此，如果字符串中包含n个字符，最后一个字符就位于索引n-1处。无论何时，只要调用了接受索引作为引元的字符串方法，例如charAt，其索引值就必须是有效的。也就是说，索引值必须大于等于0且小于字符串的长度。超出这个范围的索引值称为越界，或者直接称为无效。这样的索引会导致运行时错误。