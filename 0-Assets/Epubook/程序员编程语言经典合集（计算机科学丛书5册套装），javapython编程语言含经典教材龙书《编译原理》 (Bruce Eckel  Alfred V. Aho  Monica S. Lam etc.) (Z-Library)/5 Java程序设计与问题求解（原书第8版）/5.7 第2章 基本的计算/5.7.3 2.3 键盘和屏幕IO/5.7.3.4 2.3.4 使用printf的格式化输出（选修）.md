   

### 2.3.4　使用printf的格式化输出（选修）

从5.0版本开始，Java就包含了一个名为printf的方法，它可以用来产生某种指定格式的输出。它的用法与C编程语言中的printf函数相同。这个方法工作起来与print方法类似，只是它允许我们添加格式指令，用来指定像小数点后包含几位小数之类的格式。例如，考虑下面的语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09680.jpeg)

这段代码会产生下面的输出：

![](../Images/image09681.gif)

使用println时，price被输出为紧跟在冒号后面的"19.5"，因为我们没有添加额外的空格。使用printf时，冒号后面的字符串是"19.50"，即19.50前面加一个空格。在这个简单的示例中，传递给printf的第一个引元是被称为格式说明符的字符串，第二个引元是要以这种格式输出的数字或其他值。

格式说明符%6.2声明：在一个宽度为6（6个字符的空间）的域（空间的数量）内输出一个浮点数，并且在小数点后显示2位数字。因此，19.5在宽度为6的域内表示成了"19.50"。因为"19.50"只有5个字符，所以会添加一个空格字符，从而得到6个字符的字符串"19.50"。所有额外的空格字符都会添加到输出值的前面。如果输出内容中的字符数比域中指定的长度还要长（例如，在本例中，如果域通过%1.2f设置成了1），那么该域会自动地扩充到正好适合输出内容的长度（在我们的示例中是5）。%6.2f中的f表示输出的是一个浮点数，即带有小数点的数字。

表2.6总结了一些常用的格式说明符。

表2.6　用于System.out.printf的部分格式说明符

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09682.jpeg)

可以将多个格式说明符组合成一个字符串。例如，给定下面的语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09683.jpeg)

其输出为："Widgets sold：2 at$19.50.Total=$39.00"，在"Widgets"前面有3个空格，以产生一个10个字符的域。类似地，在2前面也有3个空格，以产生一个4个字符的域，19.50正好适合5个字符，最后一个表示总价的域从1个字符被扩充到了5个字符，以使它适合39.00。

自测问题

27.编写Java语句，使得下面的内容输出到屏幕上：

![](../Images/image09684.gif)

28.System.out.println方法和System.out.print方法有什么不同？

29.编写一个完整的Java程序，使其读取包含了两个由一个或多个空格分隔的int类型值的键盘输入行，然后显示这两个数字。

30.编写一个完整的Java程序，使其读取包含了三个由任何种类或任何数量的空白字符分隔的单词的文本行，然后将这一行按照下面的要求显示：在输出中，第一个单词之前没有空格，在任意两个毗邻的单词之间包含两个空格。

31.下面的语句会产生什么样的输出？

![](../Images/image09685.gif)