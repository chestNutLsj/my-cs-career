   

### 2.4.2　注释

程序的文档描述了程序是做什么的，以及是如何做到的。最好的程序是自描述的，这意味着它们具有非常整洁的样式和精挑细选的标识符，使得对阅读该程序的所有程序员而言，该程序是做什么的，以及是如何做到的都一目了然。你应该努力编写出这种自描述的程序，但是你的程序可能还是需要一些额外的解释，使得它们变得彻底明晰。这些解释可以用注释的形式给出。

注释是我们在程序中编写的笔记，它们有助于人们理解我们的程序，但是这些注释会被编译器忽略。我们有三种方式将注释插到Java程序中。第一种方式是在注释的开头使用//符号。在这些符号之后直至这一行末尾的所有内容都会被当作注释处理，并且会被编译器所忽略。这种技术对于短注释来说非常方便，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09686.jpeg)

如果想要让这种形式的注释跨越数行，那么每一行都必须在开头包含//符号。

第二种注释可以很容易地跨越数行。在互相匹配的符号对/*和*/之间的所有内容都是注释，并且会被编译器所忽略。

例如，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09687.jpeg)

这是一条不太可能出现的注释，但是它展示了/*和*/的用法。

许多文本编辑器会自动地用特殊颜色来强调显示注释。在本书中，我们也会用不同的颜色来书写注释，就像下面的注释所展示的：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09688.jpeg)

注意，这条注释在开头的/**中使用了两个星号而不是一个，这并非是表示注释时所必需的，但是当我们使用名为javadoc的工具时，它就是必需的了，该工具能够自动地从Java软件中抽取出文档。我们将在本书稍后讨论javadoc是如何使用的，但是我们从现在开始就要使用两个星号。

对于何时应该或不应该插入注释这个问题，我们很难解释。过多的注释与过少的注释同样糟糕。在过多的注释中，真正重要的信息就会淹没在陈述浅显信息的注释海洋中。当我们向你展示的Java特性变多时，我们会告诉你应该插入注释的地方。但是，现在，在正常情况下，你应该只需要在两种情况下插入注释。

首先，每个程序文件都应该在其开头部分有一条解释性的注释。这条注释应该给出有关这个问题的所有重要信息：这个程序是做什么的，作者的名字，如何联系作者，该文件上次被修改的日期，以及其他与应用场景相关的信息，例如课程作业编号。这条注释应该类似于程序清单2.7顶部所示的注释。

其次，应该编写注释来解释所有不那么明显的细节。例如，请浏览程序清单2.7中的程序，注意，有两个变量被命名为radius和area。很明显，这两个变量持有的分别是圆的半径和面积。此时，你不应该编写下面这样的注释：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09689.jpeg)

但是，有些事情并不明显。半径用的单位是什么？是英寸？英尺？米？还是厘米？你应该编写一条注释来解释所使用的单位，就像下面这样：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09690.jpeg)

这两条注释也在程序清单2.7中得到了展示。

牢记：编写自描述的代码

自描述代码使用了精挑细选的名字，并且具有整洁的样式。程序的作用和工作机制必须对所有阅读它的程序员来说都一目了然，即使程序中不包含任何注释，也得如此。为了使之成为可能，你就应该尽力使你的程序成为自描述的。

程序清单2.7　注释和缩进

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09691.jpeg)

回顾：Java注释

Java中添加注释的方式有三种：

·在//符号后面直至这一行末尾的所有内容都是注释，并且会被编译器忽略。

·任何在/*和*/符号对之间的内容都是注释，并且会被编译器忽略。

·任何在/**和*/符号对之间的内容都是注释，这条注释会被归档程序javadoc处理，但是会被编译器忽略。