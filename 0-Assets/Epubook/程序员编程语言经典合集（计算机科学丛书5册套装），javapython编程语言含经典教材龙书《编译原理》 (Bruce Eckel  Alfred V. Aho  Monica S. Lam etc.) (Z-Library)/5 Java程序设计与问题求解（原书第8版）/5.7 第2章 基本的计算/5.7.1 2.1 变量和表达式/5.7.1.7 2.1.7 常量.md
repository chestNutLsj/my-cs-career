   

### 2.1.7　常量

变量拥有可以修改的值，这就是称其为变量的原因——它的值可以变化。像2这样的数字是不能修改的，它总是2，永远不会是3。在Java中，像2或3.7这样的项称为常量或字面值，因为它们的值不能修改。

常量未必是数字。例如，'A''B'和'$'是三个char类型的常量。它们的值不能修改，但是可以用于赋值语句去修改char类型的变量。例如，下面的语句

![](../Images/image09531.gif)

会将字符变量firstInitial的值改为'B'。

本质上，编写char类型常量的方式只有一种，即把字符置于一对引号之间。另一方面，编写数字型常量的规则更多一些。整数类型的常量可以按照你希望的方式编写，例如2、3、0、-3或752。整数常量前面可以添加正号或负号，例如+12和-72。数值型常量不能包含逗号，数字1，000在Java中是不正确的。整数常量不能包含小数点，因为带有小数点的数字是浮点型数字。

浮点型常量数字可以用两种形式来编写。一种是简单形式，就像我们日常书写数字时在小数点后面写数字一样。例如，2.5就是一个浮点型常量。另一种稍微复杂一点的形式类似于在数学和物理学中普遍使用的科学计数法。例如，考虑一下数字865000000.0，这个数字用下面的科学计数法表示会更清晰：

![](../Images/image09532.gif)

Java有类似的计数法，称为e计数法或浮点计数法。因为键盘无法编写指数，所以10就被忽略了，乘号和10一起被字母e代替。因此，在Java中，8.65×108写作8.65e8。e表示指数（exponent），因为它后面跟着的数字表示10的指数。这种形式和不那么方便的形式865000000.0在Java程序中是等价的。类似地，数字4.83×10-4（即0.000483）在Java中既可以写作0.000483，也可以写作4.83e-4。注意，还可以将这个数字写作0.483e-3或48.3e-5。Java没有对小数点的位置做严格的限制。

e之前的数字可以包含小数点，但这不是必需的，而e之后的数字则不能包含小数点。因为乘以10与把小数点向前移动一位是相等的，所以可以将e之后的整数看作将小数点向右移动多少位。如果e后面的数字是负数，就需要将小数点向左移动相应的位数。例如，2.48e4与数字24800.0相同，而2.48e-2与数字0.0248相同。

常见问题：浮点数中的“浮点”是什么？

浮点数之所以得名，是因为在我们刚刚描述的e计数法中，小数点可以通过调整指数“浮动”到新的位置。我们可以让0.000483中的小数点向后浮动4位，方法是将这个数字表示成等价的表示形式4.83e-4。计算机语言的实现者使用了这种技巧来存储每个浮点数，使得它们都是小数点前只有1位（并且有某个适合的指数）的数字。因为这种实现总是在浮动数字中的小数点，所以称为浮点数。实际上，浮点数是以其他的基数存储的，例如2或16，而不是我们举例子时所使用的十进制基数10，但是它们的原理都是一样的。

常见问题：常量5和5.0有实质区别吗？

数字5和5.0在概念上是相同的数字，但是Java认为它们是不同的。因此，5是int类型的整数常量，但是5.0是double类型的浮点型常量。5.0包含小数部分，尽管小数部分为0。虽然看起来数字5和5.0具有相同的值，但是Java存储它们的方式不同。整数和浮点数在存储到计算机中时，都只包含有限的位数，但是只有整数在数量上是精确的。因为浮点数有小数部分，所以将它们看作近似值。

疑难杂症：浮点数的不精确性

浮点数的存储方式只具有有限的精度，因此，实际上它们只是近似值。例如，分数“三分之一”等于

![](../Images/image09533.gif)

其中省略号表示3循环。计算机存储这种数字的格式有些像上面的十进制小数的表示形式，但是它只占用有限位数的空间。如果它只能存储小数点后10位数字，那么三分之一就会存储为

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09534.jpeg)

这个数字比三分之一稍微小一点，因此只是近似等于三分之一。在实际情况中，计算机会以二进制而不是十进制来存储这些数字，但是其原理相同，执行的操作也相同。

并非所有的浮点数在存储到计算机中时都会丢失精度。像29.0这样的整数值可以用浮点数计数法精确存储，像0.5这样的小数也可以。即便这样，我们通常也无法知晓一个浮点数是精确值还是近似值。如果存疑，就应该认为这个浮点数存储的是近似值。