   

### 7.2.2　索引变量作为方法引元

数组a的索引变量（例如a[i]）可以用于能使用该数组基类型的任何其他变量的地方。因此，索引变量可以赋值给方法的引元，其方式与该数组基类型的任何其他变量赋值给引元的方式完全相同。

例如，程序清单7.5中的程序展示了如何将索引变量用作方法引元。getAverage方法接受两个int类型的引元，而数组nextScore的基类型就是int，所以该程序使用nextScore[i]作为getAverage的引元，就像从该程序中抽取的下面这行一样：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10590.jpeg)

变量firstScore是一个int类型的普通变量。为了有助于把事情讲清楚，即索引变量nextScore[i]可以像任何其他int类型的变量一样使用，请注意，如果我们像下面这样互换getAverage的两个引元，该方法的行为将完全一致：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10591.jpeg)

getAverage方法的定义并未包含任何提示，说明其引元可以是int数组的索引变量。该方法接受int类型的引元，既不知道也不关心这些int引元是来自索引变量、常规的int变量，还是常数值。

程序清单7.5　索引变量作为引元

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10592.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10593.jpeg)

当索引变量用作方法引元时，有一个细微差别。例如，考虑前面的方法调用。如果i的值为2，那么引元就是nextScore[2]。另一方面，如果i的值为0，那么引元就是nextScore[0]。用作索引的表达式要先计算出它的值，以确定到底哪个索引变量是引元。

注意，数组a的索引变量（例如a[i]）是该数组基类型的变量。当a[i]用作方法引元时，处理它的方式与处理数组a的基类型的任何其他变量的方式完全一样。特别是，如果该数组的基类型是基本类型，例如int、double或char，那么该方法就不能修改a[i]的值。另一方面，如果该数组的基类型是类类型，那么该方法就可以修改由a[i]所命名的对象的状态。这些并非新的知识点，你只需要记住，像a[i]这样的索引变量就是该数组基类型的变量，对其处理方式就像处理该数据类型的任何其他变量一样。

回顾：索引变量作为引元

索引变量可以在数组基类型的变量能用作引元的任何地方用作引元。例如，假设有

![](../Images/image10594.gif)

像a[3]和a[index]这样的索引变量可以用作任何接受double值作为引元的方法的引元。

常见问题：一个方法何时可以修改身为索引变量的引元？

假设a[i]是数组a的索引变量，并且a[i]在像下面的方法调用中用作引元：

![](../Images/image10595.gif)

doStuff方法是否可以修改数组元素a[i]取决于数组a的基类型。如果数组a的基类型是基本类型，例如int、double或char，那么doStuff方法接收到的就是a[i]的值，因此无法修改a[i]本身。但是，如果数组a的基类型是类，那么doStuff方法接收到的就是a[i]的引用。这样，该方法就可以修改由a[i]命名的对象的状态，但是不能用另一个对象来替换该对象。（请复习第5章有关方法引元的细节。）