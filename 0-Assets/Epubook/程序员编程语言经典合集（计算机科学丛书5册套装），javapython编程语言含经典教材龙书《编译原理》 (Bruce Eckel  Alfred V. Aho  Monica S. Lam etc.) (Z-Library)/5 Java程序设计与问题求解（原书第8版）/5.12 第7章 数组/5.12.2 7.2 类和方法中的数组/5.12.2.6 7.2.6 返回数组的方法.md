   

### 7.2.6　返回数组的方法

Java方法可以返回数组。为了实现这一点，我们需要按照与指定数组参数类型相同的方式指定方法的返回类型。例如，在程序清单7.7中，包含了程序清单7.5中的程序的一个修订版本。这两个程序都可以执行许多相同的计算，但是新版本在getArrayOfAverages方法中计算了各种可能的平均分数。这个新方法会将这些平均分数当作数组返回。这个方法通过下面的步骤创建了新数组，然后将其返回，以此来实现其功能：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10615.jpeg)

程序清单7.7　返回数组的方法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10616.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10617.jpeg)

回顾：返回数组

方法可以按照与返回其他类型值基本相同的方式返回数组。

语法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10618.jpeg)

该方法并非必须是static和public的。下面是其他一些可接受的方法头：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10619.jpeg)

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10620.jpeg)

回顾：数组的数据类型名

数组的数据类型名总是具有下面的形式：

![](../Images/image10621.gif)

在声明数组变量、指定数组参数的类型或者指定方法返回数组时，采用的都是这种形式。

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10622.jpeg)

疑难杂症：数组的隐私泄露

如果类中某个公有方法会返回数组，则数组类型的私有实例变量可以在其所属类的外部被修改。这与我们在上一章讨论过的问题相同，因此其解决方案类似。

自测问题

9.下面的代码会产生什么样的输出？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10623.jpeg)

10.给出名为showArray的静态方法的定义，它具有单个参数（基类型为char的数组），并且会在屏幕上输出一行文本，这行文本由数组引元中的字符按顺序排列而成。

11.给出名为getArrayOfHalves的静态方法的定义，它具有单个参数（基类型为double的数组），并且会返回另一个数组，其基类型和长度都与参数数组相同，但是每个元素都是参数数组对应元素被2.0整除后的结果。

12.下面的方法可以编译和执行，但是无法如你所希望地工作。它有什么问题？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10624.jpeg)

13.下面的方法可以编译和执行，但是无法如你所希望地工作。它有什么问题？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10625.jpeg)

14.假设我们将下面的方法添加到程序清单7.4的SalesReporter类中，使得使用该类的程序可以访问销售员信息：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10626.jpeg)

这个方法能否如其所示地编译和执行？将这个方法添加到SalesReporter类中是否是一个好的想法？