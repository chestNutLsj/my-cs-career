   

### 7.4.1　选择排序

设想有一个希望按照升序排序的整数数组。即，我们会重新排列该数组中索引变量的值，使得：

![](../Images/image10640.gif)

我们将讨论一种最容易理解的排序算法——选择排序。这个算法遵循了我们希望该算法遵循的功能规范。即，我们想让该算法重新排列数组a中的值，使得a[0]最小，a[1]次小，以此类推。这样会产生下面的伪代码：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10641.jpeg)

我们希望这个算法只使用a这一个数组，因此，在不丢失其他任何元素的情况下，唯一可以移动一个数组元素的方式就是将其与数组中另一个元素交换位置。任何互换或者交换值的排序算法都称为交换排序算法。因此，我们的选择排序算法就是一种交换排序算法。

让我们先来看看数组元素是如何被交换的。图7.5展示了如何通过交换值来排序数组。一开始，数组中是未排序的值，我们先定位数组中最小的值。在本例中，这个值是a[4]中的3。因为我们想让这个最小的值成为数组中的第一个值，所以将a[4]中的值与a[0]中的值交换。在这次交换之后，最小的值就存储在它应该位于的a[0]中了。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10642.jpeg)

图7.5　选择排序

该数组中下一个最小的值是a[6]中的5。它需要成为数组中的第二个值，因此我们将a[6]中的值与a[1]中的值交换。这次交换之后，a[0]和a[1]中的值就是最小和次小的值了，这也正是它们在最终排好序的数组中的位置。然后，该算法将下一个最小的值与a[2]交换，以此类推，直至整个数组排好序。

在数组中查找最小值与查找最大值类似，我们在程序清单7.4的computeStats方法中这么做过。但是，如何找到次小的值、第三小的值，以及后续的最小值呢？在找到a[0]，a[1]，…，a[n]中最小的值并将其放到a[0]中之后，数组a中次小的值就是a[1]，…，a[n]中最小的值。在将其放入a[1]中后，数组a中第三小的值就是a[2]，…，a[n]中最小的值，以此类推。

下面的伪代码描述了选择排序的算法。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10643.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10644.jpeg)

数组选择排序的算法

注意，该数组包含两个部分：一个部分已经排好序了，另一个还没有。算法中的断言表示排好序的部分包括元素a[0]到a[index]。注意，该断言在循环的每次迭代之后都为真。我们不断地在未排序的部分中查找最小的值，然后通过互换元素将其移动到排好序部分的末尾。因此，排好序的部分会在循环的每次迭代后增长一个元素，而未排好序的部分会减少一个元素。在图7.5中，排好序的部分用灰色阴影表示。

注意，for循环会在正确地填充了元素a[a.length-2]后终止，尽管最后一个数组元素的索引是a.length-1。在该算法将除最后一个元素之外的所有元素都排好序之后，适合存放在最后一个元素a[a.length-1]中的值就已经在a[a.length-1]中了。

程序清单7.10包含的类定义了一个名为selectionSort的静态方法，该方法实现了选择排序算法。该方法使用了两个名为getIndexOfSmallest和interchange的私有辅助方法。一旦理解了这些私有方法，你就会看到selectionSort方法的定义就是将伪代码直接翻译成了Java代码。因此，让我们来讨论这两个私有方法。

程序清单7.10　选择排序的实现

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10645.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10646.jpeg)

getIndexOfSmallest方法会搜索数组元素：

![](../Images/image10647.gif)

并返回最小值的索引。它是通过使用两个局部变量min和indexOfMin来实现其功能的。在其搜索的任何时刻，min都等于到目前为止找到的最小值，而indexOfMin是这个值的索引。因此，a[indexOfMin]的值就是min。最初，min被设置成了a[startIndex]，它是第一个被当作min的值，而indexOfMin被设置成了startIndex。然后，会依次检查每个数组元素以确定它是否是新的最小值。如果是，min和indexOfMin的值就会被更新。在检查了所有备选数组元素之后，该方法返回indexOfMin的值。

名为interchange的方法会将a[i]与a[j]的值互换。这个方法只有一个稍显深奥的点，那就是如果执行下面的代码：

![](../Images/image10648.gif)

我们将会丢失最初存储在a[i]中的值。因此，在这条语句执行之前，我们必须先将a[i]的值存储在局部变量temp中。

程序清单7.11包含的演示程序展示了如何使用选择排序方法。

程序清单7.11　selectionSort方法的演示

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10649.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10650.jpeg)