   

### 7.1.2　数组详情

可以按照与使用new操作创建类类型对象相同的方式创建数组，但是表示形式上稍微有些不同。在创建元素类型为Base_Type的数组时，语法如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10530.jpeg)

例如，下面的语句创建了一个名为pressure且与100个int类型变量等价的数组：

![](../Images/image10531.gif)

或者，也可以将上面的语句断开成两个步骤：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10532.jpeg)

第一步声明了一个整数数组，而第二步分配了足够的内存给数组以持有多达100个整数。

旁白：声明数组的另一种语法  

尽管我们不鼓励使用它，但是确实还有另外一种你可能会碰到的声明数组的语法。你可以在变量后面直接书写方括号，而不是在基类型之后书写，就像下面这个示例：  

![](../Images/image10533.gif)

数组元素的类型称为该数组的基类型。在这个示例中，基类型为int。数组中元素的个数称为该数组的长度、尺寸或容量。因此，这个样例数组pressure的长度为100，这意味着它包含了索引变量pressure[0]到pressure[99]。注意，因为索引是从0开始的，所以像pressure这样长度为100的数组，并没有索引变量pressure[100]。

数组的基类型可以是任何数据类型。特别是可以为类类型。下面的语句就创建了一个元素为Species对象的名为entry的数组，其中Species是一个类：

![](../Images/image10534.gif)

这个数组是3个变量entry[0]、entry[1]和entry[2]的集合，它们都是Species类型。

回顾：声明和创建数组

我们可以按照与声明和创建类对象几乎相同的方式来声明和创建数组。在语法上只有一点差异。

语法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10535.jpeg)

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10536.jpeg)

牢记：如何在数组上使用方括号

有三种不同的方式在数组名上使用方括号。

·在声明数组时和数据类型连用，例如，

![](../Images/image10537.gif)

声明了整数数组pressure，但是没有为其分配内存。

·在创建新数组时用来将整数表达式括起来。例如，

![](../Images/image10538.gif)

为pressure数组分配了100个整数的内存。

·用来命名数组的索引变量。例如，下面两行中的pressure[3]就是索引变量：

![](../Images/image10539.gif)

正如我们之前提到的，方括号中的值可以是任何计算出来为整数值的表达式。当创建数组时，与使用整数字面常量不同，你可以并且应该使用具名常量。例如，应该使用像NUMBER_OF_READINGS这样的常量而不是在创建pressure数组时使用100：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10540.jpeg)

Java会在执行时为数组以及其他任何对象分配内存。因此，如果在编写程序时不知道要创建多大的数组，那么可以像下面这样从键盘处读取数组的长度：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10541.jpeg)

在命名数组的索引变量时，还可以使用任何计算出来为恰当的整数的表达式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10542.jpeg)

注意，前面代码中的temperature[point+3]与索引变量temperature[5]相同，因为point+3等于5。

图7.2展示了引用数组时最常用的一些术语。注意，元素这个词有两个意思，它可以用来指代索引变量，也可以用来指代索引变量的值。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10543.jpeg)

图7.2　有关数组的术语

编程窍门：对数组一般应该使用单数形式的名字

如果想让数组持有许多项，每个项都是名为Species的类的对象，那么你可能会尝试使用像下面这样的语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10544.jpeg)

使用复数形式（例如entries）看起来有意义，因为数组持有的是多个元素。但是，程序员发现如果使用单数形式的数组名，程序读起来会更好，就像下面这样：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10545.jpeg)

单数形式看起来更好的原因是，当数组名用于某种排序计算时，这个名字引用的就只是一个元素。表达式entry[2]就是该数组的单个元素，就像下面语句中的情况一样：

![](../Images/image10546.gif)

对数组使用单数形式的名字并非铁律，有时使用复数名字会显得更有意义。例如，如果索引变量包含的是第n位雇员的工作时长，那么复数形式hours[n]就显得有意义了。唯一可以确定使用单数名还是复数名的标准就是考虑在Java代码的上下文中如何理解索引变量。