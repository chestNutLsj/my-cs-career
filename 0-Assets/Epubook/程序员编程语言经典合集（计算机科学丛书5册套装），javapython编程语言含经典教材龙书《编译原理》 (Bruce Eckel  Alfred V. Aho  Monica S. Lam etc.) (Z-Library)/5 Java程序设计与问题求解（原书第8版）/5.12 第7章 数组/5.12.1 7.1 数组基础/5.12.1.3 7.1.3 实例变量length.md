   

### 7.1.3　实例变量length

数组是一种对象，并且和其他对象一样，可以拥有实例变量。实际上，数组只有一个公有实例变量length，它等于数组的长度。例如，如果通过下面的语句创建数组：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10547.jpeg)

那么entry.length的值就是20。通过使用实例变量length而不是像20这样的字面常量，就可以使程序更整洁且更通用。像entry.length这样的名字对于程序的阅读者来说，其意义远比含义并非总是那么明确的数字要清晰得多。此外，如果后续我们决定要修改数组的尺寸，那么也无须修改所有出现的entry.length。注意，length是final变量，所以它的值不能修改。

疑难杂症：对实例变量length赋值

程序不能对实例变量length赋值，因为它是final变量。例如，下面对数组尺寸进行修改的尝试是无效的：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10548.jpeg)

在程序清单7.2中，我们使用实例变量length重新编写了程序清单7.1中的程序。我们还从用户处将数组temperature的尺寸读取到了变量size中。在本例中，我们使用的是size而不是temperature。但是，因为size不是final变量，所以它的值可以修改，因此并非总是等于temperature.length。

程序清单7.2　修订版的温度数组

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10549.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10550.jpeg)

编程窍门：使用for循环遍历数组

for语句是一种遍历数组元素的完美机制。例如，下面来自程序清单7.2中的for循环就展示了一种遍历数组的方式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10551.jpeg)

在给出数组中所有元素的值之后遍历整个数组的另一种方式是使用我们在第4章介绍过的for-each语句。例如，程序清单7.2中最后一个显示数组temperature中各个值的循环可以修改为下面的形式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10552.jpeg)