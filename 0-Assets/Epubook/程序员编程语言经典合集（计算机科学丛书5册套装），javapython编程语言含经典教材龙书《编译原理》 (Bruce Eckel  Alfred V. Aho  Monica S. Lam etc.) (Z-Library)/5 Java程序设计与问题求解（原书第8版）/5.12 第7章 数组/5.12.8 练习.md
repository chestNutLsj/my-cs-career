   

## 练习

1.在NumberAboveAverage类中编写程序，对温度高于平均值的天数计数。从键盘读取10个温度，并将它们放置在数组中。计算平均温度，然后计算并显示温度在平均温度之上的天数。

2.在CountFamilies类中编写程序，对收入低于某个值的家庭数量计数。从键盘读取整数k，然后创建尺寸为k的double数组。从键盘读取k个表示家庭收入的值，并将它们放置在数组中。找到这些值之中最高的收入值，然后计算比这个最高收入值少10%的家庭数量。显示计数值和这些家庭的收入。

3.在CountPoor类中编写程序，对视为贫困的家庭计数。编写并使用Family类，该类具有下列属性：

·income——表示家庭收入的double值。

·size——家庭人口数。

该类还具有下列方法：

·Family（income，size）——设置属性的构造器。

·isPoor（housingCost，foodCost）——如果housingCost+foodCost*size大于家庭收入的一半（foodCost是个人平均食品开销，而housingCost是住房开销），该方法就会返回true。

·toString——该方法会返回一个包含了有关该家庭信息的字符串。

该程序应该从键盘读取整数k，然后创建基类型为Family尺寸为k的数组。然后，它应该从键盘读入每个家庭的收入和人口数量，并创建k个Family类型的对象，将它们放置到数组中。在从键盘读取平均住房开销和平均食品开销后，该程序应该显示贫困的家庭。

4.在FlowerCounter类中编写程序，计算花店销售的鲜花的售价。库存和销售的花总共有5种：矮牵牛、三色堇、玫瑰、紫罗兰和康乃馨，每株花的售价分别为50、75、$1.50、50和80。创建一个字符串数组，存放这些花名，并创建另一个数组存放对应的花的售价。你的程序应该读取顾客想要购买的花的名字和数量，在花名数组中定位花，并且使用该索引在售价数组中找到每一株的成本，计算这笔销售记录的总价。

5.在CharacterFrequency类中编写程序，对电话号码中各个数字出现的次数计数。你的程序应该创建一个尺寸为10的数组，存放数字0到9各自的计数值。从键盘读取一个字符串表示的电话号码，检查电话号码中的每个字符，并递增数组中对应的计数值。最后，显示数组中的内容。

6.创建一个Ledger类，用来记录商店的销售情况。它具有下列属性：

·sale——double值数组，表示所有销售记录的金额。

·salesMade——到目前为止的销售记录的数量。

·maxSales——可以记录的销售记录的最多数量。

该类还具有下列方法：

·Ledger（max）——将最多可记录的销售记录的数量设置为max的构造器。

·addSale（d）——添加值为d的销售记录。

·getNumberOfSales——返回已经产生的销售记录的数量。

·getTotalSales——返回销售总额。

7.为上一个练习中描述的Ledger类定义下面的方法：

·getAverageSales（）——返回所有销售记录的平均值。

·getCountAbove（v）——返回在数值上超过v的销售记录的数量。

8.编写静态方法IsStrictlyIncreasing（double[]in），当给定数组中的每个值都大于其之前的值时，返回true，否则返回false。

9.编写静态方法removeDuplicates（Character[]in），返回由给定数组中的字符构成的新数组，该数组中不包含任何重复的字符。应该保留字符的第一个副本，并移除后续所有的副本。例如，如果in包含b、d、a、b、f、a、g、a、a和f，那么该方法就应该返回包含b、d、a、f和g的数组。（提示：解决该问题的一种方式是创建一个与给定数组in具有相同尺寸的布尔数组，并用它来跟踪每个要保留的字符。这个新的布尔数组中的值将确定要返回的数组的尺寸。）

10编写静态方法remove（int v，int[]in），返回由给定数组中的整数构成的新数组，该数组中移除了数值v。例如，如果v为3且in包含0、1、3、2、3、0、3和1，那么该方法返回的数组将包含0、1、2、0和1。

11.假设我们正在为募捐活动销售盒装糖果。我们销售的糖果有5种：薄荷糖、坚果巧克力、耐嚼巧克力、黑巧克力冰淇淋和无糖棒棒糖。我们将顾客订单记录为5个整数的数组，分别表示每种糖的盒数。编写静态方法combineOrder，它接受两个订单作为其引元，并返回表示将两个订单合并后的新订单的数组。例如，如果order1包含0、0、3、4、7，order2包含0、4、0、1、2，那么该方法应该返回包含0、4、3、5、9的数组。

12.创建Polynomial类，用来计算x的多项式函数：

P（x）=a0+a1x+a2x2+…+an-1xn-1+anxn

系数ai是浮点数，x的指数是整数，最大的指数是n，它大于等于0，称为多项式的次数。该类具有下列属性：

·degree——最大指数n的值。

·coefficients——由系数ai构成的数组。

该类还具有下列方法：

·Polynomial（max）——创建次数为max，系数全为0的多项式。

·setConstant（i，value）——将系数ai设置为value。

·evaluate（x）——返回x为给定值时多项式的值。

例如，下面的多项式：

P（x）=3+5x+2x3

的次数为3，系数为a0=3、a1=5、a2=0、a3=2。调用evaluate（7）会计算3+5×7+0×7+2=73，也就是3+35+0+686，并返回结果724。

13.为程序清单7.9中给出的OneWayNoRepeatsList类编写beyondLastEntry（position）方法，在position超过列表中最后一项时，返回true。

14.修订程序清单7.9中给出的OneWayNoRepeatsList类，使得它会在数组entry中多分配一个元素，并忽略entry[0]，就像在之前的7.1.4节中所建议的那样。

15.为选择排序编写静态方法，用来对字符数组排序。

16.重载程序清单7.10中的selectionSort方法，使得它可以对数组中索引范围从first到last的元素排序，其中0≤first≤last，而last小于数组的长度。

17.修订程序清单7.10中出现的selectionSort方法，让它调用上一个练习所描述的方法。

18.修订程序清单7.14中的TimeBook类，用表示一周七天的枚举来代替具名常量。

19.编写整数数组的顺序搜索方法，假设该数组是按照升序排序的。（提示：考虑包含2、4、6、8的数组，你是否可以在不与数组中所有整数都进行比较的情况下，就可以告知5不在该数组中？）

20.编写静态方法findFigure（picture，threshold），其中picture是由double值构成的二维数组。该方法应该返回一个新的二维数组，其元素要么是0.0，要么是1.0。这个新数组中的每个1.0表示picture中对应的值大于threshold乘以picture中所有值的平均值，而新数组中其他的元素都为0.0。

例如，如果picture中的值为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10717.jpeg)

那么平均值就是5.55。在threshold为1.4的情况下，产生的新数组如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10718.jpeg)

在threshold为0.6的情况下，产生的新数组如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10719.jpeg)

21.编写静态方法blur（double[][]picture），你可以将其作用于图片文件的某个部分，对诸如人脸或车牌号这样的细节做模糊处理。该方法会对picture中的值计算加权平均值，并将它们置于新的二维数组中返回。为了计算一组数字的加权平均值，你需要对某些数字赋予更重的权重。因此，你需要将每个项都与其权重相乘，将乘积都加起来，然后将乘积之和除以权重的和。

对于picture中的每个元素，都要计算它与其紧挨着的邻居之间的加权平均值，并将结果存储到新的二维数组中与该元素在picture中所占位置相同的位置上。这个新的数组就是该方法返回的数组。

对于picture中的元素而言，其邻居可以位于其沿垂直、水平或对角线方向的上边、下边、左边和右边。因此，新数组中每个加权平均值都是picture数组中多达9个值的组合。角上的值只会用到4个值：其自身和3个邻居。边上的值只会用到6个值：其自身和5个邻居。但是内部的值将会用到9个值：其自身和8个邻居。因此，你需要将角上和边上的单元格与其他单元格做区别处理。

我们用到的权重为：

![](../Images/image10720.gif)

元素自身具有最高权重4，水平和垂直邻居的权重为2，对角线上的邻居权重为1。

例如，假设picture中的值为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10721.jpeg)

新数组名为result。在给定的权重下，我们任意地从某个元素出发，并按照顺时针方向考虑其邻居。这样，内部值result[1][1]就等于：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10722.jpeg)

为了得到这个等式，我们从picture[1][1]中的元素出发，然后从其右边的邻居开始，以顺时针方向考虑其所有邻居。角上的值result[0][0]等于：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10723.jpeg)

注意，picture[0][0]比picture[1][1]这样的内部值少了几个邻居。同样，边上的值picture[0][1]的情况也类似。因此，边上的值result[0][1]等于：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10724.jpeg)

最终的数组result为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image10725.jpeg)