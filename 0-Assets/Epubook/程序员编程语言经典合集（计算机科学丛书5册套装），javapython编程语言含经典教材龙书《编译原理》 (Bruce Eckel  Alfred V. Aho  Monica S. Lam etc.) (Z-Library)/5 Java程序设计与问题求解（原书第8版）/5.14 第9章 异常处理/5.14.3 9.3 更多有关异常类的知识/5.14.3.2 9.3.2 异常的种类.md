   

### 9.3.2　异常的种类

到目前为止，我们说在大多数情况下异常必须要么被某个catch块捕获，要么在某个方法头的throws子句中声明。这是基本规则，但是这条规则也有例外。（有关异常规则的异常情况！看起来相当合理。）Java有些例外的异常并不需要我们按照这条规则来进行处理，尽管如果我们愿意也可以在catch块中捕获它。

所有Java异常都被分类为受检异常和非受检异常。受检异常必须要么在某个catch块中捕获，要么在某条throws子句中声明。这种异常通常表示的是很可能会导致程序终止的严重问题。本节之前提到的BadStringOperationException、ClassNotFoundException、IOException和NoSuchMethodException等异常都是Java类库中的受检异常。

非受检异常（或者称为运行时异常）无须在catch块中捕获或者在throws子句中声明。这些异常通常表示代码出现了某些问题，我们应该修复它。正常情况下，我们不用为这些异常编写throw语句，它们通常会在表达式的计算过程中或者在预定义类的方法中被抛出。例如，如果我们的程序试图使用过小或过大的数组索引，那么就会发生ArrayIndexOutOf-RangeException。如果一个算术操作产生了问题，例如除以0错误，那么就会发生Arithmetic-Exception。对于这种异常，我们应该修复代码，而不是添加catch块。注意，未捕获的运行时异常会终止程序的执行。

如何知道一个异常是受检的还是非受检的呢？我们可以查阅Java类库的文档，了解该异常的基类，从中推断出该异常是受检的还是非受检的。图9.1展示了预定义异常类的层次结构。Exception类是所有异常的基类，每个异常类都是Exception类的子孙，即它们都是直接从Exception类派生的，或者是从最终从Exception类派生的某个类中派生的。非受检异常类都是从RuntimeException类派生的，而所有其他异常类都是必须被捕获的受检异常。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11008.jpeg)

图9.1　预定义异常类的层次结构

对于到底需要捕获或在throws子句中声明哪些异常，我们无须过虑。如果遗漏了Java要求我们去处理的某个异常，编译器会告诉我们的，然后我们可以捕获它或者添加一条throws子句。

回顾：异常的种类

每个异常类都是Exception类的子孙类。RuntimeException是从Exception派生的，而从RuntimeException派生的类以及其所有的子孙类表示的都是非受检异常。这种异常不需要被捕获或者在方法头中的throws子句中声明。所有其他异常都是受检异常，必须被捕获或者在throws子句中声明。