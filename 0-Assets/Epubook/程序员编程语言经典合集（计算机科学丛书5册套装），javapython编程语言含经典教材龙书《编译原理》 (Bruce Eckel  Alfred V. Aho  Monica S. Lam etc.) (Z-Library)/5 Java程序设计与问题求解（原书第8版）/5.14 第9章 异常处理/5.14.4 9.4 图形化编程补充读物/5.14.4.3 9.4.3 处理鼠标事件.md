   

### 9.4.3　处理鼠标事件

在上一章中，我们学习了如何用ActionEvent处理器来处理按钮点击事件。在本节中，我们将演示如何处理某些鼠标事件。更具体地讲，我们会在鼠标被点击和移动时执行相应的动作。

为了编写鼠标被按下时的处理器，我们会用setOnMousePressed方法对实现了Event-Handler<MouseEvent>的处理器赋值。程序清单9.15使用匿名内部类表示法将鼠标按下的处理器与画布关联了起来。当鼠标被按下时，该处理器就会在整张画布上绘制一个白色的矩形，从效果上看，就像是擦除了画布上所有画好的东西。

我们还用类似的形式创建了鼠标相对于画布移动时的处理器。该处理器会将当前的颜色设置为随机的颜色，然后在鼠标所在的坐标位置上绘制一个圆圈。鼠标的坐标是通过event.getX（）和event.getY（）方法获取的，该坐标是相对于引用对象的左上角而言的，在本例中，这个引用对象就是画布。

程序清单9.15　用鼠标监听器来绘制圆圈

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11053.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11054.jpeg)

程序清单9.16与程序清单9.15类似，只是后者是每当鼠标移动时，就绘制一个新的圆圈，而前者是每当鼠标移动时，就通过setCenterX和setCenterY方法将单个的Circle对象移动到鼠标的坐标上。

圆圈是使用Pane类来显示的，这个类是我们用过的其他面板的基类，它用于需要绝对定位的场景。除了缩放之外，它不执行任何布局动作。

程序清单9.16　用一个圆圈来跟踪鼠标

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11055.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image11056.jpeg)