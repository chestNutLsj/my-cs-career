   

### 3.4.2　Yes或No问题的对话框

第2章展示了如何使用JOptionPane类来产生两种被称为对话框的窗口。一种对话框让用户输入程序可以读取的输入数据，另一种对话框向用户显示了一条消息。JOptionPane还提供了另一种对话框，通过它向用户询问Yes或No的问题。这种对话框有标题，并且包含你要问的问题，以及标记为Yes和No的两个按钮。例如，下面的代码会产生图3.8中的对话框：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09914.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09915.jpeg)

图3.8　Yes或No对话框

接下来，让我们来讨论showConfirmDialog方法的引元列表，先看看我们的例子中使用的引元列表：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09916.jpeg)

第一个引元与对话框在屏幕上显示的位置相关，但是我们对相关的细节还没有充分讲解过，暂时无法考虑所有可能的选项，因此我们直接将第一个引元写成null，表示使用缺省的放置方案。我们将在第6章解释null的实际含义。

第二个引元是出现在包含了Yes和No按钮的对话框中的字符串。当然，该字符串正常情况下应该是一个Yes或No的问题。在我们的例子中，这个引元是"End program？"。

第三个引元是作为对话框标题显示的字符串。在我们的例子中，这个引元是"Click Yes or No."。

最后一个引元JOptionPane.YES_NO_OPTION，表示我们希望得到一个包含Yes和No按钮的对话框。还有其他的选项可供选择，但是我们不会在此处讨论它们。

如果用户点击了Yes按钮，showConfirmDialog方法将返回int值JOptionPane.YES_OPTION，并且窗口将消失。在我们的例子中，多重分支if-else语句将调用System.exit（0）来终止程序。如果用户点击了No按钮，showConfirmDialog方法将返回int值JOptionPane.NO_OPTION，然后，多重分支if-else语句将调用System.out.println来显示One more time。

JOptionPane类定义了若干个具名变量，包括我们此处用到的int常量YES_NO_OPTION、YES_OPTION和NO_OPTION。注意，要想使用这些常量，必须在这些名字前面加上这个类的名字和一个圆点。这些常量实际命名了哪些int值呢？这并不重要，将showConfirm-Dialog返回的值当作Yes或No问题的答案即可。

我们在本例中使用的代码在文件JOptionPaneYesNoDemo.java中，这个文件可以与本书其他的源代码一起从网站上下载。

回顾：Yes或No问题的对话框

javax.swing包中的JOptionPane类定义了showConfirmDialog方法。你可以使用这个方法来创建询问Yes或No问题并获取用户响应的对话框。

语法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09917.jpeg)

所显示的对话框的标题是Title_String，包含文本Question_String以及由Option表示的按钮。当Option是JOptionPane.YES_NO_OPTION时，会显示两个标记为Yes和No的按钮。该方法在用户点击Yes按钮时返回int常量YES_OPTOIN，或者在用户点击No按钮时返回NO_OPTION。

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09918.jpeg)

自测问题

23.编写一个使用JOptionPane对话框的程序，询问用户是否大于18岁。如果用户至少18岁，那么就将boolean变量adult设置为等于true，否则设置为false。代码中要包含变量adult的声明。