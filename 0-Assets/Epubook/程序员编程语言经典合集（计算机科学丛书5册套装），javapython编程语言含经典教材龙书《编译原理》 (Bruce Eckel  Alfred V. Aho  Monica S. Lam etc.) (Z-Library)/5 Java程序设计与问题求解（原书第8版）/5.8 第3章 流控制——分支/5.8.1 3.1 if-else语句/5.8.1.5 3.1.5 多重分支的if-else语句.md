   

### 3.1.5　多重分支的if-else语句

如果能够分出两个分支，那么就能够分出四个分支，只需将这两个分支的每一个都再分出两个分支。使用这种技巧，就可以将if-else语句嵌套，产生多重分支，进而产生任意数量的可能性。程序员有标准的做法来实现此目的。实际上，这种做法非常标准，以至于大家都将其当作一种新的分支语句来看待，而不是当作多个嵌套的if-else语句来看待。让我们用一个示例来讨论。

假设balance是表示你的支票账户余额的变量，你想要知道你的余额是正的、负的（透支）还是0。为了避免任何有关准确性的问题，我们设定balance是你账户中精确到元的金额，角和分被忽略。即，我们假设balance是int类型。要想确定你的账户余额是正的、负的还是0，可以使用下面嵌套的if-else语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09835.jpeg)

这条语句更清楚的等价语句写法如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09836.jpeg)

我们称这种形式为多重分支的if-else语句。这条语句实际上就是一条普通的嵌套的if-else语句，但是，我们缩进它的方式反映了我们看待多重分支if-else语句的方式。

当执行多重分支if-else语句时，计算机会自顶向下逐个测试其中的布尔表达式。当找到第一个为真的布尔表达式时，就会执行跟在这个布尔表达式后面的语句。例如，如果balance大于0，前面的代码将显示Positive balance。如果balance小于0，就会显示Negative balance。最后，如果balance等于0，这段代码会显示Zero balance。根据变量balance的值，三种可能的输出中只会产生一种。

在第一个示例中，我们有三种可能，但是你可以让代码中包含任意数量的可能，只需添加更多的else-if部分即可。还要记住，本例中的可能是互斥的，即在任何给定的时刻，都只有一种可能。但是，我们可以使用任意的布尔表达式，甚至它们可以不是互斥的。如果多个布尔表达式为真，那么也只有与第一个为真的布尔表达式相关的动作会被执行。多重分支的if-else语句从来都不会执行多个动作。

如果没有任何布尔表达式为真，那么就不会发生任何事情。但是，良好的编程实践是，在末尾添加一个没有if跟着的else子句，以备在没有任何布尔表达式为真时执行它。实际上，我们可以按照这种方式来重写原来的支票账户示例。我们知道，如果balance既不为正，也不为负，那么必然为0。因此，我们不需要最后一个测试：

![](../Images/image09837.gif)

这样，之前的多重分支if-else语句就等价于下面的语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09838.jpeg)

回顾：多重分支if-else语句

语法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09839.jpeg)

上面的动作（Action）都是Java语句。各个布尔表达式是自顶向下逐个测试的。一旦发现某个布尔表达式为真，就会执行跟在这个布尔表达式后面的动作，而后续的测试和动作都将被忽略。如果没有任何布尔表达式为真，那么就会执行Default_Action。图3.5展示了这种if-else语句的语法。

示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09840.jpeg)