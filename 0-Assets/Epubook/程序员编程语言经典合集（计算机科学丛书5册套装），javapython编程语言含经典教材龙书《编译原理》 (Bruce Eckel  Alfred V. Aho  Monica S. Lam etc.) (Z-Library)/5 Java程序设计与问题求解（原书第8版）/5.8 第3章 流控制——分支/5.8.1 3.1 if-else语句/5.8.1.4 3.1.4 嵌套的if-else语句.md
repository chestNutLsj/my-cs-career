   

### 3.1.4　嵌套的if-else语句

一条if-else语句可以在其内部包含任何种类的语句。特别是我们可以在一条if-else语句中嵌套另一条if-else语句，如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09826.jpeg)

如果balance的值大于等于0，那么就会执行下面整条if-else语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09827.jpeg)

嵌套的语句在添加了花括号后会显得更清楚，如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09828.jpeg)

在这种情况下，花括号有助于澄清代码，但是，严格地讲，并不是必需的。

在其他情况下，花括号是必需的。例如，如果我们删除else，事情就稍变复杂了。下面两条语句的差别只是多了一对花括号，但是它们具有不同的含义：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09829.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09830.jpeg)

在一条if-else语句中，每个else都与之前最近的未配对的if匹配。第二个版本（即没有括号的版本）中的else与第二个if匹配，尽管缩进可能会产生误导作用。因此，其含义是：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09831.jpeg)

为了更清晰地解释这种差异，考虑当balance大于等于0时的情况。在第一个版本中，会发生下面的动作：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09832.jpeg)

在第一个版本中，如果balance小于0，就会执行下面的动作：

![](../Images/image09833.gif)

在第二个版本中，如果balance大于等于0，会执行下面整条if-else语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09834.jpeg)

在第二个版本中，如果balance小于0，不会执行任何动作。

编程窍门：else与if的匹配

在一条if-else语句中，每个else都会与之前最近的未配对的if匹配。你应该使用与语句含义保持一致的缩进来澄清你的意图。但是，请记住，编译器会忽略缩进。当迟疑不定时，就使用括号来明确语句的含义。