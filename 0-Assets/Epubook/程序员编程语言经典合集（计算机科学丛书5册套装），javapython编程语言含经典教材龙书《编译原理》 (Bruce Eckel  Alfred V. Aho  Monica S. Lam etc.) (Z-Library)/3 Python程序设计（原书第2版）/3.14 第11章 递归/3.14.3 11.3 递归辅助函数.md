   

## 11.3　递归辅助函数

有时，如果对原始问题稍加修改，更容易找到递归方案。那么原始问题可以通过调用一个递归辅助函数来解决。

这里有个例子：考虑11.2节中的回文测试。每一步中都创建一个新字符串对象，效率有点低。不要测试整个句子是不是回文，让我们检查一个子字符串是不是回文：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07630.jpeg)

可以证明，这个函数比原始的测试更容易实现。在递归调用中，只需要简单地调整start和end形参变量的值来跳过匹配的字母对和非字母字符，而不需要构造新字符串来表示更短的字符串。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07631.jpeg)

应该仍然提供一个用于解决整个问题的函数——你的函数的用户不需要知道关于子字符串位置的小技巧。在测试整个字符串时调用带位置的辅助函数即可：

![](../Images/image07632.gif)

注意，这个调用不是递归函数调用。isPalindrome函数调用辅助函数substringIs

Palindrome。如果更容易解决等价于原始问题但是更符合递归方案的递归问题，那么建议使用递归辅助函数的技术。在配套源码ch11/sec03/palindromes2.py中可以找到使用子字符串版本回文函数的完整程序。

自测题

10.为什么为isPalindrome函数和递归辅助函数使用不同的名字？

11.递归函数substringIsPalindrome何时停止调用自己？

12.为了计算一个列表中所有值的和，可以把第一个值加到剩余值的和上，递归计算。设计一个解决该问题的递归辅助函数。

13.如果不使用辅助函数，可以如何编写递归函数def sum(aList)？这样的效率为什么会低？

练习它　现在你可以尝试本章最后的练习：P11.4，P11.7，P11.11。