   

## 10.3　调用超类构造函数

考虑一下创建子类对象的过程。子类构造函数只能定义子类的实例变量，但是超类实例变量也需要定义。

超类负责定义它自己的实例变量。因为这是在构造函数中完成的，子类构造函数必须显式调用超类构造函数。为了调用超类构造函数，你使用特殊方法__init__。但是两个类的构造函数名字是一样的。为了区分超类构造函数和子类构造函数，你必须在调用构造函数时在self引用的位置使用super函数：

![](../Images/image07464.gif)

超类构造函数应该在子类定义自己的实例变量之前被调用。注意，为了定义子类的实例变量，必须使用self引用。

如果超类构造函数需要参数，你必须把它们作为参数提供给__init__方法。例如，假设超类Question的构造函数接收一个参数用来设置问题文本。下面是子类构造函数调用超类构造函数的方式：

![](../Images/image07465.gif)

语法10.2　子类构造函数

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07466.jpeg)

作为另一个例子，假设我们定义了Vehicle类，并且构造函数需要一个参数：

![](../Images/image07467.gif)

我们可以通过定义一个子类Car来扩展Vehicle类：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07468.jpeg)

当创建Car类对象时，

![](../Images/image07469.gif)

子类Car的构造函数调用超类的构造函数并传递4作为参数（因为一个标准的汽车有4个轮胎）。超类Vehicle使用那个值初始化它的实例变量_numberOfTires。图10-7演示了创建Car类对象的步骤。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07470.jpeg)

图10-7　创建子类对象

下面是完整的Vehicle类和Car类以及一个简单的测试程序：

ch10/sec03/car.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07471.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07472.jpeg)

ch10/sec03/cardemo.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07473.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07474.jpeg)

程序运行结果

![](../Images/image07475.gif)

自测题

11.假设类Employee定义如下：

![](../Images/image07476.gif)

继承这个Employee类，定义一个类Manager，为其增加一个实例变量_bonus用来保存工资奖金，不新增任何方法。

12.为Manager类定义构造函数，接收基本工资作为参数并且设置合适的实例变量。

13.自测题11中Manager类的对象具有什么实例变量？

14.假设我们定义了Car类的子类Limousine：

![](../Images/image07477.gif)

画图显示Limousine类的结构。

15.Limousine类的对象包含什么实例变量？

练习它　现在你可以尝试本章最后的练习：P10.8，P10.9。