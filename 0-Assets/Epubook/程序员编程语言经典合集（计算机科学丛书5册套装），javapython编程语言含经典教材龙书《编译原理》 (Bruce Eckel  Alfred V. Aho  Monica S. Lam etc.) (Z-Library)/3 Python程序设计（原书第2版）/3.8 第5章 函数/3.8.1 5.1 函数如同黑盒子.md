   

## 5.1　函数如同黑盒子

函数是有名字的一系列指令。你已经遇到几个函数了。例如，第2章介绍的round函数包含一些指令用来把浮点数四舍五入到指定数量的小数点位数。

你通过调用一个函数来执行其中的指令。例如，考虑下面的程序语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06189.jpeg)

通过表达式round(6.8275，2)，你的程序调用了round函数，并要求函数把6.8275四舍五入到两位小数。round函数的指令执行并计算结果。round函数把结果返回到该函数被调用的位置，然后你的程序恢复执行（见图5-1）。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06190.jpeg)

图5-1　函数调用的执行流  

当另一个函数调用round函数时，它提供“输入”，例如round(6.8275，2)中的6.8275和2。这些值称作函数调用的参数。注意，它们不一定是人类用户提供的输入，仅仅是我们想让函数计算结果的值。round函数计算的“输出”称作返回值。

函数可以接收多个参数，但是只返回一个值。函数也可以不接收参数，例如random函数不需要参数就可以产生一个随机数。

一个函数的返回值会返回到你的程序中调用这个函数的位置，然后由包含该函数调用的语句来处理。例如，假设你的程序中包含一条语句

![](../Images/image06191.gif)

当round返回它的结果时，返回值被保存到了变量price中。

不要把返回一个值和生成程序输出混为一谈。如果你想输出返回值，你需要增加一条语句，例如print(price)。

这时，你可能会纳闷round函数是如何执行任务的。例如，round是如何把6.8275四舍五入到两位小数的6.83的？幸运的是，作为函数的用户，你不需要知道函数是如何实现的。你只需要知道函数的用法就行了：如果你提供参数x和n，函数返回被四舍五入到n位小数的x。工程师把一个只知道用法而不知道实现的设备称为黑盒子。你可以把round函数看作是一个黑盒子，如图5-2所示。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06192.jpeg)

图5-2　round函数就像一个黑盒子  

在设计你自己的函数时，你会把它们设计得让其他程序员看起来像黑盒子一样。那些程序员想在不知道内部实现的情况下使用你的函数。即使你一个人独立完成一个程序，把函数制作成黑盒子也可以带来好处：你需要记忆的细节更少了。

自测题

1.考虑函数调用round(3.14159，2)，参数和返回值分别是什么？

2.函数调用round(round(4.499，2)，0)的返回值是什么？

3.Python标准库math模块中的ceil函数的描述如下：函数接收一个参数a，然后返回大于或等于a的最小整数。那么，ceil(2.3)的返回值是什么？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06193.jpeg)

尽管调温器通常是白色的，你也可以把它看做一个黑盒子。输入是期望的温度，输出是给加热器或空调的信号  

4.在不知道ceil函数内部是如何实现的情况下确定自测题3的答案是可能的。使用工程术语描述ceil函数的这个特性。

练习它　现在你可以尝试本章最后的练习：R5.1，R5.6。