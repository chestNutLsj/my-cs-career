   

## 5.3　参数传递

在这一节中，我们近距离检查参数传递机制。当一个函数被调用时，用来接收函数实参的变量被创建。这些变量称作形参变量，也有的叫作形式参数。调用函数时提供给函数的这些值是本次调用的实参，或者叫作实际参数。每个形参变量使用对应的实参进行初始化。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06211.jpeg)

水果派的食谱可能会使用任何一种水果。这里，水果相当于形参变量，苹果和草莓就相当于实参

考虑图5-3中描述的函数调用：

![](../Images/image06212.gif)

·当函数cubeVolume被调用时函数的形参变量sideLength被创建。①

·形参变量使用调用中传递的实参进行初始化，在这个例子中，sideLength被设置为2。②

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06213.jpeg)

图5-3　参数传递

·函数计算表达式sideLength**3，值为8，然后把值保存在变量volume中。③

·函数返回。函数的所有变量被删除。返回值被传送给调用者，也就是调用cubeVolume函数的那个函数。调用者把返回值放到result1变量中。④

现在考虑一下再继续调用cubeVolume(10)会发生什么。一个新的形参变量被创建（因为cubeVolume的第一次调用返回时前面的形参变量已经被删除了。），这次被初始化为10，然后重复前面的过程。当第二次函数调用完成时，所有变量再次被删除。

自测题

10.下面的程序输出什么？使用图5-3类似的图表确定答案。

![](../Images/image06214.gif)

11.下面的程序输出什么？使用图5-3类似的图表确定答案。

![](../Images/image06215.gif)

![](../Images/image06216.gif)

12.下面的程序输出什么？使用图5-3类似的图表确定答案。

![](../Images/image06217.gif)

练习它　现在你可以尝试本章最后的练习：R5.5，R5.13，P5.8。

编程小提示5.2　不要修改形参变量

在Python中，形参变量和其他变量一样。你可以在函数体中修改形参变量的值。例如，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06218.jpeg)

然而，很多程序员发现这样的做法非常让人困惑（见常见错误5.1）。为了避免这样的困惑，引入一个独立的变量就可以了：

![](../Images/image06219.gif)

常见错误5.1　尝试修改实参

下面的函数中有一个常见的错误：尝试修改一个实参。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06220.jpeg)

现在考虑下面的调用：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06221.jpeg)

当addTax函数被调用时，price被设置为total的值，也就是10。然后price被修改为10.75。当函数返回时，包括price在内的所有变量都被删除了，它们被设置的值全都简单地遗忘了。注意，total没有修改。

在Python中，一个函数永远不能修改作为实参传递过来的变量的内容。当使用变量作为实参调用函数时，你并没有真正把变量传递过去，仅仅是传递了变量包含的值。