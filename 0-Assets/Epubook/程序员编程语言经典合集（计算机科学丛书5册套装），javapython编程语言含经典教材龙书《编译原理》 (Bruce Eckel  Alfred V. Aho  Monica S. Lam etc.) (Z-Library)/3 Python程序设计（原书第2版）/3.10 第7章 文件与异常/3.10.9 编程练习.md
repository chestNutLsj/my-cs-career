   

## 编程练习

■P7.1　编写程序执行下面的任务：

![](../Images/image07009.gif)

■P7.2　编写程序读取一个包含文本的文件。读取每一行并发送到输出文件中，并且在前面加上行号。如果输入文件内容为：

![](../Images/image07010.gif)

那么程序生成的输出文件内容为：

![](../Images/image07011.gif)

提示用户提供输入文件和输出文件的名字。

■P7.3　重做练习P7.2，但是允许用户在命令行指定文件名。如果用户不指定任何文件名，就提示用户输入文件名。

■P7.4　编写程序读取一个包含两列浮点数的文件。提示用户输入文件名，输出每一列的平均值。

■■P7.5　编写程序要求用户输入一个文件名，输出文件中字符、单词和行的数量。

■■P7.6　编写程序find.py搜索命令行指定的所有文件，输出所有包含特定单词的行。例如，如果你调用

![](../Images/image07012.gif)

那么程序可能输出

![](../Images/image07013.gif)

指定的单词总是作为命令行参数的第一个出现。

■■P7.7　编写程序检查文件中所有单词的拼写。程序应该读取文件中的每个单词并测试它是否包含在一个单词列表中。单词列表在大多数Linux系统中的/usr/share/dict/words中都可以找到。（如果你不具有Linux系统的访问权限，使用ch08/sec01/words。）程序应该输出无法在单词列表中找到的所有单词。

■■P7.8　编写程序把一个文件中每一行替换为翻转后的内容。例如，如果你运行

![](../Images/image07014.gif)

那么hello.py的内容被改为

![](../Images/image07015.gif)

当然，如果你对同一个文件运行两次Reverse程序，会得到原始文件。

■■P7.9　编写程序读取文件中的每一行，翻转所有行并写入另一个文件。例如，如果文件input.txt包含：

![](../Images/image07016.gif)

运行

![](../Images/image07017.gif)

然后output.txt中包含：

![](../Images/image07018.gif)

■■P7.10　从社会保障管理局获取前几年的婴儿名字数据，把表格数据粘贴到命名为babynames2010.txt等的文件中。修改babynames.py程序，提示用户输入文件名。你能绘制频率的点状趋势图吗？

■■P7.11　编写程序读取ch07/worked_example_1/babynames.txt文件并生成两个文件boynames.txt和girlnames.txt，分离男孩和女孩的数据。

■■■P7.12　编写程序读取与ch07/worked_example_1/babynames.txt格式一样的文件，并输出同时是男孩名字和女孩名字的所有名字（例如Alexis或者Morgan）。

■■P7.13　编写程序要求用户输入一组浮点数。用户输入的不是数字时给用户第二次机会输入值。两次机会之后，退出读取输入的过程。把所有正确指定的值相加并在用户完成输入时输出总和。使用异常处理机制检测不合适的输入。

■■工具箱P7.14　使用工具箱7.3中描述的机制，编写程序从一个网页读取所有数据并写入一个文件。提示用户输入网页的URL和文件名。

■■工具箱P7.15　使用工具箱7.3中描述的机制，编写程序从一个网页中读取所有数据并输出下面形式的所有超链接：

![](../Images/image07019.gif)

如果你的程序能够跟踪找到的所有链接并找出那些网页中的链接，可以加分。（这是Google之类的搜索引擎用来发现网站的方法。）

■■■工具箱P7.16　为了读取一个网页（工具箱7.3），你需要知道它的字符编码（专题7.3）。编写程序，接收一个网页的URL作为命令行参数，然后以合适的编码取回网页内容。按下面的方式确定编码：

1调用urlopen之后，调用input.headers["content-type"]，你会得到一个类似于"text/html；charset=windows-1251"的字符串。如果是这样的话，使用其中charset属性的值作为编码。

2使用"latin_1"编码读取第一行，如果这一行的前两个字节是254 255或者255 254，编码是"utf-16"，如果文件的前3个字节是239 187 191，编码是"utf-8"。

3.继续使用"latin_1"编码读取网页，并查找形式为

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07020.jpeg)

或

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07021.jpeg)

的字符串。如果能够找到，提取字符编码（丢弃任何包围的引号符号）并使用那个编码重新读取文档。如果上面这些都不适用，输出一个编码无法确定的错误信息。

■■P7.17　编写程序读取文件ch07/how_to_1/worldpop.txt中的国家数据，不要编辑文件内容。使用下面的算法处理每一行：给国家名字增加非空白字符。遇到空白字符时，定位到下一个非空白字符。如果不是数字，把一个空格和那个字符加到国家名字上。否则，读取剩余的数字作为字符串，增加第一位数字，然后转换成数值。输出所有国家人口的总和（除去“European Union”这一项）。

■P7.18　编写程序copyfile把一个文件复制到另一个。文件名由命令行指定，例如：

![](../Images/image07022.gif)

■■P7.19　编写程序把几个文件的内容合并成为一个文件。例如，

![](../Images/image07023.gif)

会得到一个包含chapter1.txt、chapter2.txt和chapter3.txt这三个文件内容的长文件book.txt。目标文件总是命令行指定的最后一个文件名。

■■P7.20　随机单字母加密。凯撒加密把所有字母都移动固定的数量，非常容易破解。这里给出一个更好的主意。使用单词作为密钥，而不要使用数字。假设密钥单词是FEATHER。首先删除重复的字母得到FEATHR，然后把字母表中其他字母以相反的顺序加到后面：

![](../Images/image07024.gif)

现在加密下面的字母：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07025.jpeg)

编写程序使用这个加密方法对一个文件加密或解密。例如，

![](../Images/image07026.gif)

使用关键字FEATHER解密文件。如果不提供关键字就提示错误。

■P7.21　字母频率。如果你使用练习P7.20中的密码加密一个文件，会使得所有字母很杂乱，看起来如果不知道关键字的话是没有希望解密的。猜测关键字看起来也是没有希望的，毕竟有太多可能的关键字了。然而，在破解方面有经验的人可以瞬间破解这个密码。英语字母的平均频率是已知的，最常见的字母是E，大约为13%。下面是字母的平均频率。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07027.jpeg)

编写程序读取一个输入文件并显示该文件中的字母频率。这样一个工具对密码破解者是有帮助的。如果加密文件中频率最高的字母是H和K，那么它们非常有可能是E和T加密得到的。使用上面类似的表格显示结果，确保所有列是对齐的。

■■P7.22　弗吉尼亚密码。为了对抗简单的字母频率分析，弗吉尼亚密码把一个字母编码为多个密码字母之一，依赖于它在输入文档中的位置。选择一个关键字，例如TIGER。然后输入文本中的第一个字母按下面的规则进行编码：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07028.jpeg)

编码后的字母表正好是移位到从T开始的规则字母表，也就是关键字TIGER的第一个字母。第二个字母根据下面的映射进行加密。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07029.jpeg)

输入文本中的第三个、第四个和第五个字母使用从字符G、E和R开始的字母序列进行加密。因为这里的密钥只有5个字母，输入文本中的第六个字母使用和第一个字母一样的方式进行加密。

■■P7.23　Playfair密码。另一个对抗简单的密文字母频率分析的方式是加密字母对。实现这个任务的一个简单方案是Playfair密码。选择一个关键字并删除其中的重复字母。然后填充关键字和字母表中的剩余字母为一个5×5的正方形。（因为只有25个位置，I和J被当作同样的字母处理。）这里是关键字为PLAYFAIRE时的一个组织。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07030.jpeg)

为了加密一个字母对，比如AM，看一下以A和M为角的矩形：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07031.jpeg)

这个对的编码由这个矩形的另外两个角来组成，在这个例子中就是FM。如果两个字母碰巧在同一行或列，比如GO，简单地交换这两个字母。加密以同样的方式完成。

编写程序使用这个密码对输入文本进行加密或解密。

■P7.24　编写程序使用7.4节中编辑图像文件和把蓝色与绿色降低30%的技术，给出一个日落的效果。

■P7.25　编写程序使用7.4节的技术编辑图像文件，将其转换为灰度图像。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07032.jpeg)

替换每个像素为使用其蓝、绿、红分量对应灰度级的像素。灰度级是把像素的红色级别的30%、绿色级别的59%和蓝色级别11%加到一起的结果。（人眼的色感视锥细胞对红色、绿色和蓝色光的敏感度是不同的。）

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07033.jpeg)

■■P7.26　垃圾邮件。编写程序读取两个文件：一个模板和一个数据库。模板文件包含文本和标签，标签的形式为|1||2||3|^……并且需要替换为当前数据库记录的第一个、第二个、第三个……字段。

典型的数据库看起来如下：

![](../Images/image07034.gif)

下面是一个经典形式的信件：

![](../Images/image07035.gif)

![](../Images/image07036.gif)

■■P7.27　编写程序从3个文件中查询信息。第一个文件包含一组人的名字和电话号码，第二个文件包含一组人的名字和社会保障卡号，第三个文件包含一组人的社会保障卡号和年收入。这组人应该是有重叠的但是不需要完全一样。你的程序应该要求用户输入一个电话号码然后输出名字、社会保障卡号和年收入，如果电话号码可以确定那个信息的话。

■■P7.28　编写程序输出一个学生的成绩报告。假设有一个文件classes.txt包含一个学校的所有课程名称，例如：

![](../Images/image07037.gif)

对于每个课程有一个个文件，其中包含学生的ID号和成绩：

![](../Images/image07038.gif)

编写程序要求输入一个学生的ID，然后查找所有课程文件并输出那个学生的成绩报告。这里是一个报告示例：

![](../Images/image07039.gif)

■■商业P7.29　一个酒店售货员在文本文件中输入销售记录。每一行包含使用分号进行分隔的如下内容：客户名称、卖出的服务（例如晚餐、会议、住宿，等等），销售的金额和那个时间的日期。编写程序读取这样的文件并显示每个服务类别的总金额。如果文件不存在或者格式不正确就显示一个错误。

■■商业P7.30　编写程序读取练习P7.29中描述的文本文件并把每个服务类别写入独立的文件，包含该类别的项目。输出文件的名字为Dinner.txt、Conference.txt，等等。

■■商业P7.31　一个商店老板使用文本文件记录每天的现金交易。每一行包含三项：发票号、现金数量、表示支出的字母P或表示收入的字母R。所有项之间使用空格分隔。编写程序提示商店老板输入每天开始和结束的现金数量，然后程序应该检查当天结束时实际的现金数量是否与预期的值相等。

■■科学P7.32　下图中的开关关闭后，电容器上的电压（以volt为单位）使用下面的公式来表示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07040.jpeg)

假设电路的参数分别为B=12volts，R=500Ω和C=0.25μF.，那么

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07041.jpeg)

其中t的单位是μs。读取包含B、R、C和t的起止值的文件params.txt（见ch07/exercises）。写入包含时间t和对应电容器电压v(t)的文件rc.txt，其中t使用100步从起始值变化到终止值。在我们的例子中，如果t从0μs变化到1 000μs，输出文件中的第12项会是：

![](../Images/image07042.gif)

■■■科学P7.33　下图显示了练习P7.32中显示的电路的电容器电压图像，电容器的电压从0volt变化到B volt。“上升时间”被定义为电容器电压从v1=0.05×B变化到v2=0.95×B所需要的时间。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07043.jpeg)

文件rc.txt（在ch07/exercises可以找到）包含了时间t值的列表和对应的电容器电压v(t)。以μs为单位的时间和对应的以vlot为单位的电压在同一行输出。例如，行

![](../Images/image07044.gif)

表示110μs时刻的电容器电压为7.022 61volt。在数据文件中时间是递增的。

编写程序读取文件rc.txt并使用这个数据计算上升时间。使用文件最后一行的电压近似B并查找近似于0.05×B和0.95×B的数据点。

■■科学P7.34　假设一个文件中包含下面格式共价键的键能和键长：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07045.jpeg)

编写程序从一列中接收数据并返回文件中对应的其他列的数据。如果输入数据同时匹配不同的行，就返回所有匹配行的数据。例如，输入键长0.12应该返回三键C|||C和键能890kJ/mol以及单键N|O和键能250kJ/mol。

■工具箱P7.35　本书配套源码的文件ch07/exercises/planets.csv中有关于太阳系行星的信息。编写程序读取文件中的表格数据并绘制行星质量图。

■■工具箱P7.36　文件/ch07/exercises/census.csv（来自网站[https://www.census.gov/popest/data/datasets.html](https://www.census.gov/popest/data/datasets.html)）包含一组上次人口普查得到的所有美国各州的人口数据，以及大量附加信息。编写程序读入这个CSV文件并生成一个只包含州名和人口的文件。

■■工具箱P7.37　修改工具箱7.4的程序，分析PISA数据中数学和科学学习时间。

■■工具箱P7.38　工具箱7.4中PISA调查问卷中的5个问题主要关心“数学焦虑”。它们的位置分别为147、149、151、154和156，对应的分值介于1（不焦虑）和5（非常焦虑）之间。计算所有答卷的平均焦虑值，分析数学焦虑是否依赖种族或性别。只考虑同时回答所有5个问题的学生。

■■■工具箱P7.39　工具箱7.4中PISA调查问卷中的一个问题是：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07046.jpeg)

修改工具箱7.4的程序按种族分析这个问题的回答情况（输入的第124列）。注意，你不能使用ANOVA检验，因为你没有书本的实际数字，只有6个类别。

■工具箱P7.40　修改工具箱7.4的regression.py程序删除美国的数据点，绘制回归直线并输出相关性。

■工具箱P7.41　使用工具箱7.4的OECD数据集，确定人均国民收入和其他指标之间的相关性。

■■工具箱P7.42　使用如何做7.1中的数据和工具箱7.4中的工具，确定国家大小和人口之间的相关性。

■■■工具箱P7.43　国家UFO报告中心在线数据库（[http://www.nuforc.org/webreports.html](http://www.nuforc.org/webreports.html)）包含UFO观察的报告。每个州观察的数量与该州人口数量的相关性如何？

■■■工具箱P7.44　你可以在[http://lib.stat.cmu.edu/datasets/fl2000.txt](http://lib.stat.cmu.edu/datasets/fl2000.txt)找到2000年美国总统选举的数据。在当时，据猜测不同的投票机技术会使得投票者偶然投票给意向之外的候选者。在一些左倾的区域，Mr.Buchanan得到了令人惊奇的投票数量。更进一步，很多选票过多选择或者没有选择。研究一下Nader：Gore和Buchanan：Bush过高和过低的选票比例是否依赖于使用的选票机类型。

■工具箱P7.45　保存文件时，很多程序在写入新内容之前制作已存在文件的备份副本。编写名为backup的函数通过在文件名后面追加扩展名.bak创建一个文件的备份。注意，如果备份文件已存在，应该先将其删除。

■■■工具箱P7.46　编写函数saveWithBackup(data，file)往一个文件（替换已有内容）中写入字符串数据，但是首先制作旧文件的一个备份，如果旧内容不同的话。

■■工具箱P7.47　编写程序制作一个文件夹中尚无备份文件的所有文件的备份，为所有备份的文件添加扩展名.bak。要确保跳过其中的文件夹。

■■■工具箱P7.48　编写程序检查两个文件夹中是否包含完全一样的文件。注意，它们可能使用不同的顺序列出。

■工具箱P7.49　改进工具箱7.3中的链接搜索程序。单词href可能是大写的。检查前面有空白字符和后面有=符号以及可能两侧都有空白字符的情况。链接可能在单引号或双引号之内，也或者根本没有引号（这种情况下它扩展到下一个空白字符或>；）。

■工具箱P7.50　在ezgraphics画布上绘制形状时可以使用的颜色名字列表是在文本文件[http://ezgraphics.org/data/colornames.txt](http://ezgraphics.org/data/colornames.txt)中提供的。每一行包含名字和对应单个颜色的RGB值，各分量之间使用空格分隔。该文件的前6行如下所示：

![](../Images/image07047.gif)

工具箱7.3的urllib模块可以用来读取保存在网络上的文件中的数据。语句dataFile=urllib.request.urlopen(address)返回的response对象可以像一个文本文件对象一样来使用：

![](../Images/image07048.gif)

使用urllib模块编写程序，提示用户输入一个字符串（例如“yellow”），然后输出文件中包含那个字符串的所有行。

■工具箱P7.51　像练习P7.50一样，读取文件colornames.txt，但是现在搜索近似于用户指定的颜色的颜色。你应该提示用户输入红、绿、蓝分量值，然后输出红、绿、蓝值与用户提供的值差距小于10的那些行。

■工具箱P7.52　设计并实现一个程序，显示从一个包含上千国际机场信息的远程数据文件中获得的机场名字列表。该文件在

![](../Images/image07049.gif)

■工具箱P7.53　文件ch07/exercises/google.csv包含了Google公司2014年每天的股票数据。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07050.jpeg)

编写程序从CSV文件中读取数据，然后把除最大值和最小值这两列的其他所有数据写入一个新的CSV文件中。

■工具箱P7.54　编写程序从一个文本文件（ch07/exercises/grades.txt）中读取多个学生的考试成绩，其中的数据格式为

![](../Images/image07051.gif)

![](../Images/image07052.gif)

创建一个可以用来创建如下电子表格的CSV文件。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07053.jpeg)

自测题答案

1.因为文件不存在，会出现运行时错误。

2.文件以写模式打开并且是空的。

3.文件以读模式打开了，但是它应该以写模式打开。

4.你不能从已关闭的文件中读取内容。close方法的调用应该在循环之后。

5.把Process the line替换为print(line.upper())

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07054.jpeg)

7.word1是"Hello"，word2是"World!"

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07055.jpeg)

9.x1被设置为6000000.0，因为"6E6"是那个值的科学记数法。最后一条语句会引发Value-

Error异常，因为在Python中不认为逗号是浮点数的一部分。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07056.jpeg)

12.argv[0]是"cipher.py"，argv[1]是"-d"，argv[2]是"file1.txt"。

13.

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07057.jpeg)

然后程序输出信息：

![](../Images/image07058.gif)

14.程序会正确运行。解析选项的循环不依赖于选项出现的位置。

15.FDHVDU

16.在第21行后面增加下面的代码并更新用法信息。

![](../Images/image07059.gif)

17.把文件的初始字节替换为0。

18.把第54～56行替换为

![](../Images/image07060.gif)

交换绿色和蓝色分量。

19.你得到原始的图像。

20.我们可以顺序读取头部值和像素数据，但是为了更新像素，我们不得不向后移动文件标记来覆盖原始的值。

21.我们需要3×100个字节来表示每一行。没有填充数据，因为这个数字可以被4整除。总大小为3×100×100+64=30 064字节。

22.仍然是100。最后一个语句没有执行，因为抛出了异常。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07061.jpeg)

24.因为文件存在，open函数会成功。int函数抛出一个ValueError异常，不是IOError。

所以，错误没有被捕获。因为没有其他处理程序，输出一个错误信息，然后程序终止。

25.会抛出ZeroDivisionError异常。count应该被赋值为列表的大小。

26.会抛出IndexError异常，因为循环迭代1、2、3、4，但是列表索引的范围是从0到3。修改range函数的参数为range(0，n)。

27.在main函数中处理异常更好。

28.如果在try块中打开文件并且在打开文件时抛出了异常，inFile变量会因为这个错误而导致没有定义，但是finally子句会尝试使用未定义的inFile变量。

29.main调用readFile，readFile调用read-Data。调用value=int(line)抛出Value-Error异常。readFile函数没有处理它，所以会传播回main，并且在这里得到处理。输出一个错误信息，然后用户可以指定另一个文件。

30.我们想抛出那个异常，使得其他人可以处理坏数据文件的问题。