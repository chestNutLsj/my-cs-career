   

### 7.1.4　文件处理案例

下面是一个处理文件中数据的典型案例。假设你有一个包含一系列浮点数的文本文件，每行一个浮点数。你需要读取这些值并写入到一个新的输出文件中，按列对齐，然后再写入它们的总和和平均值。输入文件的内容如下：

![](../Images/image06785.gif)

那么输出文件应该包含

![](../Images/image06786.gif)

下面的程序实现了这个任务。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06787.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06788.jpeg)

ch07/sec01/total.py

自测题

1.如果调用infile=open(""，"r")会发生什么？

2.如果你调用infile=open("input.txt"，"w")会发生什么？

3.下面的代码有什么错误？

![](../Images/image06789.gif)

4.下面的代码有什么错误？

![](../Images/image06790.gif)

5.你如何修改7.1.2节中的while循环在终端以全部大写形式显示多行文本？

6.我们如何以下面的格式把"Hello，World!"写入到输出文件？

![](../Images/image06791.gif)

练习它　现在你可以尝试本章最后的练习：R7.1，R7.2，P7.1。

常见错误7.1　文件名中的反斜线

当使用字符串常量指定文件名并且文件名中包含反斜线字符（就像Windows文件名那样）时，你必须每个反斜线写两次：

![](../Images/image06792.gif)

字符串内一个反斜线是转义字符，和下一个字符组成特殊的含义，例如\n表示换行符。\\的组合表示单个反斜线。

然而，当程序用户为程序提供文件名时，用户不应该输入两次反斜线。