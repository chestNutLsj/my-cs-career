   

### 7.2.2　读取单词

有时候你可能需要从一个文本文件中读取独立的单词。例如，假设我们的输入文件包含两行文本：

![](../Images/image06804.gif)

我们想把这些单词输出到终端，每行一个单词：

![](../Images/image06805.gif)

因为没有从文件中读取一个单词的方法，你必须首先读取一行，然后将其切分成独立的单词。这可以使用split方法来完成：

![](../Images/image06806.gif)

这里的split方法返回在每个空白字符处对原始字符串进行切分得到的子字符串的列表。例如，如果line包含字符串：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06807.jpeg)

它将被切分成5个子字符串，并且按在字符串中出现的相同顺序存储到一个列表中：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06808.jpeg)

这些空白字符不是子字符串的组成部分，它们只在切分字符串时起到分隔符的作用。切分字符串之后，你可以迭代子字符串列表来输出这些独立的单词：

![](../Images/image06809.gif)

注意行尾的最后一个单词包含一个逗号。如果我们只是想输出文件中的单词而不包括标点符号，那么我们可以使用前一节中介绍的rstrip方法从子字符串中删除它们：

![](../Images/image06810.gif)

原始任务的完整解决方案是：

![](../Images/image06811.gif)

split方法把连续的空格当作一个分隔符来处理。这样的话，如果字符串中一些或所有单词之间有多个空格，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06812.jpeg)

line.split()将会得到同样的5个子字符串：

![](../Images/image06813.gif)

默认地，split方法使用空白字符作为分隔符。你也可以使用不同的分隔符切分字符串。例如，如果单词之间使用冒号分隔而不是使用空白字符，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06814.jpeg)

我们可以在使用split方法时指定冒号为分隔符，语句

![](../Images/image06815.gif)

把字符串切分成4个子字符串：

![](../Images/image06816.gif)

注意，如果传递了分隔符作为参数，连续的分隔符将不会被当作一个来处理，就像不提供参数时那样。这样的话，字符串

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06817.jpeg)

会得到4个子字符串，两个连续的冒号之间会得到一个空字符串“单词”：

![](../Images/image06818.gif)

表7-3提供了切分字符串的更多方法，表7-4给出了示例。

表7-3　字符串切分方法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06819.jpeg)

表7-4　字符串切分示例

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06820.jpeg)