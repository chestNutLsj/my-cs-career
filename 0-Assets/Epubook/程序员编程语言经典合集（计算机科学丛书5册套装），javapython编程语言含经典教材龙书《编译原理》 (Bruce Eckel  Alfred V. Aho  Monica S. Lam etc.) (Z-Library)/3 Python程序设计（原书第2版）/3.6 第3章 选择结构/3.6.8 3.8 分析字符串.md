   

## 3.8　分析字符串

有时候需要确定一个字符串中是否包含另一个给定的子字符串。也就是说，一个字符串包含另一个字符串的精确匹配。给定代码片段

![](../Images/image05725.gif)

表达式

![](../Images/image05726.gif)

的值为True，因为子字符串"Way"出现在保存在变量name中的字符串中了。

Python也提供了运算符in的否定，not in：

![](../Images/image05727.gif)

有时候我们不仅需要确定一个字符串是否包含另一个字符串，还要确定这个字符串是否以另一个字符串开始或结束。例如，假设你有一个文件名，现在需要知道它是否有正确的扩展名。

![](../Images/image05728.gif)

字符串方法endswith作用于filename中保存的字符串，如果字符串以子字符串".html"结束就返回True，否则返回False。表3-6描述了用来测试子字符串的更多字符串方法。

表3-6　测试子字符串的运算

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05729.jpeg)

我们也可以检查一个字符串是否具有指定的特征。例如，字符串方法islower检查字符串并确定是否字符串中的所有字母都是小写的。代码片段

![](../Images/image05730.gif)

输出

![](../Images/image05731.gif)

因为字符串line以大写字母开头。如果字符串包含非字母字符，这些字符会被忽略，不影响最终的布尔值结果。但是，如果我们需要确定字符串中是否只包含英文字母表中字母，应该怎么做呢？有一个字符串方法就是专门用来做这个的。

![](../Images/image05732.gif)

Python提供了很多用于测试字符串特定类型的方法，如表3-7所示。

表3-7　测试字符串特征的方法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05733.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05734.jpeg)

表3-8总结了如何在Python中比较和检查字符串。

表3-8　比较和分析字符串

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05735.jpeg)

下面的程序演示了用来检查子字符串的运算符和方法的用法。

ch03/sec08/substring.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05736.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05737.jpeg)

程序运行结果

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05738.jpeg)

自测题

36.你如何确定一个字符串中包含的空白字符的数量？

37.你如何测试一个字符串的第一个字符是否为大写字母？

38.考虑下面的代码

![](../Images/image05739.gif)

执行结束后，index的值是什么？

39.假设变量userStr包含字符串"Monty Python"，执行完下面的代码后会输出什么？

![](../Images/image05740.gif)

40.假设变量userStr包含一个字符串，你如何测试该字符串是否只包含小写字母？

41.你如何测试一个文件名（以字符串的形式给出）的扩展名是”.jpg”或”.jpeg”？

练习它　现在你可以尝试本章最后的练习：P3.17，P3.19。