   

### 4.5.5　比较相邻值

在循环中处理一系列值时，有时候你需要把一个值与刚处理过的值相比较。例如，假设你想检查类似于1 7 2 9 9 4 9这样的序列中是否包含相邻的重复值。

现在你遇到一个挑战。考虑读取值的经典循环：

![](../Images/image05945.gif)

如何才能把当前值和前一个进行比较呢？在任何时刻，变量value包含的是当前输入，并且会覆盖掉前一个。

答案是存储前一个输入，就像这样：

![](../Images/image05946.gif)

还有一个问题。当循环第一次进入时，变量value是没有值的。你可以通过在循环之外增加一个初始输入操作来解决这个问题：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05947.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05948.jpeg)

在比较相邻值时，使用一个变量保存前一个值

下面是用来演示一些常见循环算法的简单程序：

ch04/sec05/grades.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05949.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05950.jpeg)

自测题

20.在4.5.1节中的程序运行时，如果没有提供用户输入，total的值是多少？

21.如何计算所有正数输入的总和？

22.4.5.2节的程序中，为什么把输入字符串转换为整数的操作是在循环内部进行的，而不是读取之后立刻进行呢？

23.下面用户找出所有输入中最小值的循环有什么问题？

![](../Images/image05951.gif)

24.对于4.5.4节中的程序，如果用户没有提供任何输入就直接按下回车键，会发生什么？应该如何解决这个问题？

练习它　现在你可以尝试本章最后的练习：P4.2，P4.5。