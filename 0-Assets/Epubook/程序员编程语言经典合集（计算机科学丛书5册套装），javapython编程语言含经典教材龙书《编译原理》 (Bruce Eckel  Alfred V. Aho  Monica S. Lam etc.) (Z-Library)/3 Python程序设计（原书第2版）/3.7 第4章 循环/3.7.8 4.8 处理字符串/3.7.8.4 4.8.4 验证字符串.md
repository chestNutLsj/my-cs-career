   

### 4.8.4　验证字符串

在第3章，你已经了解在计算之前对用户输入进行验证的重要性。但是，数据验证并不局限于验证用户输入是否为特定值或是否落在合法范围之内。要求用户输入必须是特定的格式也是比较常见的一种情况。例如，考虑验证一个字符串中是否包含正确格式的电话号码这样的任务。

在美国，电话号码包含3部分——区号、交换台号码和线号码——通常形式为(###)###-####。我们可以检查一个字符串来保证它包含13个字符的正确格式的电话号码。为了实现这个目的，我们除了验证是否包含数字和适当的符号之外，还必须检查每个符号是否在字符串中合适的位置。这需要使用一个事件控制的循环，在处理字符串时如果遇到非法字符或者不在正确位置的符号就退出：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06021.jpeg)

作为替代，我们可以把4个逻辑条件组合成为一个表达式来得到更加简短的循环：

![](../Images/image06022.gif)