   

### 4.10.2　重构图像

其他操作可以修改图像的网格结构而不修改像素值。例如，你可以翻转或者旋转一个图像，或者放大图像并且增加边界。

重构图像需要使用一个能把原始像素复制进去的另一个图像。新图像的尺寸依赖于要执行的重构类型。例如，为了垂直翻转一个图像新图像必须和原始图像具有一样的尺寸。

![](../Images/image06063.gif)

单个像素的颜色不会被修改，他们只是简单地复制进新图像。你可以像上一节看到的那样分别复制红、绿、蓝分量，或者把像素作为一个整体进行移动。getPixel方法以元组形式返回所有的3个颜色分量——就是一次包含3个值的数据结构（更多关于元组的内容请参考专题6.4）。然后调用setPixel方法来设置新图像中的像素。

例如，为了创建一个图像的副本，把原始图像中的所有像素复制到新图像中的相同位置：

![](../Images/image06064.gif)

为了垂直翻转图像（见图4-7），必须把原图中的整行像素复制到新图像中的不同行。原图中的第一行复制到新图的最后一行，第二行复制到新图像中的倒数第二行，以此类推。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06065.jpeg)

图4-7　图像翻转以后的结果

为了完成这个任务，你迭代原图中的所有像素，计算它们在新图中的位置，并使用第二组行列变量跟踪它们。在这里我们使用newRow和newCol：

![](../Images/image06066.gif)

下面的程序创建并保存了一个GIF图像的垂直翻转后的图像：

ch04/sec10/flipimage.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06067.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06068.jpeg)

表4-5列出了一个图像对象可用的方法。

表4-5　GraphicsImage的方法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06069.jpeg)

自测题

45.提供代码创建并保存一个包含两个三角形的200×200像素的图像。

![](../Images/image06070.gif)

46.重做自测题45，但是创建两个垂直的条，而不是两个三角形。

练习它　现在你可以尝试本章最后的练习：P4.41，P4.45，P4.47。