   

### 6.2.8　复制列表

如6.1.4节所述，列表变量本身不包含列表元素的值，而是包含一个指向真实列表的引用。如果复制这个引用，你会得到相同列表的另一个引用（见图6-6）。

![](../Images/image06512.gif)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06513.jpeg)

图6-6　复制一个列表的引用与复制一个列表

你可以通过两个引用中的任何一个来修改列表。

有时候，你需要对一个列表进行复制，也就是得到一个与原列表以同样顺序包含同样元素的新列表。使用list函数：

![](../Images/image06514.gif)

现在，values和prices引用不同的列表。复制刚刚结束之后，两个列表包含同样的内容。但是你修改其中一个并不会影响另外一个。

函数list可以根据任何序列来生成列表。例如，如果参数是字符串，你会得到一个包含字符串中所有字符的列表：

![](../Images/image06515.gif)

表6-1给出了列表常用函数和运算符，表6-2给出了常用的列表方法。

表6-1　列表常用函数和运算符

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06516.jpeg)

表6-2　常用列表方法

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06517.jpeg)

自测题

7.执行下面的操作之后，names中的内容是什么？

![](../Images/image06518.gif)

8.如何删除一个元素在列表中的所有出现？

9.如果a和b是满足a+b==b+a的两个列表，那么a==b一定成立吗？

10.[2]*3和2*[3]之间的区别是什么？

11.如何不使用list函数而得到一个列表的复制？

12.如何计算一个非空数字列表的平均值？

练习它　现在你可以尝试本章最后的练习：R6.3，P6.2，P6.3。

专题6.2　切片

有时候你想查看列表的一部分元素。例如，假设已知一个包含温度的列表，每月一个温度：

![](../Images/image06519.gif)

你只对第三个季度的温度感兴趣，其下标分别为6、7和8。你可以使用Python的切片运算符（：）来获得它们。

![](../Images/image06520.gif)

切片运算符的2个参数分别是原列表中包含在切片中的第一个索引和不包含在切片中的第一个[^1]索引。

这看起来可能有点奇怪，但是它有一个有用的属性。切片temperatures[a：b]的长度是差b-a。在上面的情况中，差9-6=3正好是一个季度中月份的数量。

切片运算符中使用的两个索引值（这里的6和9）都是可选的。如果省略第一个索引，从列表中第一个元素开始的所有元素都会被包含。切片

![](../Images/image06521.gif)

包含一直到（但不包含）位置6的所有元素，也就是全年的前面一半。

切片

![](../Images/image06522.gif)

包含从位置6开始一直到列表尾部的所有元素，也就是全年的后面一半。

如果省略两个索引值，例如temperatures[：]，那么就会得到列表的复制。

你甚至可以给一个切片来赋值。例如，赋值

![](../Images/image06523.gif)

会替换第三个季度的值。

切片的大小和要替换的值的数量不需要一样：

![](../Images/image06524.gif)

替换friends的前两个元素为三个新元素，增加了列表的长度。

切片适用于所有序列，不仅仅是列表。对于字符串尤其有用。字符串的切片是一个子字符串：

![](../Images/image06525.gif)

[^1]:  原文为第一个，疑有误。——译者注