   

### 6.1.2　访问列表元素

列表是一系列元素，每个元素都有一个整数位置或索引。为了访问列表中的一个元素，你需要指定想使用哪个索引。这个任务可以使用下标运算符（[]）完成，如同访问字符串中的单个字符一样。例如，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06462.jpeg)

这并不意外。列表和字符串都是序列，[]运算符可以用来访问任何序列中的元素。

列表和字符串有两个不同之处。列表可以包含任意类型的值，而字符串是字符序列。另外，字符串是不可变的——你不能修改序列中的字符。但是列表是可变的，你可以把列表中的一个元素替换为另一个，就像下面这样：

![](../Images/image06463.gif)

现在索引为5的元素被替换为87了（见图6-1）。

语法6.1　列表

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06464.jpeg)

如果你仔细看图6-1，会发现我们修改values[5]的时候第6个元素被修改了。和字符串一样，列表的索引从0开始。也就是说，列表values中的合法元素为

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06465.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06466.jpeg)

就像通过盒子编号标识的邮箱一样，列表元素通过一个索引标识

在这个列表中，索引可以是从0到9的任意整数。

你必须要注意索引应该在有效范围之内。试图访问不在列表中的元素是个很严重的错误。例如，如果values有10个元素，你无法访问values[20]。试图访问索引不在有效范围内的元素叫越界错误。当在运行时发生越界错误时，会引发运行时异常。

下面是一种非常常见的越界错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06467.jpeg)

在包含10个元素的列表中是没有values[10]的——索引可以从0到9变化。为了避免越界错误，你需要知道列表中有多少元素。可以使用len函数获取列表的长度，也就是元素的数量：

![](../Images/image06468.gif)

下面的代码保证你只能在索引变量i位于合法边界之内时访问列表：

![](../Images/image06469.gif)

注意，方括号有两种不同的用法。当方括号紧跟在变量名字后面时，表示下标运算符，例如

![](../Images/image06470.gif)

当方括号不是跟在变量名字后面时，表示创建一个列表，例如，

![](../Images/image06471.gif)

设置values为列表[4]，也就是包含单个元素4的列表。