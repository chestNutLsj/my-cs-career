   

### 6.3.9　读取输入

通常会需要从用户读取输入并保存到列表中以方便后续处理。创建一个空列表，每读入一个值就把它追加到列表的尾部：

![](../Images/image06551.gif)

![](../Images/image06552.gif)

在这个循环中，用户每行输入一个数字，就像：

![](../Images/image06553.gif)

下面的程序会让这些算法工作起来，解决我们在本章开始设定的任务：标记输入序列中的最大值。

ch06/sec03/largest.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06554.jpeg)

程序运行结果

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06555.jpeg)

![](../Images/image06556.gif)

自测题

13.给定这些输入，largest.py程序的输出是什么？

![](../Images/image06557.gif)

14.编写循环以统计列表中有多少个元素等于0。

15.考虑查找列表中最大元素的算法。为什么我们不把largest和i初始化为0呢，就像下面这样？

![](../Images/image06558.gif)

16.输出分隔符时，我们跳过了第一个元素之前的分隔符。重写这个循环使得在每个元素后面输出分隔符，除了最后一个元素之外。

17.下面输出带分隔符的列表的语句有什么错误？

![](../Images/image06559.gif)

18.考虑从列表中删除匹配项的算法。你如何修改这个算法实现按相反的顺序访问这些元素？

练习它　现在你可以尝试本章最后的练习：R6.16，R6.17，P6.18。

编程实战6.1　绘制三角函数

问题描述　使用工具箱3.2中的绘图包，你的任务是绘制包含正弦和余弦函数曲线的图形，其中角度介于-180度和180度之间。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06560.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05174.jpeg)第1步　理解问题。

三角函数用来计算三角形的属性，特别是直角三角形。其中最常用的有角的正弦、余弦和正切。每个函数接收一个角度然后返回三角形中两个不同边的比例。

三角函数图像显示一定范围内的角度对应的函数值。你可以使用Python函数计算一系列数据点的正弦、余弦和正切来生成绘制函数曲线所需要的值。因为这些Python函数接收弧度作为参数，你首先需要使用下面的公式把角度转换为相应的弧度

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06561.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05174.jpeg)第2步　执行逐步提炼。

解决这个问题只用到三个基本步骤：

![](../Images/image06562.gif)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05174.jpeg)第3步　构建数据点的列表

在第3章，你学习了如何使用pyplot模块的plot函数绘制一条曲线的折线图。为了实现这一点，你必须提供两个列表，一个作为x坐标，一个作为要绘制的数据点的y坐标。在第3章，我们使用常量定义了列表，但是更常用的方法是计算数据点并把它们增加到列表中。

我们使用3个空列表，其中分别可以增加不同的坐标。因为两个函数会以相同角度进行绘制，你只需要保存一次角度值（也就是x坐标）。

![](../Images/image06563.gif)

然后，数据点就可以通过迭代角度的范围并计算每个角度的正弦值和余弦值来得到。下面的循环自增角度值，把角度转换为弧度，然后使用它们计算两个函数的y坐标。正弦函数值和余弦函数值分别被追加到对应的列表中。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06564.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05174.jpeg)第4步　绘制曲线。

前面已经计算并把数据点存储到列表中，把列表传递给plot函数来绘制两个三角函数的曲线：

![](../Images/image06565.gif)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05174.jpeg)第5步　改进图形的显示效果。

增加标题和图例之类的描述信息，可以帮助观察者理解他们看到的东西：

![](../Images/image06566.gif)

还可以包含一个网格来帮助观察者识别数据点：

![](../Images/image06567.gif)

对于沿x轴和y轴延伸的图形，就像三角函数的情况，你可能想把坐标轴进行高亮显示，这可以使用axhline和axvline函数来完成。两个函数都接收一个可选的具名参数来指定线的颜色（颜色编码见第3章的表3-9）。这里，"k"表示黑色。

![](../Images/image06568.gif)

最后，图形应该提供数据的精确视图。一种可能会误导的方式是两个轴使用不同的比例。考虑下面三角函数的图形，和问题描述中的图比较一下。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06569.jpeg)

y轴相邻坐标之间的距离比x轴的大很多，这导致了曲线扭曲。

为了校正这个问题，你可以通过调用下面的函数来指定两个轴在值之间使用相同的距离。

![](../Images/image06570.gif)

下面是完整的程序：

ch06/worked_example_1/trigcurves.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06571.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image06572.jpeg)