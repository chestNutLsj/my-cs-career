   

### 12.6.1　线性搜索

假设你需要查找朋友的电话号码。你在电话簿里查找朋友的名字，很快就可以找到，因为电话簿是按字母排序的。现在假设你有一个电话号码并且要知道它属于谁。当然，你可以拨打一下那个号码，但对方可能无人接听。你可以浏览电话簿，一次一个号码，直到找到那个号码。很明显那不是一个轻松的任务，你可能会后悔尝试那样的方法。

这里只是说明一下在未排序的数据集中搜索和在排好序的数据集中搜索之间的区别。接下来的两节会正式分析这个区别。

如果你想在一系列任意顺序的值当中查找一个数字，没有任何办法可以加快这个搜索的速度。你必须遍历所有元素，直到找到一个匹配项或者到达尾部。这样的方法叫作线性搜索或顺序搜索。使用Python的in运算符确定一个给定的元素是否包含在列表中时，就是用的这个算法。

线性搜索需要多长时间呢？如果我们假设目标元素是存在于列表values中的，那么平均要访问n/2个元素，其中n表示列表的长度。如果不存在的话，那么必须检查所有的n个元素来验证其不存在。不管怎样，线性搜索都是一个O(n)算法。

下面是一个对整数列表values执行线性搜索的函数。搜索目标元素时，search函数返回第一个匹配项的索引，或者目标不存在于values中时返回-1。

ch12/sec06/linearsearch.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07792.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07793.jpeg)

ch12/sec06/lineardemo.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07794.jpeg)

程序运行结果

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07795.jpeg)