   

## 编程练习

■P2.1　编写程序以毫米为单位显示一张信纸的尺寸（8.5×11英寸）。每英寸为25.4毫米。在程序中要使用常量和注释。

■P2.2　编写程序计算并显示一张信纸（8.5×11英寸）的周长和对角线长度。

■P2.3　编写程序读取一个数字，然后显示它的平方、立方和四次方的值。要求仅在计算四次方时使用**运算符。

■■P2.4　编写程序提示用户输入两个整数，然后输出

·和

·差

·乘积

·平均数

·距离（差的绝对值）

·最大值（两个数字中较大的那个）

·最小值（两个数字中较小的那个）

提示：Python定义了max和min函数可以接收一系列数值，每个使用逗号进行分隔。

■■P2.5　改进练习P2.4的输出，使得数字对齐显示：

![](../Images/image05520.gif)

■■P2.6　编写程序提示用户输入以米为单位的数字，然后转换为英里、英尺[^1]和英寸。

■P2.7　编写程序提示用户输入一个半径，然后输出

·该半径的圆的面积和圆周长度

·该半径的球的体积和表面积

■■P2.8　编写程序要求用户输入矩形的边长，然后输出

·矩形的面积和周长

·对角线的长度

■P2.9　改进如何做2.1中讨论的程序，允许输入美元和25美分。

■■■P2.10　编写程序帮忙决定是否要买混合动力车。程序输入应该是：

·新车的价格

·估计每年行驶的英里数

·估计的汽油价格

·每加仑能行驶多少英里

·5年以后估计能卖多少钱

计算拥有这样一辆车的5年总费用。（为了简单化，我们不考虑财务费用。）从网上查询新车、旧车和类似汽车的具体价格，运行两次程序，使用今天的汽油价格并假设每年行驶15 000英里。需要同时给出伪代码和程序运行结果。

■■P2.11　编写程序，要求用户输入

·油箱中汽油的加仑数

·以英里每加仑为单位的燃油效率

·每加仑汽油的价格

然后输出每100英里的费用，以及油箱中的汽油够汽车跑多远。

■P2.12　文件名与扩展名。编写程序提示用户输入驱动器字母（C）、路径（\Windows\System）、文件名（Readme）和扩展名（txt），然后输出完整的文件名C：\Windows\System\Readme.txt。（如果你使用UNIX或者Macintosh系统，跳过驱动器名字并且使用/替换\来分隔文件夹。）

■■■P2.13　编写程序从用户读取一个介于10 000到999 999之间的数字，用户会在输入中包含一个逗号。然后以不带逗号的形式输出这个数字。下面是一个典型的会话，带灰底的是用户输入：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05521.jpeg)

提示：以字符串形式读取输入。分别把包含前两个字符和后三个字符的字符串转换为数字，然后再组合到一起。

■■P2.14　编写程序从用户读取一个介于1000到999 999之间的数字，然后输出它，并使用逗号作为千分位分隔符。

下面是一个典型对话，带灰底的表示用户输入：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05522.jpeg)

■P2.15　打印网格。编写程序输出下面的网格玩井字游戏（tic-tac-toe）。

![](../Images/image05523.gif)

当然，你可以简单地编写7个以下形式的语句

![](../Images/image05524.gif)

但是，你应该用更聪明的方式来完成这个任务。生成包含两个模式的字符串变量：一个梳子形状的模式和一个包含底部直线的模式。输出3次梳子模式和1次底部直线就可以了。

■■P2.16　编写程序读取一个5位正整数，然后打散成为5个独立数字的序列。例如，输入16384会得到

![](../Images/image05525.gif)

■■P2.17　编写程序读取两个军事格式的时间（0900，1730），然后输出两个时间之间的小时和分钟。下面是一个典型的运行结果，带灰底的表示用户输入。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05526.jpeg)

如果你可以处理第一个时间晚于第二个时间的情况，可以获得额外的加分。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05527.jpeg)

■■■P2.18　写大字母。大字母H可以这样生成：

![](../Images/image05528.gif)

它可以声明为下面这样的字符串常量：

![](../Images/image05529.gif)

（转义字符\n表示换行符，使得后面的字符在新的一行输出。）对字母E、L和O做同样的处理，然后使用大字母输出信息

![](../Images/image05530.gif)

■■P2.19　编写程序把数字1、2、3……12转换为相应的月份名字January、February、March……December。提示：设计一个长字符串"January February March..."，增加空格使得每个月份名字具有同样的长度。然后连接你需要的月份的字符。如果你被尾部空格困扰，使用strip方法删除它们。

■■P2.20　编写程序输出一个圣诞树：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05531.jpeg)

记得使用转义字符。

■■P2.21　复活节是春天第一次满月之后的第一个星期天。为了计算这个日期，你可以使用数学家Carl Friedrich Gauss在1800年发明的计算方法：

1.用y表示年份（例如1800或2001）。

2.用y除以19，设余数为a，忽略商。

3.用y除以100，得到商b和余数c。

4.用b除以4得到商d和余数e。

5.用8*b+13除以25得到商g，忽略余数。

6.用19*a+b-d-g+15除以30得到余数h，忽略商。

7.用c除以4得到商j和余数k。

8.用a+11*h除以319得到商m，忽略余数。

9.用2*e+2*j-k-h+m+32除以7得到余数r，忽略商。

10.用h-m+r+90除以25得到商n，忽略余数。

11.用h-m+r+n+19除以32得到余数p，忽略商。

那么复活节是n月的第p天。例如，如果y是2001：

![](../Images/image05532.gif)

所以，复活节是4月15日。编写程序提示用户输入年份，然后输出复活节的月份和天数。

■■P2.22　编写程序初始化一个字符串变量，输出前3个字符，后面是3个句点，然后是最后3个字符。例如，如果字符串初始化为"Mississippi"，那么输出Mis...ppi。

■■图形P2.23　编写图形程序在一个蓝色矩形之内使用红色绘制你的名字。

■■图形P2.24　编写图形程序绘制两个实心正方形：一个是品红色（pink），一个是紫色（purple）。其中一个颜色使用标准颜色值，而另一个使用自定义颜色值。

■■图形P2.25　编写程序绘制下面的脸。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05533.jpeg)

■■图形P2.26　绘制靶心——一组黑白色交替的同心圆环。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05534.jpeg)

■■图形P2.27　编写程序绘制房子图片。它可以像下面的图片这样简单，或者如果你喜欢的话制作得更复杂一些（3D，摩天大楼，入口使用大理石板，什么都可以）。使用至少3种不同颜色。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05535.jpeg)

■■图形P2.28　绘制2.6.2节使用的坐标系统图形。

■■图形P2.29　修改如何做2.2的程序italianflag.py，绘制3个垂直颜色条的旗帜，例如德国国旗。

■■图形P2.30　编写程序输出奥运五环，并使用奥运颜色进行着色。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05536.jpeg)

■■图形P2.31　使用柱状图绘制下面的数据集，为每个柱加标签。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05537.jpeg)

■■商业P2.32　下面的伪代码描述了一个书店如何使用总价格和订书的数量来计算每个订单的价格。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05538.jpeg)

把上面的伪代码翻译为Python程序。

■■商业P2.33　下面的伪代码描述了如何把一个包含10位数字的电话号码（例如"4155551212"）转换成更容易阅读的带有括号和短横线的字符串，就像："(415)555-1212"。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05539.jpeg)

把上面的伪代码翻译为Python程序，读取一个电话号码并存放到一个字符串变量中，计算格式化后的数字，然后输出。

■■商业P2.34　下面的伪代码描述了如何从一个给定的浮点数价格中提取美元和美分数量。例如，2.95美元的价格得到数值2和95，分别对应美元和美分。

![](../Images/image05540.gif)

把上面的伪代码翻译为Python程序，读取一个价格，输出美元和美分的数量，并使用2.95和4.35作为输入测试你的程序。

■■商业P2.35　给出零钱。实现一个程序可以指导出纳员如何给出零钱。程序有两个输入：应付的金额和从客户那里收到的金额。显示客户应该收到零钱的美元、25美分、10美分、5美分和便士的数量。为了避免舍入误差，程序员应该提供所有金额的便士数量，例如274而不是2.74。

■商业P2.36　一家在线银行希望你能编写一个程序为潜在客户显示他们的存款会如何增长。你的程序应该能够读取初始余额和年利率，利息每个月结算并累加一次。输出前三个月的余额。下面是一次运行的结果：

![](../Images/image05541.gif)

■商业P2.37　一个视频俱乐部想要回馈最佳会员，根据租用的电影数量和推荐新会员数量给予一定的折扣。折扣是一个百分数并且等于租赁数量和推荐会员数量的和，但不能超过75%。编写一个程序计算折扣的数值。

下面是一次运行的结果：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05542.jpeg)

■科学P2.38　考虑下面的电路。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05543.jpeg)

编写一个程序读取3个电阻器的电阻值，使用欧姆定律计算总电阻。

■■科学P2.39　露点温度Td可以近似地使用相对湿度RH和实际温度T进行计算

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05544.jpeg)

其中a=17.27，b=237.7℃。

编写一个程序读取相对湿度（0到1之间）和温度（以℃为单位），然后输出露点温度。使用Python函数log计算自然对数值。

■■■科学P2.40　这里显示的管夹温度传感器是非常健壮的传感器，可以直接夹在铜管上测量管道内部液体的温度。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05545.jpeg)

每个传感器包含一个称作电热调节器的设备。电热调节器是一个半导体设备，可以展示与温度有关的电阻值，其对应关系为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05546.jpeg)

其中R是温度T（单位是°K）时的电阻（单位是Ω），R0表示T0（单位是°K）时的电阻（单位是Ω），β是依赖于制作电热调节器的材料的常数。电热调节器使用给定的值R0、T0和β来指定。

对于用来制作管夹温度传感器的电热调节器，有T0=85℃时R0=1075Ω，以及β=3969°K。（注意β的单位是°K。回想以°K为单位的温度是在以℃为单位的温度基础上加273.15得到的。）以℃为单位的液体温度是由以Ω为单位的电阻值确定的，计算公式为

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05547.jpeg)

编写Python程序提示用户输入电热调节器的电阻值R，然后输出表示以℃为单位的液体温度值信息。

■■■科学P2.41　下面显示的电路描述了从电力公司到其中一个客户之间的连接的重要组成部分。客户使用Vt、P和pf这3个参数表示。其中Vt是插入墙上插座能够得到的电压。为了保证家电能够正常工作，客户必须具有稳定可靠的Vt值。相应地，电力公司仔细地调整Vt的值保持恒定。P描述客户使用总电量，也是决定客户电费账单的主要因素。电力参数pf可能一般人并不是很熟悉。（电力参数的值是一个角度的正弦值，总是介于0到1之间。）在这个问题中，你需要编写一个Python程序来估计电力参数的重要性。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05548.jpeg)

在图中，电线被简化表示为以Ω为单位的电阻。电力公司被表示为AC电源。为了能够给客户提供电压为Vt的功率P，要求的源电压Vs可以使用下面的公式计算

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05549.jpeg)

（Vs的单位为Vrms。）这个公式表示Vs的值依赖于pf的值。编写一个Python程序提示用户输入电力参数的值，然后输出给出相应的Vs值的信息，使用上图中给出的P、R和Vt的值。

■■■科学P2.42　考虑下面与天线连接的调谐电路，其中C是电容在Cmin和Cmax之间变化的可变电容。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05550.jpeg)

调谐电路选择使用频率![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05551.jpeg)。为了设计给定频率的电路，使用![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05552.jpeg)并且使用f和C计算需要的感应系数L。现在线路可以调节至介于![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05553.jpeg)和![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05554.jpeg)之间的任何频率。

编写一个Python程序，使用给定的Cmin和Cmax值的可变电容，设计给定频率的调谐电路。（典型输入是f=16.7MHz，Cmin=14pF和Cmax=365pF。）程序应该读取f（单位是Hz），Cmin和Cmax（单位是F），然后输出要求的感应系数值和电路通过变化电容值可以调整的频率范围。

科学P2.43　根据库仑定律，两个电量分别为Q1和Q2且距离为r米的带电粒子之间的电力是![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05555.jpeg)牛顿，其中ε=8.854×10-12法拉第/米。编写程序计算和显示一对带电粒子之间的电力，其中Q1库伦、Q2库伦和r米由用户输入。

自测题答案

1.一个可能的答案是

![](../Images/image05556.gif)

你可以选择不同的变量名或者不同的初始值，但是你的变量应该具有int类型。

2.有2个错误：

不能在变量名中包含空格。

每升大约是33.81盎司，而不是28.35。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05557.jpeg)

5.把cansPerPack的声明修改为  

![](../Images/image05558.gif)

6.它的值被赋值语句修改了。

7.在停车场一辆车被另一辆车替换时会发生赋值语句。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05559.jpeg)

11.172和9

12.是n的倒数第2位数字。例如，如果n是1729，那么n//10是172，(n//10)%10是2。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05560.jpeg)

14.假设第一块瓷砖为黑色，后面紧跟四种颜色的瓷砖组合（gray/white/gray/black）。算法为

![](../Images/image05561.gif)

空隙的公式不变。

15.很明显，答案仅依赖于行和列的数量是偶数还是奇数，所以我们首先取对2的余数。然后我们可以枚举所有的期望答案：

![](../Images/image05562.gif)

在上面表格的前三行，颜色值是对余数简单求和。对于第四行，和本来应该是2，但是我们想让它是0。我们可以通过另外一个余数运算达到这样的效果：

![](../Images/image05563.gif)

16.在9年中，维护费用增加1400美元。因此，每年的增加为1400/9≈156美元。第3年的维护费用为100+2×156=412美元。第n年的维护费用为100+n×156美元。为了避免舍入误差的累加，使用原始的得到156美元的表达式是个好主意：

![](../Images/image05564.gif)

17.根据方程可以很容易得到伪代码：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05565.jpeg)

测量一个具体的酒瓶得到

r1=3.6，r2=1.2，h1=15，h2=7，h3=6

（单位都是厘米）。所以，

bottom volume=610.73

top volume=31.67

middle volume=135.72

total volume=778.12

实际容量为750ml，与我们计算的结果足够接近，可以证明计算结果是正确的。

18.长度是14。空格也作为一个字符进行计数。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05566.jpeg)

23.第二个语句调用了int，而不是float。如果用户输入1.95这样的价格，程序会以“Value error”结束。

24.提示的后面没有冒号和空格，对话可能是这样的：

![](../Images/image05567.gif)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05568.jpeg)

在is和10之间有4个空格。一个空格来自于格式字符串（s和%之间的空格），10之前的另外3个空格是为了保证域的宽度为5。

26.下面是一个简单的解决方案：

![](../Images/image05569.gif)

注意Cans：后面的空格。或者，你也可以使用字符串的格式限定符。

![](../Images/image05570.gif)

27.下面是一个可能的解决方案：

![](../Images/image05571.gif)

28.程序显示3个扁长的椭圆而不是矩形。

![](../Images/image05572.gif)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05573.jpeg)

[^1]:  1英尺＝0.304 8米。——编辑注