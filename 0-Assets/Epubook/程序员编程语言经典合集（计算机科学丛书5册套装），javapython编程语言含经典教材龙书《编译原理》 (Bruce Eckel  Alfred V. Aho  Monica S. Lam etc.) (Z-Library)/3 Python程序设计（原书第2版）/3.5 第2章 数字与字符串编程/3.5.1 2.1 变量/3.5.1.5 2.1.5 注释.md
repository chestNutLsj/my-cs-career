   

### 2.1.5　注释

当程序越来越复杂时，你应该增加注释，用来向人类阅读者解释代码。例如，下面的注释解释了常量的值：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05275.jpeg)

这个注释为人类阅读者解释了数字0.355的含义。解释器根本不会执行注释，它会忽略从#符号开始到行尾的任何东西。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05276.jpeg)

提供注释是一个好的习惯。这会帮助阅读你的代码的程序员理解你的意图。并且，你会发现注释对于回顾和检验自己的代码也是非常有帮助的。在源代码顶部提供解释程序目的的注释，本书中这样的注释我们采用了下面的形式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05277.jpeg)

现在你已经了解了变量、常量、赋值语句和注释的内容，我们就可以开始编写解决本章开始问题的程序了。程序显示一个6罐装易拉罐包的容积以及一个6罐包和一个2升瓶装的总容积。我们使用常量表示易拉罐和瓶子的容积，变量totalVolume被初始化为易拉罐的容积。使用赋值语句把瓶子的容积增加上去。正如程序输出所显示，6罐包装包含2升以上的苏打水。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05278.jpeg)

程序运行结果

![](../Images/image05279.gif)

自测题

1.定义一个实际案例中适合表示瓶子数量的变量。

2.下面的语句有什么错误？

![](../Images/image05280.gif)

3.定义两个变量unitPrice和quantity表示一个瓶子的单价和购买的瓶子数量，使用合理的初始值。

4.使用自测题3中定义的变量来输出购买的总价格。

5.有些饮料使用4罐装而不是6罐装，你应该如何修改程序volume1.py来计算总容积？

6.程序volume1.py中的变量totalVolume为何不能是常量？

7.你如何使用停车场的类比来解释赋值语句？

练习它　现在你可以尝试本章最后的练习：R2.1，R2.2，P2.1。

常见错误2.1　使用未定义的变量

变量必须在第一次使用之前创建并进行初始化。例如，以下面的语句序列开始的程序是非法的：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05281.jpeg)

在你的程序中，语句会被顺序执行。虚拟机执行第一条语句时，并不知道literPerOunce会在下一行定义，会报告“未定义的名字”错误。解决办法是调整语句顺序，保证每个变量都在使用前进行创建和初始化。

编程小提示2.1　使用描述性的变量名

使用短的变量名可以节省大量的打字时间，就像

![](../Images/image05282.gif)

这样的声明和我们真正使用的形式相比，哪个更容易阅读？不用比较也知道，canVolume比cv更容易理解，也很容易知道它一定是表示易拉罐容积（can volume）。

当多人合作编写程序时这一点尤为重要。可能你自己知道cv表示的是易拉罐容积（can volume）而不是现在的速度（current velocity），但是多年以后需要更新你的代码的人能知道吗？平心而论，3个月以后你是否还能记得cv表示的是什么意思吗？

编程小提示2.2　不要使用幻数

幻数是指在代码中使用的且没有任何说明的数字常量。例如，

![](../Images/image05283.gif)

为什么是2？瓶子的容积是易拉罐的2倍？不，真正的解释是每个瓶子能够容纳2升。使用具名常量来使得代码能够自我说明：

![](../Images/image05284.gif)

使用具名常量还有另外一个原因。假设环境发生变化，每个瓶子的容积现在是1.5升。如果使用具名常量，只需要一个简单的修改就可以完成。否则，你不得不查找程序中的每个数字2并且仔细思考它是表示一个瓶子的容积还是其他的含义。对于超过多页的程序，这不仅超级枯燥而且很容易出错。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05285.jpeg)

即使是合理的、广泛使用的常数也有一天可能发生改变。你认为一年有365天吗？你火星上的客户可能会因为你愚蠢的假设而非常不开心，创建一个常量

![](../Images/image05286.gif)