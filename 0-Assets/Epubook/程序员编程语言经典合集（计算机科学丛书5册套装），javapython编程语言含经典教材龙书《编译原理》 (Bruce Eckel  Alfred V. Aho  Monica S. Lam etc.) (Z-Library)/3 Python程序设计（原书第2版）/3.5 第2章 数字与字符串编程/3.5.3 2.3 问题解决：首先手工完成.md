   

## 2.3　问题解决：首先手工完成

在上一节中，你已经了解如何使用Python表示计算。当被要求编写一个程序来解决问题时，你可能会很自然地考虑这些计算的Python语法。然而，在开始编写程序之前，你应该首先执行一个非常重要的步骤：手工执行这些计算。如果你不能自己进行手工计算，很可能你也写不出一个能够自动计算的程序。

为了说明手工计算的用法，考虑下面的问题：一行黑白相间的瓷砖需要沿墙放置。为了美观，设计师要求第一块和最后一块瓷砖应该是黑色的。

你的任务是计算需要的瓷砖数量和两端的空隙，假设已知空间和每块瓷砖的宽度。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05335.jpeg)

为了让问题更具体，我们假设下面的尺寸：

·总宽度：100英寸[^1]

·瓷砖宽度：5英寸

很显然的解决方案是使用20块瓷砖来铺满这个空间，但是那样并不符合要求——最后一块瓷砖会是白色的。

相反，这样来看问题：第一个瓷砖必须总是黑色的，然后我们增加一定数量的白/黑对：

![](../Images/image05336.gif)

第一块瓷砖占用了5英寸，还剩下95英寸可以成对铺瓷砖，每一对是10英寸宽。因此成对瓷砖的数量是95÷10=9.5，然而我们需要丢弃小数部分，因为我们没法铺小数个瓷砖对。

因此，除了第一块黑色瓷砖，我们还会使用9对瓷砖或18块瓷砖。

瓷砖的跨度一共是19×5=95英寸，剩余的总空隙为100-19×5=5英寸。

空隙应该均匀地分布在两端，每一端的空隙为（100-19×5）÷2=2.5英寸。

这个计算给了我们足够的信息来设计一个适用于任意总宽度和瓷砖宽度的算法。

![](../Images/image05337.gif)

如你所见，手工计算可以帮助我们对问题的理解更加深入，使得算法设计更加容易。完整的程序见ch02/sec03/tiles.py。

自测题

13.把计算瓷砖数量和空隙的伪代码翻译成Python程序。

14.假设设计师要求瓷砖模式为黑色、灰色和白色，就像

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05338.jpeg)

同样要求第一块和最后一块是黑色瓷砖。你应该如何修改算法？

15.一个机器人需要使用黑白瓷砖交替的方式铺地板。设计一个可以给出颜色（0表示黑色，1表示白色）的算法，假设已知行和列的数量。从指定行和列的特定值开始，然后一般化。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05339.jpeg)

16.对于一个特定的汽车，第1年的维修和维护费用大概是100美元，第10年是1 500美元。假设维修费用每年以同样的数量增加，开发一个伪代码来计算第3年的维修费用，然后一般化使得可以计算第n年的维修费用。

17.瓶子的形状近似于高度为h3的圆锥体连接的两个半径为r1和r2且高度为h1和h2的圆柱体。使用圆柱体体积计算公式V=πr2h和圆锥体截面的体积公式，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05340.jpeg)

开发计算瓶子体积的伪代码。使用一个已知体积的实际瓶子为样本，手工完成伪代码的计算。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05341.jpeg)

练习它　现在你可以尝试本章最后的练习：R2.15，R2.17，R2.18。

编程实战2.1　计算旅行时间

问题描述　一个机器人需要取回放置在紧挨着一条路的岩石地形中的物体。机器人在路上行进的速度比岩石地形快，所以它先以这样的速度行进一定的距离，然后再直线行进到达该物体。手工计算它需要多长时间才能到达该物体。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05342.jpeg)

你的任务是计算机器人到达目标所需要的总时间，给定以下输入：

·机器人与物体在x方向和y方向的距离（dx和dy）

·机器人在路上和岩石地形行进的速度（s1和s2）

·在路上的第一段距离l1

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05343.jpeg)

为使问题更具体，我们假设下面的尺寸：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05344.jpeg)

总时间是穿过两段路的时间，穿过第一段路的时间可以简单地用距离除以速度：6km除以5km/h，或者1.2h。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05345.jpeg)

为了计算第二段路程的时间，我们首先需要知道它的长度，也就是直角边长为3和4的直角三角形的斜边。

因此，该段路径的长度是![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05346.jpeg)，以2km/h的速度穿过这段路程需要2.5h，这样的话总时间为3.7h。

这个计算过程提供了足够的信息来设计一个算法计算任意参数的总旅行时间：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05347.jpeg)

翻译成Python语言，计算过程为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image05348.jpeg)

我们使用了比dx或者s1更长也更具有描述性的变量名。当你手工计算时，使用短的名字很方便，但是在程序中你应该改为描述性更强的名字。在实际中，程序通常是由多人开发的。一个像s1这样的短变量名可能你知道是什么意思，但是一段时间以后维护这个程序的其他人却会很茫然。完整的程序见ch02/worked_example_1/traveltime.py。

[^1]:  1英寸＝0.025 4米。——编辑注