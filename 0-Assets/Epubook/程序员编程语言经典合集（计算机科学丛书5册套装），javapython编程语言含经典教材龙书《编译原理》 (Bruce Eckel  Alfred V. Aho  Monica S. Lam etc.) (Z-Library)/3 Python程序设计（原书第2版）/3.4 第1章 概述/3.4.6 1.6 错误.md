   

## 1.6　错误

试验一下hello.py程序，如果你制造一个输入错误，例如

![](../Images/image05203.gif)

会发生什么（注意，问候语的最后缺少了一个引号）？当你试图运行程序时，解释器会停止工作并显示下面的信息

![](../Images/image05204.gif)

这是一个编译时错误。（把Python指令翻译成为可执行形式的过程称为编译——见专题1.1。）按照语言规则来说这是不对的，在程序真正运行之前会检测到这些错误。基于这个原因，编译时错误有时也被称为语法错误。发现这样的错误时，不会创建任何可执行程序。你必须修改这些错误并且尝试重新运行程序。解释器非常吹毛求疵，在程序能够运行之前需要修改多次编译时错误是经常发生的事。在本例中，修改是很简单的：在字符串的最后增加一个引号就可以了。

不幸的是，解释器并不是很智能，在识别语法错误时经常不能给出有用的信息。例如，假设你忘记在字符串两端输入引号

![](../Images/image05205.gif)

错误报告看起来是这样的

![](../Images/image05206.gif)

然后你需要自己意识到需要在字符串两端加上引号才行。

有些错误只能在程序执行时才能被发现。例如，假设你的程序中包括语句

![](../Images/image05207.gif)

这个语句并不违反Python语言的规则，程序可以运行。但是，当除以0的操作发生时，程序会停止运行并输出下面的错误信息：

![](../Images/image05208.gif)

这叫作异常。与分析程序代码时报告的编译时错误不同，异常是在程序运行时发生的，属于运行时错误。

还有一种运行时错误，例如程序中包含下面的语句：

![](../Images/image05209.gif)

程序在语法上是正确的，并且会运行良好，但是并没有输出预期的结果，没有输出“Hello，World!”，而是在“World”的位置输出了“Word”。

有人喜欢使用逻辑错误而不是运行时错误来描述上面的情况。毕竟，当程序工作不正常时，肯定是程序在逻辑上存在错误。一个编写良好的程序应该可以保证不存在除以0错误并且没有错误输出。

开发程序时很难避免错误。一旦程序超过一定行数，就需要用户是超人，保证没有一次输入错误。你可能会错误地拼写单词，没有输入引号，或者试图执行本来没有想到的非法运算等。幸运的是，这些问题会在编译时报告错误，并且有机会修改。

运行时错误就麻烦得多，非常难以发现和修改，因为解释器无法标记这些错误，所有这些错误都必须由程序编写者来检查和避免。

自测题

15.假设你在hello.py程序中漏掉了Hello，World!两边的””符号，这是编译时错误还是运行时错误？

16.假设你把print函数的圆括号改为花括号，这是编译时错误还是运行时错误？

17.假设你漏掉了hello.py程序中第一行表示注释的井号（#），这是编译时错误还是运行时错误？

18.在运行程序时，你可能会经历“崩溃”（自然退出）或者“宕机”（无法响应你的输入），这属于编译时错误还是运行时错误？

19.为什么你不能在程序具有编译时错误时测试运行时错误？

练习它　现在你可以尝试本章最后的练习：R1.9，R1.10，R1.11。

常见错误1.1　拼写错误

如果你不小心拼写错了一个单词，会发生奇怪的事情，这些错误并不会有明显的提示。下面的代码很好地演示了简单的拼写错误是怎么引起麻烦的：

![](../Images/image05210.gif)

第一条语句调用Print函数，这与print函数并不一样，因为Print是大写字母开头并且Python语言是大小写敏感的。大写字母和小写字母被认为是完全不同的，对解释器而言Print无法与print相匹配。当然，名字“Print”没定义的信息应该可以提供查找错误的线索。

如果你收到错误信息提示Python解释器正运行于错误的轨迹，检查拼写错误和大小写是个不错的主意。