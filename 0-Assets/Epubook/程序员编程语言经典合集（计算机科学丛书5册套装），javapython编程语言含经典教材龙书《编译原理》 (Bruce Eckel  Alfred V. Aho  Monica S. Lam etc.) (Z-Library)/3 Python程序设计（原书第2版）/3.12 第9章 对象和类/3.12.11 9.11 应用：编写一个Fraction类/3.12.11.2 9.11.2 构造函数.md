   

### 9.11.2　构造函数

为了实现Fraction类，我们会从构造函数开始。因为Fraction对象是不可变的，它们的值必须在创建对象时设置。这要求两个形参变量分别表示分子和分母。

![](../Images/image07365.gif)

我们假设该类的用户会为构造函数传递整数参数。但是如果他们给分母传递0呢？记住，有理数的分母不能为0。为了避免发生这种情况，我们可以检查这个值并在必要时抛出ZeroDivisionError异常。

验证完分母不是0之后，我们需要检查有理数是否为0或负数。如果有理数为0，就把分子设置为0并且把分母设置为1。

负有理数会把分子设置为负整数进行存储。对于非0的有理数，必须保存为可能的最小形式。为了对有理数进行约分，我们必须找到分子和分母的最大公约数。

为了计算最大公约数，我们使用欧几里得在大约公元前300年公开的一个算法。给定大于0的两个正整数a和b，计算大数字对小数字的余数，然后使用小数字和余数重复这个计算，直到其中一个数字为0，那么另一个数字就是a和b的最大公约数。

下面是构造函数的实现：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07366.jpeg)

为了说明Fraction类的用法，我们使用不同的分子和分母创建了几个对象：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07367.jpeg)