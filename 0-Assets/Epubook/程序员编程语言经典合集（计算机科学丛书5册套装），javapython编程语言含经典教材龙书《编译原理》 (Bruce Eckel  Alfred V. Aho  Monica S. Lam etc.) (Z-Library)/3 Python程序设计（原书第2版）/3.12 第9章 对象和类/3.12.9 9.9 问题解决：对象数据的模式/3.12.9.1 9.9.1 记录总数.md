   

### 9.9.1　记录总数

很多类需要跟踪一个数量，这个数量可以在某些特定的方法被调用时变大或者变小。这样的例子有：

·银行账号有个余额，存款时增加，而取款时减少。

·出纳机有个总金额，往交易中加入物品时会增加，而交易结束后清零。

·汽车有个油箱中燃油的数量，加油时增加，而汽车行驶时减少。

在所有这些情况中，实现策略是类似的。保存一个表示当前总数的实例变量。例如，我们为出纳机定义了实例变量_totalPrice。

定位会影响这个总数的方法。通常会有一个方法把它增加给定的值：

![](../Images/image07317.gif)

取决于类的本质，可能会有减少或者清零这个总数的方法。对于出纳机，就有个clear方法：

![](../Images/image07318.gif)

通常还会有个方法用来得到当前的总数，这很容易实现：

![](../Images/image07319.gif)

所有管理一个总数的类都遵守同样的基本模式。确定影响总数的方法并提供合适的代码来增加或减少它，确定报告或使用这个总数的方法，让那些方法读取当前总数的值。