   

### 9.9.5　使用唯一状态建模对象

有些对象具有随过去发生的事情而变化的行为。例如，Fish对象会在饥饿时寻找食物而当吃过之后则会忽略食物。这样一个对象可能需要记住它最近是否有过进食。

提供一个对该状态进行建模的实例变量，同时提供一些表示状态值的常量。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07328.jpeg)

决定哪些方法会修改这个状态。在这个例子中，一条刚吃过食物的鱼不会饥饿。但是随着鱼的移动，它会变饿。

![](../Images/image07329.gif)

最后，确定状态在哪里影响行为。一条非常饥饿的鱼会想先去寻找食物。

![](../Images/image07330.gif)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07331.jpeg)

如果一条鱼处于饥饿状态，它的行为会发生改变