   

### 9.10.3　self引用

每个方法都有一个调用该方法的对象的引用，保存在self形参变量中。例如，考虑方法调用

![](../Images/image07353.gif)

当这个方法被调用时，形参变量self引用和reg1相同的对象（见图9-8）。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07354.jpeg)

图9-8　方法调用的self形参变量

就像本章中见到的一样，self引用用来访问调用该方法的对象的实例变量。例如，考虑方法：

![](../Images/image07355.gif)

在调用reg1.addItem(2.95)中，self被初始化为引用reg1，而price被初始化为2.95。然后self._itemCount和self._totalPrice分别与reg1._itemCount和reg1._totalPrice相同。

你也可以在self上调用一个方法。例如，我们可以把构造函数实现为

![](../Images/image07356.gif)

在构造函数中，self是正在被创建的对象的引用，clear方法在那个对象上被调用。

最后，有时你会把self传递给另一个方法。例如，假设你有一个Person类，而该类有个方法likes(self，other)用来检查（可能从社交网络中）一个人是否喜欢另一个人。那么你可以定义一个方法：

![](../Images/image07357.gif)

注意在最后一个方法调用中self是如何传递给likes方法的。