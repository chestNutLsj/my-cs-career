   

## 9.1　面向对象编程

你已经学习了如何通过把任务分解为函数来构建你的程序。这是一个非常好的技能，但是经验显示这还远远不够。对于包含大量函数的程序，理解和更新都是很困难的。

为了解决这个问题，计算机科学家发明了面向对象编程，一种通过对象之间的合作来解决问题的编程模式。每个对象拥有自己的数据集，以及用来操作数据集的一组方法。

在使用字符串、列表和文件对象时，你已经体验过了这个编程模式。例如，你可以使用insert或remove方法操作列表对象。

在开发面向对象的程序时，你需要创建自己的对象来描述在应用程序中什么是重要的。例如，在学生数据库中你可能需要处理Student和Course对象。当然，你还必须为这些对象提供方法。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07205.jpeg)

Car类描述可以承载4～5人和少量行李的客车

在Python中，类描述一组具有同样行为的对象。例如，str类描述所有字符串的行为。这个类描述了字符串如何存储它的字符，哪些方法可用于字符串，以及这些方法是如何实现的。

相比之下，list类描述了可以用来存储一组值的对象的行为，在第6章你已经看到如何创建和使用列表了。每个类定义了可以通过其对象来使用的一组方法。例如，对于一个str对象，你可以调用upper方法：

![](../Images/image07206.gif)

我们说upper方法是str类的一个方法。而list类则拥有一组不同的方法，例如，调用

![](../Images/image07207.gif)

是无效的——list类没有upper方法。然而，list类具有pop方法，调用

![](../Images/image07208.gif)

是合法有效的。

一个类提供的所有的方法的集合以及它们行为的描述被称为这个类的公开接口。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07209.jpeg)

你通过操作方向盘和踏板就可以开汽车，不需要知道发动机是如何工作的。类似地，你通过对象方法来使用对象，内部实现是隐藏的  

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07210.jpeg)

电动车驾驶员不需要学习新的控制手段，即使车的发动机是非常不一样的。使用内部实现改进过的对象的程序员也不需要—只要提供的方法是一样的就可以  

在使用一个类的对象时，你不知道这个对象是如何存储数据的，也不知道这些方法是如何实现的。你不需要知道str对象是如何组织字符序列的，也不需要知道list对象是如何存储元素的。所有你需要知道的就是公开接口——你可以使用哪些方法，这些方法都是做什么的。提供公开接口而隐藏内部实现细节的过程叫作封装。

在设计自己的类时，你会使用封装的技术。也就是说，你会指定一组公开方法并隐藏它们的实现细节。团队中其他的程序员可以不需要知道它们的实现就可以使用你的类，就像你能够使用str和list类一样。

如果一个程序的开发周期很长的话，内部实现的改变是常有的事，通常是为了使得对象更加高效或者可用性更强。封装是使得这些改变能够成功的重要手段。内部实现被隐藏起来，这些改进就不会影响使用对象的程序员。

自测题

1.方法调用"Hello，World".print()合法吗？合法的话为什么？不合法的话为什么？

2.使用str对象时，你不需要知道它如何存储其中的字符。你可以如何访问它们？

3.描述str对象存储其中字符的一个可能的方式。

4.假设你的Python解释器的提供者决定修改str对象存储其中字符的方式，并且相应地更新了str的方法实现。得到新的解释器之后，你的代码中哪些部分是需要改变的？

练习它　现在你可以尝试本章最后的练习：R9.1，R9.4。