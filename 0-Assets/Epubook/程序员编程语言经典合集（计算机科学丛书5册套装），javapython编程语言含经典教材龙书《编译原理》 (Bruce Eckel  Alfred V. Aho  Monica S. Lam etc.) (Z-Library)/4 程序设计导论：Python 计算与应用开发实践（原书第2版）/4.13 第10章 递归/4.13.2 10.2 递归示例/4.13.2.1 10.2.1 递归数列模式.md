   

### 10.2.1　递归数列模式

我们首先实现函数pattern()，带一个非负整数n作为输入参数，输出一个数值模式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09103.jpeg)

怎么知道这个问题应该递归地解决呢？验证前，我们无法确认。我们需要尝试它，看看它是否有效。首先来确定基本情况。基于所给出的例子，我们可以决定的基本情况为：输入参数n为0，这种情况下函数pattern()应该打印0。首先实现如下的函数：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09104.jpeg)

接下来需要描述对于正整数输入参数n函数pattern()的行为。我们观察pattern(3)的输出，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09105.jpeg)

把上述结果与pattern(2)的输出做比较：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09106.jpeg)

如图10-2所示，pattern(2)的输出在pattern(3)的输出中出现了2次而不是1次：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09107.jpeg)

图10-2　pattern(3)的输出结果。pattern(2)的输出结果出现了2次

看起来好像pattern(3)的正确输出可以通过调用函数pattern(2)，输出3，然后再调用pattern(2)获得。在图10-3中，我们描述了pattern(2)和pattern(1)输出的类似行为。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09108.jpeg)

图10-3　pattern(2)和pattern(1)的输出结果。pattern(2)的输出结果可以通过pattern(1)的输出结果获得。pattern(1)的输出结果可以通过pattern(0)的输出结果获得

一般来说，pattern(n)的输出是通过执行pattern(n-1)，输出n的值，然后再执行pattern(n-1)获得：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09109.jpeg)

让我们尝试运行实现的函数：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09110.jpeg)

基本上实现了程序的功能。为了在一行中输出结果，我们需要将每次输出结果保持在同一行中。所以最终的解决方案是：

模块：ch10.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09111.jpeg)

练习题10.4　实现递归函数pattern2()，带一个非负整数作为输入参数，输出如下所示的模式。对于输入0和1，分别仅输出一个星号：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09112.jpeg)

对于输入2和3，输出模式如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09113.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09114.jpeg)