   

### 10.3.2　运算次数

比较两个函数的效率的一种方法是计算每个函数在同一输入下执行的运算次数。在power()和rpower()的情况下，我们缩减为仅计算乘法的次数。

很显然，power(2,10000)需要10000次乘法。那么rpower(2,10000)需要多少次？要回答这个问题，我们修改rpower()，使得它统计执行乘法的次数。为此，我们通过每一次乘法时递增一个全局变量counter（在函数外部定义）的方法来实现：

模块：ch10.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09152.jpeg)

接下来我们进行统计：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09153.jpeg)

因此，递归方法实现的乘幂运算函数，可以把乘法的次数从10000减少到23。