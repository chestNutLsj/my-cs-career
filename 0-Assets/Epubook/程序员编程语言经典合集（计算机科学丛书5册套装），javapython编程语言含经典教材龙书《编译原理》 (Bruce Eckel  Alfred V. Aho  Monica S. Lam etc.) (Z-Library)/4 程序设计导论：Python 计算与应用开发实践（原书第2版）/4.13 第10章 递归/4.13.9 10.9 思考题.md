   

## 10.9　思考题

10.18　编写一个递归函数silly()，带一个非负整数作为输入参数，输出n个问号，后跟n个感叹号。要求程序不能使用循环。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09201.jpeg)

10.19　编写一个递归函数numOnes()，带一个非负整数n作为输入参数，返回n的二进制表示中1的个数。使用下列事实：1的个数等于n//2（整数除法）表示中1的个数，如果n是奇数，则加1。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09202.jpeg)

10.20　在第5章中，我们使用迭代方法开发了欧几里得最大公约数（GCD）算法。欧几里得算法可以很自然地使用递归方法描述：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09203.jpeg)

使用上述递归定义，实现递归函数rgcd()，带两个输入参数：两个非负整数a和b（a>b）。返回a和b的最大公约数GCD：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09198.jpeg)

10.21　编写函数rem()，带一个输入参数：一个列表（可能包含重复值），返回一个删除了重复值的列表副本。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09204.jpeg)

10.22　你打算返回故乡并打算住在朋友家里。碰巧你所有的朋友都住在同一条街上。为了提高效率，你打算住在中央位置的朋友家中，即满足下列条件：两边的朋友数量相同。如果两个朋友的房子符合这个标准，则选择街道地址较小的朋友的房子。

编写函数address()，带一个输入参数：一个街道号码列表，返回你打算居住的号码。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09205.jpeg)

10.23　开发一个递归函数tough()，带两个非负整数作为输入参数，输出如下所示的模式。提示：第一个参数表示模式的缩进，而第二个参数（永远是2的乘幂）表示星号（“*”）最多的行中星号的数量。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09206.jpeg)

10.24　编写一个递归函数base()，带两个参数：一个非负整数n和一个正整数b（1<b<10），输出整数n的b进制表示。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09207.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09208.jpeg)

10.25　实现函数permutations()，带一个参数：一个列表lst。返回lst的所有排列（因此返回值是一个列表的列表）。使用递归方法实现。如果输入列表lst的大小为1或0，直接返回一个包含列表lst的列表。否则，在子列表lst[1:]上递归调用函数以获得除了lst[0]以外的lst所有项的所有排列。然后，对于每个这样的排列（即列表）perm，通过把lst[0]插入到perm所有可能的位置生成lst的排列。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09209.jpeg)

10.26　实现函数anagrams()，计算给定单词的字谜（anagram，即颠倒字母而形成的字）。一个单词A的字谜是通过重新排列单词A形成的单词B。例如，单词pot是单词top的一个字谜。要求函数带两个输入参数：一个包含单词的文件和一个单词。输出文件中是输入单词的字谜的所有单词。在下一个示例中，使用文件words.txt作为你的单词文件。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09210.jpeg)

10.27　编写一个函数pairs1()，带两个输入参数：一个整数列表和一个目标整数。如果列表中存在两个数之和等于目标整数，则返回True；否则返回False。要求程序的实现使用嵌套循环检查列表中的所有数值对。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09211.jpeg)

程序完成后，重新实现函数，首先排序列表，然后有效地查找数值对。使用timingAnalysis()应用程序分析这两种实现的运行时间。（函数buildInput()应该生成一个元组，包含列表和整数。）

10.28　在本题中，我们将开发一个函数，抓取相互“链接”的文件。爬虫程序访问的每个文件包含零个或多个指向其他文件的链接（每行一个），没有别的内容。指向一个文件的链接仅仅是文件名。例如，文件file0.txt的内容如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09212.jpeg)

第一行表示指向文件file1.txt的链接，第二行表示指向文件file2.txt的链接。

实现一个递归函数crawl()，带一个输入参数：一个文件名（字符串）。输出信息表示正在访问该文件、打开文件、读取每个链接，然后继续递归抓取每个链接。下面示例使用了压缩文档files.zip中的一系列文件。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09213.jpeg)

10.29　Pascal三角形是一个无限的二维数字模式，其前五行如图10-16所示。第一行（行0）只包含1。所有其他的行以1开头和结尾。这些行中的其他数字使用如下规则得到：第i个位置上的数字是上一行中的位置i-1和位置i的数字之和。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09214.jpeg)

图10-16　Pascal三角形。其中仅仅显示了Pascal三角形的前5行

实现递归函数pascalLine()，带一个非负整数n作为输入参数，返回一个列表，包含出现在Pascal三角形中第n行的数值序列。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09215.jpeg)

10.30　实现递归函数traverse()，带两个输入参数：一个文件夹路径名称（字符串）和一个整数d。在屏幕上输出包含在文件夹（直接包含，或间接包含）中所有文件和子文件夹的路径名称。要求文件和子文件夹路径名称的输出采用缩进格式，缩进与其相对于顶级文件夹的深度成正比。如下示例显示了traverse()在图10-8中所示的文件夹“test”上执行的结果。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09216.jpeg)

10.31　实现函数search()，带两个输入参数：一个文件名和一个文件夹路径名。在文件夹及其子文件夹（直接或间接）中搜索该文件。如果搜索成功，则要求函数返回该文件的路径名；否则，返回None。如下显示了在图10-8所示的父文件夹“test”下执行search(' fileE . txt ', ' test ')的结果：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09217.jpeg)

10.32　Lévy曲线是一种可以递归定义的分形图形模式，类似于科赫曲线。对于任何非负整数n＞0，Lévy曲线Ln可以使用Lévy曲线Ln-1定义；Lévy曲线L0是一条直线。图10-17显示了Lévy曲线L8。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09218.jpeg)

图10-17　Lévy曲线L8

（a）从互联网上查找有关Lévy曲线更多信息，然后实现递归函数levy()，带一个非负整数n作为输入参数；返回海龟绘图指令，指令采用字母L、R和F编码，其中L表示“向左旋转45度”，R表示“向右旋转90度”，F表示“向前”。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09219.jpeg)

（b）实现函数drawLevy()，带一个非负整数n作为输入参数，使用函数levy()获得的指令绘制Lévy曲线Ln。

10.33　在简单的掷硬币游戏中，你得到一个初始的硬币数，然后，在游戏的每一次迭代中，你都需要使用以下规则之一来去掉一定数量的硬币。如果n是你所拥有的硬币的数量：

·如果n可以被10整除，则可以交还9个硬币；

·如果n是偶数，则可以精确地交还n/2-1个硬币；

·如果n可以被3整除，则可以交还7个硬币；

·如果n可以被4整除，则可以交还6个硬币。

如果没有规则可以应用，你就输了。这个游戏的目的是最终得到8个硬币。

注意，对于n的某些值，可以应用不止一条规则。例如，假如n等于20，可以应用规则1，结果为11个硬币。但是，因为没有规则可以适用于11个硬币，你就会输掉这场比赛。或者可以应用规则4，结果为14枚硬币。然后应用规则2，结果为8枚硬币，最终赢得比赛。

编写一个函数coins()，带一个初始硬币数量作为输入参数，如果有一种游戏玩法使得结果为8枚硬币，则返回True。只有没有任何方法赢得游戏时，才输出False。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09220.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09221.jpeg)

10.34　利用线性递归，实现函数recDup()，带一个列表作为输入参数，返回一个列表副本，其中每个项都重复了一次。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09222.jpeg)

10.35　利用线性递归，实现函数recReverse()，带一个列表作为输入参数，返回列表的反序副本。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09223.jpeg)

10.36　利用线性递归，实现函数recSplit()，带两个输入参数：一个列表lst和一个非负整数i（不大于lst的大小）。要求函数将列表分成两部分，以便第二部分正好包含列表的最后i个项。函数应该返回一个包含两部分的列表。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09224.jpeg)

10.37　实现一个函数，绘制如下所示的正方形模式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09225.jpeg)

（a）首先实现函数square()，带四个输入参数：一个Turtle对象和三个整数x、y和s。使用Turtle对象在坐标位置(x,y)绘制一个边长为s的正方形。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09226.jpeg)

（b）现在实现递归函数squares()，其参数除了包含函数square相同的参数外，再增加一个整数n参数，绘制一个正方形模式。当n=0，什么也不绘制。当n=1，使用square(t,0,0,200)绘制一个正方形。当n=2，绘制模式如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09227.jpeg)

四个小正方形的中心位于大的正方形的顶点，且长度为原始正方形的1/2.2。当n=3时，绘制模式如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09228.jpeg)