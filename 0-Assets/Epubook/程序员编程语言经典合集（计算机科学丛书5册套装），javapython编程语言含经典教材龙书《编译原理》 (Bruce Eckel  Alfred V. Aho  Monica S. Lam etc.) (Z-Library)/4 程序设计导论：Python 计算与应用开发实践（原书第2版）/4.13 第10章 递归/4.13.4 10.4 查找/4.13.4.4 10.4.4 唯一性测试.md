   

### 10.4.4　唯一性测试

我们考虑这个问题：给定一个列表，其中的每一项都是唯一的吗？解决这个问题的一种自然方法是遍历列表，并对每个列表项检查该项是否在列表中出现不止一次。函数dup1()实现了这个想法：

模块：ch10.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09181.jpeg)

和运算符in以及index()方法一样，要统计一个目标项出现的次数，列表方法count()必须对列表执行线性查找。所以，在duplicates1()中，针对每个列表项都执行一次线性查找。是否存在更好的方法呢？

如果我们先对列表进行排序呢？这样做的优点是，重复的项将在排序列表中彼此相邻。因此，要判断是否有重复项，我们需要做的是把每一个项与其前一个项进行比较：

模块：ch10.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09182.jpeg)

这种方法的优点是它只需要遍历一次列表。当然，这种方法是有代价的：我们必须首先对列表进行排序。

在第6章中，我们看到字典和集合可以用来检查一个列表是否包含重复的内容。函数dup3()和dup4()分别使用字典或集合来检查输入列表是否包含重复项：

模块：ch10.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09183.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09184.jpeg)

我们把这四个函数的分析作为练习题。

练习题10.9　通过实验，分析函数dup1()、dup2()、dup3()和dup4()的运行时间。要求在10个大小为2000、4000、6000和8000的列表上测试各函数，获取列表的方法如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09185.jpeg)

注意该函数通过重复从0到n2-1中选取n个数的方法返回列表，列表可能包含重复项。执行完成后，请分析并解释执行结果。