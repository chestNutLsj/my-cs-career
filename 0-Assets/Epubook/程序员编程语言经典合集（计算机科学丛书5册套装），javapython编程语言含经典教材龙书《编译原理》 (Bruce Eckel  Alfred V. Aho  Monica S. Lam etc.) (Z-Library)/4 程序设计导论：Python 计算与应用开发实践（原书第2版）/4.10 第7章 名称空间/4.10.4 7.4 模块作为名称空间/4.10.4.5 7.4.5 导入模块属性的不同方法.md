   

### 7.4.5　导入模块属性的不同方法

现在我们讨论三种不同的导入模块及其`属性的方法，并讨论每种方法的优点。再次使用example模块作为运行示例：

模块：example.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08739.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08740.jpeg)

访问函数f()、g()或全局变量x的一种方法是：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08741.jpeg)

这条导入语句将查找文件example.py，并运行其中的代码。结果将实例化两个函数对象和一个整型对象，并创建一个名为example的名称空间，这个名称空间保存创建的对象的名称。为了访问和使用模块属性，必须指定模块名称空间：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08742.jpeg)

如前所述，直接调用f()将导致一个错误。因此，import语句并不会把名称f置于模块__main__的名称空间（导入example的模块）。它仅仅导入模块的名称example，如图7-13所示。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08743.jpeg)

图7-13　导入一个模块。语句import example在调用模块名称空间中创建一个名称example，example指向与导入模块example关联的名称空间

除了导入模块名称，还可以使用from命令导入需要的属性名称本身：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08744.jpeg)

如图7-14所示，from把属性f的名称拷贝到主程序（执行导入的模块），因此，可以直接引用f，而不用指定模块名称。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08745.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08746.jpeg)

图7-14　导入一个模块属性。模块属性可以导入到调用方模块名称空间。语句from example import f在调用方名称空间创建名称f，指向对应的函数对象

注意，上述代码仅仅拷贝属性f，没有拷贝属性g（如图7-14所示）。直接引用g将导致一个错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08747.jpeg)

最后，还可以使用from通过通配符*导入一个模块中的所有属性：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08748.jpeg)

图7-15显示example的所有属性都被拷贝到名称空间__main__中。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08749.jpeg)

图7-15　导入模块的所有属性。语句from example import *导入模块example的所有属性到调用者模块名称空间中

哪种方法最好呢？这是一个很难回答的问题。这三种方法都有其各自的优点。仅仅导入模块名有利于将模块中的名称与主模块分开。这保证了主模块中的名称与导入模块中的相同名称之间不会发生冲突。

从模块中导入单个属性的好处是，在引用属性时不需要使用名称空间作为前缀。这有助于精简代码，因此可读性更强。通过import *导入模块所有的属性也具有相同的优点，且导入过程更加简洁。然而，使用import *通常不是一个好方法，因为我们可能无意中导入了与主程序中的全局名称冲突的名称。