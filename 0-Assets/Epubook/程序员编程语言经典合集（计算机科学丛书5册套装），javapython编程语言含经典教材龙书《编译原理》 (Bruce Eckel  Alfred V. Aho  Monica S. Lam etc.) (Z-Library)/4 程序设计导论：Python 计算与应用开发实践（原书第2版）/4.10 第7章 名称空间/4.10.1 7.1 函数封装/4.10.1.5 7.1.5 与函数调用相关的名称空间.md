   

### 7.1.5　与函数调用相关的名称空间

实际上，更彻底的事实是：在double()执行过程中定义了的变量名x和y对调用程序（在我们的例子中，是解释器命令行）不可见，即使在函数执行过程中也是如此。为了证明这一点，让我们在命令行中定义变量x和y，然后再执行函数double()：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08668.jpeg)

让我们检查变量x和y（在解释器命令行中定义）是否被更改：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08669.jpeg)

变量x和y没有被更改。该示例表明存在两组不同的变量名x和y：在解释器命令行中定义的一组变量和在函数执行过程中定义的另一组变量。图7-1显示了解释器命令行和执行中的函数各自具有独立的名称空间。每个空间被称为名称空间。解释器命令行有自己的名称空间。每次函数调用将会创建一个新的名称空间。不同的函数调用具有各自不同的相对应的名称空间。其效果是每个函数调用都有自己的“执行区域”，所以它不会干扰调用程序或其他函数的执行。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08670.jpeg)

图7-1　名称空间。变量名x和y在解释器命令行中定义。在double(4)执行过程中，在函数调用名称空间中定义了另一组局部变量x和y

在执行函数调用时分配的名称被称为本地名称，它们是函数调用中的局部名称。函数的局部名称只存在于与函数调用相关的名称空间中。它们具有如下特点：

·仅对函数中的代码可见。

·不会影响函数以外定义的名称，即使它们名称相同。

·仅在函数执行期间存在。在函数开始执行之前不存在，并且在函数完成执行后也不再存在。

练习题7.1　定义函数f()和g()如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08671.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08672.jpeg)

使用图7-1作为范例，图形化地描述使用如下调用执行函数g()时，函数f()和g()的变量名、变量的值和名称空间。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08673.jpeg)