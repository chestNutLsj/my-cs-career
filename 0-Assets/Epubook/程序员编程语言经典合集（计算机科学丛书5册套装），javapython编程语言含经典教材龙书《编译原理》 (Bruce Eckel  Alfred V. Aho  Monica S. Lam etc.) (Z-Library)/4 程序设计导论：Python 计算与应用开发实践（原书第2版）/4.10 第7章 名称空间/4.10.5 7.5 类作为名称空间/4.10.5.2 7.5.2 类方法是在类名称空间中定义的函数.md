   

### 7.5.2　类方法是在类名称空间中定义的函数

现在我们看看在Python中如何实现类方法。继续使用类list作为运行示例。假如我们希望对如下列表排序：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08754.jpeg)

在第2章，我们学会了实现该功能的方法：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08755.jpeg)

现在我们知道，函数sort()实际上是定义在名称空间list中的一个函数。事实上，当Python解释器执行语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08756.jpeg)

首先将该语句翻译成：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08757.jpeg)

尝试执行两条语句，你会发现结果完全相同！

当在列表对象lst上调用方法sort()时，实际上发生的事情是在列表对象lst上调用在list名称空间中定义的函数sort()。更一般地说，Python把通过类的实例的方法调用，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08758.jpeg)

自动映射到使用实例作为第一个参数的类名称空间中定义的函数的调用：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08759.jpeg)

其中class是instance的类型。这条语句是实际上调用的语句。

让我们使用若干其他的例子进一步说明。在列表lst上的方法调用lst.append(9)被Python解释器翻译成函数调用list.append(lst,9)。字典d的方法调用d.keys()被翻译成dict.keys(d)。

从上述例子可以看出，每个类方法的实现必须包括一个额外的输入参数，对应于调用方法的对象实例。