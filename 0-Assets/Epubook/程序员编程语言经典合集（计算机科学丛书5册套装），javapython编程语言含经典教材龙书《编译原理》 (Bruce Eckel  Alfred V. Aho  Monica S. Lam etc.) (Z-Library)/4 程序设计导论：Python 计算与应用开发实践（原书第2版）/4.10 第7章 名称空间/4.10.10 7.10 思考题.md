   

## 7.10　思考题

7.16　思考题6.27中的函数index()的第一个输入参数应该为一个文本文件名。如果解释器找不到该文件或者无法读取该文件，将引发一个异常。重新实现函数index()，使得结果输出如下信息：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08775.jpeg)

7.17　在思考题6.35中，要求读者开发一个应用程序，请求用户求解加法运算问题。要求用户使用数字0到9输入答案。

重新实现函数game()以处理用户输入非数字的情况，并输出友好的提示信息，例如：“请使用数字0到9输入答案。请重试一次！”，为用户提供重新输入答案的机会。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08776.jpeg)

7.18　在案例研究CS.6中开发的二十一点扑克牌游戏应用程序包含dealCard()函数，用于从一副牌的顶部弹出一张扑克牌并发给游戏参与者。一副牌采用扑克牌列表的形式实现，从一副扑克牌弹出顶部的扑克牌对应于列表的pop操作。如果函数在一副空的扑克牌上调用，即尝试弹出一个空的列表，将会引发IndexError错误。

修改二十一点扑克牌游戏应用程序，处理当试图从一副空的扑克牌发牌时引发的异常。要求异常处理程序创建一副新的洗好的牌，并从新牌的顶部发一张牌。

7.19　实现函数inValues()，请求用户输入若干非零浮点数。当用户输入的值不是数值时，重新给用户提供一次输入机会。如果连续发生两次错误，则退出程序。当用户输入0时，要求函数返回用户输入的所有正确值的和。使用异常处理程序检测非法输入。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08777.jpeg)

7.20　在思考题7.19中，仅当用户连续输入两次错误时程序才退出。实现该程序的另一个版本，当用户两次输入错误时（即使前一次输入正确），也退出程序。

7.21　当在命令行执行input()函数时，如果按【Ctrl+C】键，将引发一个KeyboardInterrupt异常。例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08778.jpeg)

创建一个封装函数safe_input()，其功能与函数input()类似，不同之处是当引发异常时什么也不返回。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08779.jpeg)