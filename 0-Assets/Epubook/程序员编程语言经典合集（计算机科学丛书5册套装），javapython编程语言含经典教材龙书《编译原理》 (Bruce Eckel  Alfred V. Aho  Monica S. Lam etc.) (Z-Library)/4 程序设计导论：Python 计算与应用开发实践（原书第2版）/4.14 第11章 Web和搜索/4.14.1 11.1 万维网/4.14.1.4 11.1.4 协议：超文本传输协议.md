   

### 11.1.4　协议：超文本传输协议

Web服务器是一种计算机程序，它根据请求来提供Web资源服务。Web客户端是发送这些请求的计算机程序（例如，你的浏览器）。客户端首先打开到服务器的网络连接（与打开文件和/或写入文件一样），然后通过网络连接向服务器发送请求消息（相当于写入文件）。如果请求的内容托管在服务器上，客户端最终将通过网络连接从服务器接收一个包含所请求的内容的响应消息（相当于从文件中读取）。

一旦建立网络连接，客户端和服务器之间的通信调度以及请求和响应消息的精确格式由超文本传输协议（HyperText Transfer Protocol，HTTP）指定。

例如，假设使用Web浏览器通过下列URL下载W3C任务声明文档：

[http://www.w3.org/Consortium/mission.html](http://www.w3.org/Consortium/mission.html)  

浏览器向主机www.w3.org发送的消息将从以下行开始：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09230.jpeg)

请求消息的第一行称为请求行。请求行必须以一个HTTP方法开始。方法GET是一种HTTP方法，它是资源请求的通常方式。接下来是嵌入在资源URL中的路径，该路径指定请求的资源的标识和相对于Web服务器的根目录的位置。请求行最后是HTTP协议的版本信息。

请求消息在请求行之后可以包含额外的行，被称为请求头字段。例如，这些头字段在刚才显示的请求行之后：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09231.jpeg)

请求头字段为客户提供了向服务器发送更多有关请求的信息的方法，包括浏览器接受的字符编码和语言（例如英语）、缓存信息，等等。

当Web服务器接收到该请求时，它使用请求行中出现的路径查找请求的文档。如果成功，则创建包含所请求资源的应答消息。

应答消息的前几行类似于：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09232.jpeg)

此消息的第一行称为响应行，表示请求成功。如果不成功，将出现错误消息。其余的行，称为响应头字段，向客户端提供额外的信息，例如服务器服务响应请求的准确时间、所请求的资源上次修改的时间、服务器程序的“品牌”、请求资源的字符编码等。

请求头字段之后是请求的资源，在我们的示例中是一个HTML文档（描述W3联盟的任务声明）。如果收到这个响应的客户端是一个Web浏览器，它将使用HTML代码来计算文档的布局，并在浏览器中显示格式化的交互式文档。