   

## 11.8　思考题

11.15　在这本书中，我们已经看到从字符串中删除标点符号的三种方式：使用第4章的字符串方法replace()和字符串的方法translate()，以及使用本章的正则表达式。请使用10.3节的实验运行时间分析框架比较它们的运行时间。

11.16　HTML支持编号列表和项目列表。编号列表是使用元素ol来定义的，列表中的每一项都是用元素li定义的。项目列表是使用元素ul定义的，列表中的每一项都是使用元素li定义的。例如，在文件w3c.html中，项目列表使用下列HTML代码描述：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09293.jpeg)

开发类ListCollector，作为HTMLParser的一个子类，当传递一个HTML文件时，为HTML文档中的每一个编号列表或者项目列表创建一个Python列表。Python列表中的每一项都应该是出现在相应HTML列表中的一个项目中的文本数据。可以假设HTML文档中每个列表的每个项目只包含文本数据（即没有其他HTML元素）。类ListCollector应该支持方法getlists()，不带任何输入参数，返回一个包含所有创建的Python列表的列表。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09294.jpeg)

11.17　你希望创建一个独特的恐怖词典，但很难回想出应该收录到字典中的成千上万的单词。一个绝妙的想法是实现一个函数scary()，读取一本恐怖小说（例如，玛丽·沃斯通克拉夫特·雪莱（Mary Wollstonecraft Shelley）的《科学怪人》）的电子版，使用正则表达式抓取其中所有的单词，按词典顺序把这些单词写入一个名为dictionary.txt的新文件中，同时输出这些单词。你的函数应该带一个输入参数：文件名（例如frankenstein.txt）。dictionary.txt的前几行内容应该如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09295.jpeg)

11.18　编写函数getContent()，带一个URL（字符串）作为输入参数，仅输出与网页关联的文本数据内容（即不输出标记符号）。避免输出跟在一个空行后面的空行，并删除每个输出行中的多余空格。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09296.jpeg)

11.19　编写函数emails()，带一个文档（字符串）作为输入参数，返回其中出现的所有电子邮件地址。要求使用正则表达式在文档中查找电子邮件地址。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09297.jpeg)

11.20　开发一个应用程序，实现我们在1.4节中开发的Web搜索算法。你的应用程序应该带两个输入参数：一个网页地址的列表以及一个相同大小的目标价格的列表，要求程序输出对应产品价格小于目标价格的网页地址。使用习题11.11的解决方案在HTML源文件中找到价格。

11.21　模块urllib.request中另一个有用的函数是urlretrieve()。它带两个输入参数：一个URL地址以及一个文件名filename（都作为字符串），要求将URL标识的资源的内容复制到名为filename的文件中。使用此功能开发一个程序，从一个Web站点复制所有的Web页面（从主页开始）到计算机上的本地文件夹中。