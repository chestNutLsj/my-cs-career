   

### 11.2.4　模块urllib.parse

我们刚刚开发的LinkParser输出每个锚点的href属性的URL值。例如，当我们使用“W3C任务”网页运行下列代码时：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09261.jpeg)

我们获得包含相对HTTP URL的输出结果，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09262.jpeg)

绝对HTTP URL输出结果，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09263.jpeg)

还有非HTTP URL输出结果，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09264.jpeg)

（我们省略了大多数输出行。）

如果我们只对与HTTP超链接相对应的URL（即协议是HTTP协议的URL）感兴趣呢？请注意，我们不能说“收集以字符串HTTP开头的URL”，因为我们会遗漏相对URL（例如，/Consortium/contact.html）。我们要做的就是从一个相对URL（例如，/Consortium/contact.html）和包含它的网页（[http://www.w3.org/Consortium/mission.html](http://www.w3.org/Consortium/mission.html)）构造一个绝对URL。

Python标准库模块urllib.parse提供了若干处理URL的方法，其中包含正好符合上述要求的方法urljoin()，其示例用法如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09265.jpeg)