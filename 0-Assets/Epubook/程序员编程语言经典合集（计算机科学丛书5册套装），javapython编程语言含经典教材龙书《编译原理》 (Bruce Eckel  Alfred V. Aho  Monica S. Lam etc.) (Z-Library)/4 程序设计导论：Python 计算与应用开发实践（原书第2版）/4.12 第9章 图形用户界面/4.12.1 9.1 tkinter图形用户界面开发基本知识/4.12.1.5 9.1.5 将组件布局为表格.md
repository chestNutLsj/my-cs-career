   

### 9.1.5　将组件布局为表格

接下来讨论图中包括若干标签的GUI。如何开发如图9-5所示的电话拨号盘GUI？

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09000.jpeg)

图9-5　电话拨号盘GUI。这个GUI的标签保存在一个4×3网格中。相对于方法pack()，方法grid()更适合于把组件放置在网格上。行从上到下索引，列从左到右索引，索引均从0开始

我们已经知道如何使用Label组件来创建每个单独的电话拨号“按钮”。但尚不清楚如何把12个“按钮”排列在一个网格中。

如果我们需要将几个组件布局为一个网状风格，方法grid()比方法pack()更合适。使用方法grid()时，父组件被分为行和列，所得到的网格的每个单元格可以存储一个组件。要把一个组件放置到第r行第c列，可以调用方法grid()，使用行r和列c作为输入参数，如下列电话拨号盘GUI的实现所示：

模块：phone.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09001.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09002.jpeg)

在第5行到第8行中，我们定义了一个二维列表，存储将放置在电话拨号盘的r行c列的标签的文本。这样做有助于在第10行到第19行中嵌套for循环以创建并放置标签。注意使用方法grid()时，将行和列作为输入参数。

表9-3显示了grid()方法的一些选项。

表9-3　grid()方法选项。columnspan选项用于把组件跨多个列放置，rowspan选项用于把组件跨多个行放置。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09003.jpeg)

注意事项：混合使用pack()和grid()

方法pack()和grid()使用不同的方法来计算组件的布局。这两种方法不能很好地结合在一起，每个方法都会尝试以自己的方式优化布局，并试图取消其他算法的选择。结果是程序可能永远无法完成执行。

因此结论就是：对于位于同一个父组件中的所有组件，我们必须只能选择使用其中一种布局方式，不能使用混合布局方法。

练习题9.2　实现函数cal()，带两个输入参数：年和月（1到2之间的一个数）。启动一个GUI，显示对应的日历。例如，图示日历通过执行命令获得：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09004.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09005.jpeg)

要实现该功能，用户需要计算：（1）指定月份的第一天对应的星期（星期一、星期二、…）。（2）指定月份的天数（考虑闰年）。模块calendar中定义的函数monthrange()恰好返回这两个值：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09006.jpeg)

返回值是一个元组。元组的第一个值是2，对应于星期三（Wednesday）（星期一是0，星期二是1，以此类推）。元组的第二个值是29，这是2012年2月份的天数（闰年）。

知识拓展：你想了解更多吗？

本章只是使用tkinter进行GUI开发的入门介绍。关于GUI开发和tkinter GUI的全面介绍需要整本教材的篇幅。如果你想了解更多内容，请从Python文档开始，文档网址为：

[http://docs.python.org/py3k/library/tkinter.html](http://docs.python.org/py3k/library/tkinter.html)  

两个特别有用的资源（尽管它们使用Python 2）的网址为：

[http://www.pythonware.com/library/tkinter/introduction/](http://www.pythonware.com/library/tkinter/introduction/)  

[http://infohost.nmt.edu/tcc/help/pubs/tkinter/](http://infohost.nmt.edu/tcc/help/pubs/tkinter/)