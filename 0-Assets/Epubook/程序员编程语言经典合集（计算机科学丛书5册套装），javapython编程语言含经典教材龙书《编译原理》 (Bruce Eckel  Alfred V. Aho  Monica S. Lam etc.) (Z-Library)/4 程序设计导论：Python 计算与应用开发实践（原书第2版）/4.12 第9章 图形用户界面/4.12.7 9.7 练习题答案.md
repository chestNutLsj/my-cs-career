   

## 9.7　练习题答案

9.1　可以使用width和height选项来指定文本标签的宽度和高度（注意，宽度20指标签内部可以容纳20个字符）。为了在peace符号组件周围填充空白，调用pack()时使用了选项expand=True和fill=BOTH。

模块：peaceandlove.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09059.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09060.jpeg)

9.2　使用迭代使得创建所有标签的过程可控。第一行的“一周的星期”可以通过如下最佳方法来实现：创建一个星期列表，迭代该列表，每次迭代创建一个标签组件并放置到行0的对应列。相关代码如下所示。

模块：ch9.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09061.jpeg)

迭代也用于创建和放置数值标签。变量week和weekday分别表示行和列。

模块：ch9.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09062.jpeg)

9.3　应该创建两个按钮而不是一个按钮。下列代码片段显示了对应各个按钮的独立的事件处理函数。

模块：twotimes.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09063.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09064.jpeg)

9.4　我们仅仅描述在程序day.py上的改变部分。按钮“Enter”的事件处理函数compute()应该修改为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09065.jpeg)

按钮“Clear”的事件处理函数应该为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09066.jpeg)

最后，各按钮的定义方式如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09067.jpeg)

9.5　我们应该绑定【回车】键到一个事件处理函数，函数带一个输入参数：一个Event对象。该函数的功能是调用处理函数compute()。因此我们仅仅需要在day.py中添加如下代码：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09068.jpeg)

9.6　问题的关键是把canvas.create_line(x,y,newX,newY)返回的项存储在某个容器中（例如，列表curve）。每次开始绘图时，列表应该初始化为空：

模块：draw.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09069.jpeg)

当我们移动鼠标时，需要把Canvas方法creat_line()创建的线段的ID附加到列表curve。这体现在事件处理函数draw()的重新实现中，如下所示。

模块：draw2.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09070.jpeg)

<Control-Button-1>事件类型的事件处理函数delete()应该迭代curve中的每个线段ID，并调用canvas.delete()删除。

9.7　其实现类似于函数up()：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09071.jpeg)

9.8　因为事件处理函数没有使用Text组件，因此不需要把它赋值给一个实例变量。

模块：ch9.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09072.jpeg)

9.9　只有Canvas组件被处理按钮单击的函数move()所引用，因此它是唯一需要赋值给一个实例变量（self.canvas）的组件。画笔的坐标（即状态）也必须存储在实例变量self.x和self.y中。答案在模块ch9.py中。下面是构造函数代码片段，创建按钮“up”及其事件处理函数，其他按钮类似。

模块：ch9.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09073.jpeg)