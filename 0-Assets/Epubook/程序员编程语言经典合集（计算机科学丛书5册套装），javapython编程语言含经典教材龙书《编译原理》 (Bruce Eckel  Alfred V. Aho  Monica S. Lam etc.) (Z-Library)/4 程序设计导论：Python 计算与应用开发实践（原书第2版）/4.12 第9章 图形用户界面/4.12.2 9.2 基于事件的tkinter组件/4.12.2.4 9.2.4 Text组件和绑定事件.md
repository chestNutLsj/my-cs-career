   

### 9.2.4　Text组件和绑定事件

接下来我们介绍Text组件。Text组件用于交互式输入多行文本，这和在一个文本编辑器中输入文本类似。Text组件类同样支持类Entry支持的方法get()、insert()和delete()，但格式不尽相同（参见表9-5）。

表9-5　一些Text方法。与Entry方法中使用的索引不同，Text方法中的索引的格式为row.column（例如，索引2.3表示第3行的第4个字符）。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09024.jpeg)

我们使用一个Text组件来开发一个外观类似文本编辑器的应用程序，但“私底下”记录和输出用户在Text组件中键入的任何按键。例如，假如用户键入如图9-10所示的句子。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09025.jpeg)

图9-10　按键记录器应用程序。记录按键的GUI包括一个Text组件。当用户在文本框中输入文本，所有的按键都会被记录并在命令行中输出

则命令行中会输出下列内容：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09026.jpeg)

（我们省略了剩余的字符。）这种程序通常被称为按键记录器（keyLogger）。

接下来我们开发这个应用程序。为了创建大小足够容纳5行20个字符的Text组件，我们使用width和height组件构造函数选项：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09027.jpeg)

为了记录用户在Text组件键入的每一个按键，我们需要把按键关联到一个事件处理函数。我们可以使用bind()方法来实现，其目的是“绑定”（或关联）一个事件类型到一个事件处理函数。例如，

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image09028.jpeg)

上述语句把按键（使用字符串'<KeyPress>'描述的事件类型）绑定到事件处理函数record()。

为了实现按键记录器程序，我们需要了解有关事件模式和tkinter Event类的相关知识。