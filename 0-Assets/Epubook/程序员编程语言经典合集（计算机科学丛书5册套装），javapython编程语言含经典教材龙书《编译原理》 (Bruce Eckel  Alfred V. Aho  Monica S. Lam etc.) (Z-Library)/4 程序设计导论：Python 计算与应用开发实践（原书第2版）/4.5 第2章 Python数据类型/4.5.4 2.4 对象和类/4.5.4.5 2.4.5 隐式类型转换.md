   

### 2.4.5　隐式类型转换

如果一个代数表达式或逻辑表达式中包含不同类型的操作数，则Python会把每个操作数转换为另一个包含其他类型的类型。例如，在整型加法运算之前，True会转换为1，执行结果为一个整数：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07988.jpeg)

这种看起来奇怪的行为的原因在于，布尔类型实际上是整型类型的“子类型”，如图2-5所示。布尔值True和False，在大多数场合下，一般分别相当于值1和0。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07989.jpeg)

图2-5　数值类型转换。在不同类型操作数的算术表达式中，值会转换为包含其他类型的类型。数值类型包含关系如图2-5所示。注意，从整型到浮点型的转换可能会导致溢出

因为整数可以用小数点记法来表示（3就是3.0），但反过来则不可以（2.63不能表示为一个整数），故int类型包含在float类型之中，如图2-5所示。考虑一个例子，表达式3+0.35中，一个int值和一个float值相加。因为float类型包含int类型，因此3被转换为3.0，然后执行两个浮点数值的加法运算：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07990.jpeg)

注意事项：从int转换为float

回顾前文，int对象的值的范围远远大于float对象。虽然int类型包含在float类型之中，这并不意味着int都可以转换为float值。例如，2**10000+3的计算结果对于int值没有任何问题，但转换为float时会导致溢出：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image07991.jpeg)