   

## 8.6　用户自定义异常

我们在8.4节开发的类Queue的实现存在一个问题。当试图从一个空的队列出队时会发生什么情况？让我们来验证。首先创建一个空的队列：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08931.jpeg)

接着，我们尝试出队：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08932.jpeg)

引发了一个IndexError异常，因为我们尝试从一个空列表self.q的索引0移除一个项。这有什么问题吗？

这个问题也不例外：就像弹出一个空列表，当我们试图从一个空队列出队一个项时，没有其他合理操作。这种问题就是一种异常。一个IndexError异常和相关的消息'pop from empty list'对于使用Queue类的开发人员没有帮助，因为他/她有可能不知道Queue容器使用了一个list实例变量。

对开发人员更有用的可能是一个名为EmptyQueueError的异常，其输出信息为'dequeue from empty queue'。总而言之，定义自己的异常类型而不是依赖于通用的内置的异常类（例如IndexError）常常是一个不错的主意。例如，一个用户自定义类可以用于定制处理和报告错误。

为了获取更多有用的错误信息，应该了解如下两件事情：

1.如何定义一个新的异常类

2.在程序中如何抛出一个异常

接下来将首先讨论第二点。