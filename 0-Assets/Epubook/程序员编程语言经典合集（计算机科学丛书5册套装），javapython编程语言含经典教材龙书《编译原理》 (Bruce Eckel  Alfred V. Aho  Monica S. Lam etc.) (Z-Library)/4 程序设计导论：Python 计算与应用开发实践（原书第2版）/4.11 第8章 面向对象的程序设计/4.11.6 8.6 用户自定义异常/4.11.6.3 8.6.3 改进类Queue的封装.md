   

### 8.6.3　改进类Queue的封装

本节一开始时我们就指出，从一个空的队列中出队将引发异常，并输出与队列无关的错误信息。我们现在定义一个新的异常类EmptyQueueError，并重新实现方法dequeue()，当在一个空的队列上调用方法dequeue()，将引发一个异常。

我们选择实现新的异常类，而没有添加任何方法：

模块：ch8.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08939.jpeg)

类Queue的新的实现如下所示，包括方法dequeue的一个新的版本，其他Queue方法保持不变。

模块：ch8.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08940.jpeg)

有了这个新的Queue类，当试图从一个空的队列中出队时，可以获得更多有意义的错误信息：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08941.jpeg)

我们有效地隐藏了类Queue的实现细节。