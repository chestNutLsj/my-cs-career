   

### 8.5.1　继承类的属性

假设在开发应用程序的过程中，我们发现如果有一个类的使用完全类似于内置的类list，且支持一种称为choice()的方法，可以随机从列表中选择并返回一个项将大大方便我们的使用。

更准确地说，这个类（我们称之为MyList）将以同样的方式支持类list同样的方法。例如，我们可以创建一个MyList容器对象：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08895.jpeg)

我们还可以使用list的append()方法添加项，使用重载运算符len()计算项目个数，使用列表方法count()统计一个项出现的次数：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08896.jpeg)

除了支持类list支持的相同方法之外，类MyList还支持方法choice()，从列表中返回一个项，列表中的每个项被选中的概率相同：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08897.jpeg)

实现类MyList的一种方法是我们开发类Deck和Queue的方法。使用一个实例变量self.lst来存储MyList的项：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08898.jpeg)

使用这种方法开发类MyList要求我们编写30个以上的方法。这需要花费时间，而且很乏味。有没有更好的方法呢？本质上，类MyList是类list的一种“扩展”，增加了一个额外的方法choice()。结果表明我们可以采用如下方式来实现：

模块：ch8.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08899.jpeg)

上例类的定义指明类MyList是类list的子类，因此支持类list支持的所有方法。这在第一行中说明

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08900.jpeg)

类list和MyList之间的层次结构如图8-7所示。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08901.jpeg)

图8-7　类list和MyList的层次结构。其中列举了类list的一些属性，分别指向相应的函数。类MyList是类list的子类，继承类list的所有属性。类MyList还定义了一个额外的属性：方法choice()。mylst指向的对象继承了其类MyList的所有属性，其中包括类list的属性

图8-7显示了在解释器命令行（即在__main__名称空间）中创建的一个称为mylst的MyList容器对象：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08902.jpeg)

对象mylst显示为类MyList的一个“孩子”。图中层次结构说明对象mylst继承类MyList的所有属性。在8.1节，我们了解到对象继承其类的属性。

图8-7同时显示MyList是类list的一个“孩子”。图中层次结构表明MyList继承类list的所有属性。读者可以使用内置函数dir()来验证：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08903.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08904.jpeg)

这意味着对象mylst将从类MyList中继承方法choice()，同时还会继承list的所有属性。同样可以验证如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08905.jpeg)

类MyList被称为类list的一个子类。类list是类MyList的父类。