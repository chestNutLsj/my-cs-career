   

### 8.2.1　构造函数重载

让我们重新审视上一节开发的类Point。要创建一个位于(x,y)坐标为(3,4)的点的Point对象，我们需要分别执行如下三条语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08819.jpeg)

第一条语句创建Point的一个实例，剩余的两行代码初始化其x和y坐标。在某个位置创建一个Point对象需要好几个步骤。如果可以把实例化和初始化合并成一个步骤，则代码会更简洁优美：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08820.jpeg)

我们已经见过允许创建对象的同时初始化其值的类型。整型可以在创建的同时初始化：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08821.jpeg)

同样，内置fractions模块中的Fraction类型的对象也是如此：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08822.jpeg)

带输入参数的构造函数非常有用，因为它们可以在对象实例化时初始化对象的状态。

为了能够使用一个带输入参数的Point()构造函数，必须在类Point的实现中显式添加名为__init__()的方法。当添加该特殊方法到类中后，每当创建对象时，Python解释器就会自动调用它。换句话说，当Python执行：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08823.jpeg)

解释器将首先创建一个“空”的Point对象，然后执行：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08824.jpeg)

其中，self指向新创建的Point对象。注意，既然__init__()是带两个输入参数的类Point的方法，因此定义函数__init__()时，也必须带两个输入参数，外加必需的参数self：

模块：ch8.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08825.jpeg)

注意事项：每次创建一个对象时都会调用函数__init__()

因为每次实例化一个对象时都会调用__init__()方法，所以调用Point()构造函数时必须带两个参数。这意味着不带参数调用构造函数将导致错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08826.jpeg)

也可以重写__init__()函数，使得其可以处理两个参数、一个参数，或不带参数。请读者继续阅读下文。