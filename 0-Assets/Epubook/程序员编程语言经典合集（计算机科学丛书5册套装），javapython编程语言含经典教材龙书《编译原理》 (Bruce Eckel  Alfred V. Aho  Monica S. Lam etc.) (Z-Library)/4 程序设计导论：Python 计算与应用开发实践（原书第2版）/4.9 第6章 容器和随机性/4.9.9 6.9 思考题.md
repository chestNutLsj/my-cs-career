   

## 6.9　思考题

6.20　编写函数reverse()，带一个电话簿（即一个把姓名（键）映射到电话号码（值）的字典）作为输入参数。要求函数返回另一个字典，表示映射电话号码（键）到姓名（值）的反向电话簿。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08641.jpeg)

6.21　编写函数ticker()，带一个字符串（文件名）作为输入参数。该文件将包含公司名称和股票符号（股票代码）。在这个文件中，一个公司名称将占用一行，其股票代码将在下一行。接下来一行是另一个公司名称，以此类推。要求程序读取文件并将名称和股票代码存储在字典中。然后，它将为用户提供一个接口，以便用户可以获得给定公司的股票代码。使用提供的文件nasdaq.txt中的纳斯达克100股票代码列表来测试你的代码。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08642.jpeg)

6.22　字符串vow的镜像字符串是wov，字符串wood的镜像字符串是boow。但是，字符串bed的镜像不能表示为字符串，因为e的镜像不是一个有效的字符。

开发函数mirror()，带一个字符串作为输入参数，如果其镜像可以表示为字母表中的字母，则返回其镜像字符串。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08643.jpeg)

6.23　你想制作一本独特的恐怖字典，但想找到成千上万的应该收入到该字典的单词并不是件很容易的事情。一个聪明的想法是编写一个函数scarydict()，读入一本恐怖小说的电子版（例如，Mary Wollstonecraft Shelley（玛丽·沃斯通克拉夫特·雪莱）的Frankenstein（《科学怪人》）），抽取其中的所有单词并把它们按字母顺序排列写入到一个新的文件dictionary.txt，并输出这些单词。可以去掉一个和两个字母的单词，因为这些单词不是恐怖单词。

你会注意到文本中的标点符号使这个练习稍微复杂了一些。可以用空格或空字符串替换标点符号来处理它。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08644.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08645.jpeg)

6.24　实现函数names()，不带任何输入参数，重复要求用户输入一个班级的学生姓名。当用户输入空字符串时，函数输出每个姓名及该姓名的学生数量。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08646.jpeg)

6.25　编写函数different()，带一个二维表作为输入参数，返回表中不同项的数量。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08647.jpeg)

6.26　编写函数week()，不带任何输入参数。函数重复请求用户输入星期的缩写（Mo、Tu、We、Th、Fr、Sa或Su），然后输出对应的星期名称。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08648.jpeg)

6.27　在本书和其他教科书的结尾，通常有一个索引，列出某个词出现的页面。在本题中，要求为文本创建索引，但不使用页码，而是使用行号。

请实现函数index()，带两个输入参数：一个文本文件的文件名和一个单词列表。对于列表中的每个单词，函数将在文本文件中找到单词出现的行，并打印相应的行号（编号从1开始）。要求只打开和读取文件一次。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08649.jpeg)

6.28　实现函数translate()，提供基本的翻译服务。函数的输入参数是一个把一种语言（第一种语言）中的单词映射到另一种语言（第二种语言）中的对应词的字典。该函数提供了一种服务，允许用户交互地输入第一语言中的一个短语，然后通过按【回车键】获取到第二语言中的翻译。在字典里不存在的词翻译成____。

6.29　在班级中，许多学生是朋友。让我们假设两个学生共有一个朋友，则他们俩也是朋友。换句话说，如果学生0和学生1是朋友，学生1和学生2是朋友，那么学生0和学生2必须是朋友。利用这条规则，我们可以把学生分成朋友圈子。

要完成该工作，实现函数networks()，带两个输入参数。第一个参数是班上学生的总人数n。我们假设学生使用整数0到n–1来标识。第二个输入参数是定义朋友的元组对象列表。例如，元组(0,2)将学生0和学生2定义为朋友。要求函数networks()输出学生的朋友圈，如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08650.jpeg)

6.30　实现函数simul()，带一个整数n作为输入参数。模拟玩家1和玩家2之间的n轮石头、剪刀、布游戏。赢得次数最多的玩家赢得这n轮游戏也有可能平局。要求函数输出如下所示的游戏结果。（可以使用思考题5.26的解决方案）。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08651.jpeg)

6.31　双骰儿赌博是在许多赌场玩的掷骰子游戏。像二十一点扑克牌游戏一样，玩家和赌场比输赢。游戏开始时，玩家投掷一对标准的6面骰子。如果玩家总共掷出7点或11点，则玩家获胜。如果玩家总共掷出2点、3点或者12点，则玩家输。如果是其他点数，则玩家将重复掷一对骰子，直到她再次掷出开始的点数（在这种情况下她赢）或7（在这种情况下，她输）。

（a）实现函数craps()，不带任何输入参数，模拟双骰儿赌博游戏，如果玩家赢，则输出1；如果玩家输，则输出0。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08652.jpeg)

（b）实现函数testCraps()，带一个正整数n作为输入参数。模拟n次双骰儿赌博游戏，返回玩家胜出的比率。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08653.jpeg)

6.32　你可能知道曼哈顿的大街小巷构成一个网格。通过网格（即曼哈顿）的随机漫步是指在每个交叉点以相等的概率选择随机方向（N、E、S或W）的行走。例如，在5×11的网格上，从(5,2)开始的随机行走可以访问网格点(6,2)、(7,2)、(9,2)、(8,2)和(10,2)，返回到(9,2)，然后在离开网格之前返回到(10,2)。

编写函数manhattan()，带两个输入参数：网格的行数和列数，模拟从网格中心出发的一次随机游走，计算随机漫步访问每个交叉点的次数。当随机游走超出网格外，则函数逐行输出结果。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08654.jpeg)

6.33　编写函数diceprob()，带一个输入参数：投掷一对骰子的可能结果r（即2到12范围内的一个整数）。模拟投掷一对骰子，直到获得100次结果r。要求函数输出获得100次结果r的投掷次数。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08655.jpeg)

6.34　两人纸牌游戏War（战争）使用52张牌的标准套牌。一副洗好的牌均匀分配给两个玩家，各自的牌面朝下。该游戏包括一系列的比斗，直到一个玩家用完纸牌为止。在一次比斗中，每个玩家展示其最上面的纸牌，牌大的玩家将拿走赢得的两张牌，并把它们正面朝下放到她的牌堆底部。如果两张牌值相同，就会发生一场战争。

在一场战争中，每一个玩家都会面朝下放置其牌堆最上面的三张牌，并选择其中一张牌。所选牌大的玩家将所有八张牌加到她的牌堆底部。如果是另一个平局，则重复战争，直到一个玩家赢了，将牌桌上的所有牌纳为己有。在一场战争中，如果有一个玩家在放置三张牌之前就用完了所有的牌，他就可以用他的最后一张牌来赢得这场战争。

在战争中，纸牌的大小值是它的等级，纸牌A、K、Q和J的值分别为14、13、12和11。

（a）编写一个函数war()，模拟一次战争游戏，并返回一个元组，该元组包含游戏中比斗的次数、战争次数、两轮战争的次数。注意：在玩家的纸牌下添加纸牌时，一定要先洗牌，以增加模拟的随机性。

（b）编写一个函数warStats()，带一个正整数n作为输入参数。模拟n次战争游戏，计算平均比斗次数、战争次数、两轮战争的次数。

6.35　开发一个简单的游戏，教幼儿园孩子学习个位数加法运算。函数game()带一个整数n作为输入参数。然后提问n个个位数加法问题。要求参与加法运算的数字从范围[0,9]（即0到9，包含0和9）随机选择。当问题提出后，用户将输入答案。如果答案正确，则函数输出“Correct”，答案错误则输出“Incorrect”。完成n次提问后，要求函数输出答案正确的次数。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08656.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08657.jpeg)

6.36　恺撒密码是一种加密技术，在该技术中，消息中的每一个字母都由字母表上向后偏移固定数值位置的字母代替。这个“固定数”被称为密钥，它的值从1到25。例如，如果密钥为4，则A字母将由E、B由F、C由G替换，以此类推。字母表尾部的字符W、X、Y和Z将被A、B、C和D替换。

编写函数caesar()，带两个参数：一个1到25范围之间的密钥和一个文本文件的文件名（字符串）。要求函数使用输入密钥把文件内容通过恺撒密码加密算法进行加密，并把加密后的内容写入到一个新的文件cipher.txt中，同时返回加密内容。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08658.jpeg)

6.37　乔治·金斯利·齐夫（George Kingsley Zipf）（1902–1950）观察到一篇文章中第k个最常见单词的频率约正比于1/k。这意味着存在一个常量值C，对于文章中的大多数的单词w，下列关系式成立：

如果w是第k个最常见的单词，则freq(w)·k≈C

这里，freq(w)是指单词w的频率，即单词w在文章中出现的次数除以文章中单词的总数。

实现函数zipf()，带一个文件名作为输入参数。通过输出文件中10个最高频单词w的freq(w)·k值，来验证齐夫观察结果的正确性。处理文件时请忽略大小写和标点符号。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08659.jpeg)