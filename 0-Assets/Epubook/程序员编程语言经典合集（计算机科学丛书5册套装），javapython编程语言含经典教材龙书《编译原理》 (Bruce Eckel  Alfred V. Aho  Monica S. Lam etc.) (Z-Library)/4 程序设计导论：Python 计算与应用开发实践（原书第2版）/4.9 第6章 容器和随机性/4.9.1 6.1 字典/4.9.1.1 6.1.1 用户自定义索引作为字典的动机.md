   

### 6.1.1　用户自定义索引作为字典的动机

假设我们需要为50 000名雇员的公司存储员工记录。理想情况下，我们希望能够使用员工的社会安全号码（SSN）或ID号码来访问每个员工的记录。类似如下方式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08515.jpeg)

在名为employee的容器的索引位置987654321存储着SSN 987-65-4321的员工的名和姓：Yu Tsun。名和姓保存在一个列表中，列表还可以包含其他信息（例如，地址、出生日期、职位，等等）。索引位置864209753和100010010分别存储着['Anna','Karenina']和['Hans','Castorp']。总之，索引位置i中存储着SSN为i的记录（名和姓）。

如果employee是一个列表，则必须是一个非常大的列表。至少要比最大的员工SSN大。由于SSN是9位数，因此employee的大小至少为1 000 000 000。如此巨大，即使系统支持如此巨大的列表，结果也是巨大的浪费：列表的大部分都为空，只使用了50 000个列表位置。列表还存在其他诸多问题：SSN实际上并不是整数值，通常表示为带中划线（例如，987-65-4321），也可能从0开始（例如，012-34-5678）。类似987-65-4321和012-34-5678的值可以更好地表示为字符串：'012-34-5678'和'987-65-4321'。

问题在于列表项是要使用一个表示集合中项的位置的整数索引来访问。然而我们期望如此不同：我们希望使用“用户定义的索引”（如'012-34-5678'或'987-65-4321'）来访问项。如图6-1所示。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08516.jpeg)

图6-1　字典的动机。字典是存储项的容器，可以使用“用户自定义”索引访问

Python包括一个内置的称为dictionary（字典）的容器类型，允许用户使用“用户自定义索引”。按要求可以定义名为employee的字典如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08517.jpeg)

赋值语句分为多行书写是为了强调“索引”'864-20-9753'对应于['Anna','Karenina']，索引'987-65-4321'对应于['Yu','Tsun']，等等。让我们检查一下employee的行为是否符合预期：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08518.jpeg)

字典employee与列表的区别在于：字典中的项使用用户自定义的“索引”（而不是表示项在容器中的位置的索引）来访问。接下来将详细讨论。