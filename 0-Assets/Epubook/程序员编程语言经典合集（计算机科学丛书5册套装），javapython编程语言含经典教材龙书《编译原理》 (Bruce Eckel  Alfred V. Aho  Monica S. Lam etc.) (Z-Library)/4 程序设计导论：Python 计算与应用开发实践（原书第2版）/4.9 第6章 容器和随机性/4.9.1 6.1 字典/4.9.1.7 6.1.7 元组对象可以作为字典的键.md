   

### 6.1.7　元组对象可以作为字典的键

在练习题6.2中，我们定义了把电话号码映射到个人信息（名和姓）的字典：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08563.jpeg)

我们使用这个字典来实现一个电话簿反向查询应用程序：给定一个电话号码，应用程序返回该号码对应的个人信息。假如我们希望构建另一个程序，实现电话簿正向查询：给定一个人的名和姓，应用程序返回个人信息对应的电话号码。

对于正向查询应用程序，类似于rphonebook的应用程序则不合适。我们需要一个从个人信息到电话号码的映射。因此，让我们定义一个新的字典，实际上是rphonebook的反向映射：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08564.jpeg)

哎呀，出错了。问题在于我们试图定义一个键为列表对象的字典。回顾前文，list类型是可变类型，字典键必须是不可变类型。

解决方法是使用内置元组（tuple）类。因为元组对象是不可变类型，所以可以用作字典的键。让我们回到最初的目标：构建一个字典，把个人信息（名和姓）映射到电话号码。现在可以使用tuple对象作为键来代替list对象：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08565.jpeg)

让我们检查索引运算符是否符合预期：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08566.jpeg)

现在，我们就可以实现正向电话簿查询工具了。

练习题6.5　实现函数lookup()：实现正向电话簿查询应用程序。函数带一个表示电话簿的字典作为输入参数。在字典中，包含个人信息（名和姓）的元组（键）映射到包含电话号码的字符串（值）。示例如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08567.jpeg)

函数必须提供一个简单的用户界面，提示用户输入名和姓，返回该个人信息对应的电话号码。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08568.jpeg)