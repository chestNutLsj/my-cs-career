   

### 6.1.4　字典方法

虽然list和dict类共用不少的运算符，但共用的方法却只有一个：pop()。这个方法带一个键，如果该键在字典中存在，则从字典中移除关联的(键,值)对，并返回值：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08536.jpeg)

接下来介绍其他的字典方法。当字典d1使用字典d2作为输入参数调用方法update()时，d2中的所有(键,值)对将添加到d1中，如果存在相同的键，则覆盖d1中的(键,值)对。例如，假设一个字典包含了我们喜欢的日子：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08537.jpeg)

我们可以把这些日子添加到days字典：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08538.jpeg)

(键,值)对“'Fr':'Friday'”被添加到days字典中了。(键,值)对“'Sa':'Saturday'”替换了字典days中原来的“'Sa':'Sat'”。注意，(键,值)对“'Th':'Thursday'”在字典中只能存在一个版本。

几个特别有用的字典方法是：keys()、values()和items()，它们分别返回字典中的键、值和(键，值)对。为了描述这些方法的用法，我们使用如下定义的字典days：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08539.jpeg)

方法keys()返回字典中的键：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08540.jpeg)

方法keys()返回的容器对象并不是列表，让我们检查其类型：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08541.jpeg)

好吧，这是一种我们没有见到的类型。那么，我们是否必须学习关于这种新类型的一切知识呢？此时，并不需要。我们仅仅需要了解其用法即可。那么，方法keys()返回的对象该如何使用呢？其常用于迭代字典中的键，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08542.jpeg)

因此，类dict_keys支持迭代。事实上，当我们迭代一个字典时，例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08543.jpeg)

Python解释器在执行之前，把语句for key in days翻译成语句for key in days.keys()。

表6-2列举了一些字典类支持的常用方法。像往常一样，可以通过查看联机文档或通过在解释器中键入如下命令来了解更多信息：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08544.jpeg)

表6-2　类dict的方法。表中列举了字典类的一些常用方法。d表示一个字典

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08545.jpeg)

表6-2中的字典方法values()和items()同样返回可迭代的对象。方法values()常用于迭代字典中的值：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08546.jpeg)

方法items()返回包含元组（每个(键,值)对作为一个元组）的容器：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08547.jpeg)

这个方法常用于迭代字典的(键,值)对：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08548.jpeg)

知识拓展：视图对象

方法keys()、values()和items()返回的对象被称为视图对象。视图对象分别为字典的键、值和(键,值)对提供动态视图。这就意味着，当字典改变时，视图会跟着改变。

例如，假如我们定义字典days和视图keys如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08549.jpeg)

变量keys指向字典days的键的一个视图。现在让我们删除字典days的一个键（以及关联的值）：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08550.jpeg)

注意视图keys随之改变：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08551.jpeg)

keys()、values()和items()返回的容器对象的类型支持各种类似集合的操作，例如集合的并集和集合的交集。这些操作允许用户合并两个字典的键或者查找两个字典共同的值。我们将在第6.2节讨论内置类型set时再详细讨论这些操作。