   

### 6.4.2　选择一个随机“实数”

有时候，我们在应用程序中需要的不是随机整数，而是从给定的数字间隔中选择随机数。函数uniform()带两个参数：数值a和b，返回一个浮点数x，满足a≤x≤b（假设a≤b）。选中范围中的每个浮点值概率相同。下面是获取若干0到1之间的随机数的方法：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08616.jpeg)

练习题6.10　有一种估值数学常量π的方法：通过在飞镖靶上投掷飞镖。虽然这不是估值π的好方法，但很有趣。假如在墙上有一个2×2的正方形，其中有一个半径为1的飞镖靶。现在随机投掷飞镖，假设在击中正方形的n个飞镖中，有k个击中飞镖靶（见图6-6）。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08617.jpeg)

图6-6　正方形中的飞镖靶

因为随机投掷飞镖，因此k/n大约与飞镖靶面积（π×12）和周围的正方形面积（22）之比相同。换言之，有如下约等式：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08618.jpeg)

重新组织上述约等式，可以用于估值π：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08619.jpeg)

实现函数approxPi()，带一个整数n作为输入参数，模拟n次随机投掷飞镖到一个包含飞镖靶的2×2正方形墙面，统计击中飞镖靶的次数，并根据击中次数和n估值并返回π。注意：为了模拟随机投掷飞镖到正方形墙面，只需要获得击中位置的x和y坐标。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08620.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08621.jpeg)