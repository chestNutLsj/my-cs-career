   

### 4.4.2　内置异常

现在我们重点关注语句或程序执行过程中发生的错误。它们不会因为Python语句或程序的错误而出现，而是因为程序执行进入了错误的状态。下面给出了一些示例。注意，在每种情况下，语法（即Python语句的格式）是正确的。

被0除导致的错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08316.jpeg)

由于错误的索引导致的错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08317.jpeg)

访问未赋值变量导致的错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08318.jpeg)

由于不正确的操作数类型导致的错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08319.jpeg)

由于非法值导致的错误：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08320.jpeg)

在每种情况下，都会出现一个错误，因为语句执行进入无效状态。除以0是无效的，使用给定列表中有效索引范围之外的列表索引也是无效的。当发生这种情况时，我们说Python解释器引发了一个异常。这意味着一个对象被创建了，这个对象包含了所有与错误相关的信息。例如，它将包含错误信息，指出发生了什么，错误发生在程序（模块）的第几行（在前面的示例中，行号总是1，因为在一个交互式命令行语句“程序”中只有一个语句）。当出现错误时，默认情况下是语句或程序崩溃，并输出错误信息。

错误发生时创建的对象称为异常。每个异常都有一个类型（和int或list类似的类型），与错误类型关联。在最后一个例子，我们观察到这些异常类型分别为：Zero-Division-Error、IndexError、NameError、TypeError和ValueError。表4-6描述了这些以及其他一些常见错误。

表4-6　常用异常类型。当程序执行过程中发生了一个错误时，会创建一个异常对象。异常对象的类型与发生的错误类型有关。这里仅仅列举了少数内置异常类型

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08321.jpeg)

让我们再看几个有关异常的例子。当一个浮点表达式的求值结果超出使用浮点类型可以表示的值范围之外时，将抛出OverflowError对象。在第3章中，我们讨论过如下例子：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08322.jpeg)

有趣的是，对整数表达式求值时不会抛出溢出异常：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08323.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08324.jpeg)

（请读者回顾学过的知识，类型int的值本质是没有上限的。）

KeyboardInterrupt异常某种程度上有别于其他异常，这是因为该异常由程序用户交互式地显式引发。在执行程序过程中，通过按快捷键【Ctrl+C】，用户可以中断程序运行。这将导致程序进入一种错误的中断状态。Python解释器抛出的异常是Keyboard-Interrupt类型。一般用户通过按快捷键【Ctrl+C】来中断程序运行（例如，当程序运行时间过长）：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08325.jpeg)

Python语句pass不执行任何（实际）操作！常用于需要代码（例如一个for循环语句的循环体）但不执行任何操作的地方。通过按快捷键【Ctrl+C】，可以中断程序运行，产生KeyboardInterrupt错误信息：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08326.jpeg)

当输入和输出操作失败时，将抛出IOError异常。例如，如果尝试打开一个文件用于读取，但给定文件名的文件并不存在：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08327.jpeg)

当用户尝试打开没有访问权限的文件时，也会抛出IOError异常。