   

### 4.1.2　深入研究索引运算符

在第2章中，我们介绍了索引运算符[]：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08200.jpeg)

索引运算符带一个参数，即索引号i，返回字符串中位于索引i位置的单个字符组成的字符串。

索引运算符还可以用来获取一个字符串的切片（一部分）。例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08201.jpeg)

表达式s[0:2]为字符串s从索引0开始到索引2之前的求值结果（切片）。更一般地，s[i:j]是字符串从索引i开始到索引j-1结束的子字符串。更多的例子如下（也可以参见图4-1）：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08202.jpeg)

最后一个例子说明了如何使用负的索引号获取切片：子字符串从索引-3开始到索引-1之前（即索引-2）结束。如果切片从字符串的第一个字符开始，可以省略第1个索引：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08203.jpeg)

要获取直到字符串最后一个字符结束的切片，可以省略第2个索引：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08204.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08205.jpeg)

图4-1　切片。表达式s[0:2]的求值结果为字符串s从索引0开始到索引2之前结束的切片。表达式s[:2]的求值结果与表达式s[0:2]的求值结果相同。表达式s[3:4]等价于s[3]。表达式s[-3:-1]是字符串s从索引-3开始到索引-1之前的切片

练习题4.1　首先执行赋值语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08206.jpeg)

接着使用字符串s和索引运算符编写表达式，要求求值结果如下：

（a）'234'

（b）'78'

（c）'1234567'

（d）'0123'

（e）'789'

注意事项：列表切片

索引运算符是字符串和列表类共用的运算符之一。索引运算符也可以用于获取一个列表的切片。例如，如果pets定义为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08207.jpeg)

则可以使用索引运算符获取pets的切片：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08208.jpeg)

列表的切片也是一个列表。换言之，带两个参数的索引运算符作用于一个列表时，结果将返回一个列表。注意，这与仅使用一个参数的索引运算符作用于一个列表的情况不同，使用一个参数时，返回的结果是位于索引i位置的列表的项。