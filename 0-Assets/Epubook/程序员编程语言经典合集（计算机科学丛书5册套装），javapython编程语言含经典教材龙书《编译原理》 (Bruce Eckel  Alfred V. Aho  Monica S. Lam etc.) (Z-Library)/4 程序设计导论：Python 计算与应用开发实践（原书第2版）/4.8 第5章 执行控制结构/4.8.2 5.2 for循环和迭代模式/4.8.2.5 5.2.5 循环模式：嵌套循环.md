   

### 5.2.5　循环模式：嵌套循环

假设希望开发一个函数nested()，带一个整数作为输入参数，在屏幕上输出n行数据：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08396.jpeg)

例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08397.jpeg)

如前所述，为了输出其中一行，可以使用如下方法实现：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08398.jpeg)

为了输出n个这样的行（本例是5行），我们要做的就是重复n次（本例为5次）。我们可以使用另一个外部for循环来实现，重复执行内部的for循环：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08399.jpeg)

哎呀，结果并不符合要求。语句print(i,end=' ')强制所有的数值输出在一行之中。我们希望在输出每个序列0 1 2 3 4后换行。换言之，我们需要在每次内循环之后调用不带参数的print()函数。内循环是：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08400.jpeg)

最终的解决方案如下：

模块：ch5.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08401.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08402.jpeg)

注意，外部for循环中使用的变量和内部for循环中使用的变量名称应该不同。

在该程序中，一个循环语句包含在另一个循环语句中。我们把这种循环模式称为嵌套循环模式。嵌套循环模式可以包含两重以上的嵌套循环。

练习题5.7　编写一个函数xmult()，带两个整数列表作为输入参数，输出一个列表，包括所有第一个列表的整数与第二个列表的整数的乘积。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08403.jpeg)

假如我们希望编写另一个函数nested2()，带一个正整数作为输入参数，在屏幕上输出n行：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08404.jpeg)

例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08405.jpeg)

应该怎样修改函数nested()以创建这些输出呢？在nested()中，对于每一个变量j的值，输出完整的行0 1 2 3…n-1。现在我们需要做的是：

当j为0时，输出0。

当j为1时，输出0 1。

当j为2时，输出0 1 2，以此类推。

内循环变量i需要在值0、1、2、…、j的对应的范围range(j+1)上迭代，而不是在range(n)上迭代。由此可以得出解决方案：

模块：ch5.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08406.jpeg)

练习题5.8　把一个包含n个不同数值的列表按升序排列的方法是在列表中执行n-1轮比较操作。每轮比较操作比较列表中所有相邻的数字，如果它们顺序不正确，则交换它们。在第一轮比较操作结束后，最大的项将是列表中的最后一个（位于索引n-1）。因此，第二轮比较操作可以在到达最后一个元素之前停止，因为最后一个元素已经处于正确的位置；第二轮比较操作将把第二大的元素放在倒数第二个位置。一般来说，第i轮比较操作将比较索引0和1、1和2、2和3、…，以及i-1和i的数值对；在第i轮比较操作之后，第i个最大的项目将位于索引n-i。因此，执行n-1轮比较操作后，列表将处于升序状态。

编写一个函数bubbleSort()，带一个数值列表作为输入参数，使用上述方法对列表进行排序。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08407.jpeg)