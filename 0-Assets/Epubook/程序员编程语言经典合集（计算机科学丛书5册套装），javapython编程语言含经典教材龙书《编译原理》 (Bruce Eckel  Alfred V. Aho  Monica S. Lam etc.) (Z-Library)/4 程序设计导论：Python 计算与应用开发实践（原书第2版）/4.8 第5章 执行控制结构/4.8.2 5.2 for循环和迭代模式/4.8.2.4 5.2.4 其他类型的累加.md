   

### 5.2.4　其他类型的累加

下面通过若干其他示例进一步阐述累加器模式。回顾第2章，我们介绍了内置函数sum()，用于计算一个列表中的值之和：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08389.jpeg)

因此，编写一个for循环来计算列表中数值之和其实没有必要。然而，通常没有可用的内置函数。例如，假如我们希望把列表中的所有数值相乘？可以采用类似于上述累加和的方法解决此问题：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08390.jpeg)

究竟哪儿出错了呢？我们将乘法累积器myProd初始化为0。问题是0乘以任何数结果都是0。当myProd乘以numList中的每个值，结果永远返回为0。初始化累加和时，值0是正确的选择，因为0是加法运算符的单位元。乘法运算符的单位元值为1：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08391.jpeg)

练习题5.4　实现函数factorial()，带一个非负整数作为输入参数，返回其阶乘。一个非负整数n的阶乘表示为n!，其定义为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08392.jpeg)

因此，0!=1，3!=6，5!=120。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08393.jpeg)

在累加器模式的前两个示例中，累加器用于数值类型。如果我们累加（拼接）字符到字符串，则累加器应该为字符串。那么，字符串累加器应该初始化为什么值呢？它必须为字符串拼接的单位元（即具有如下属性：当和其他字符拼接时，结果字符串仅仅是该字符）。因此，空字符串''（注意不是空格！）是字符串拼接的单位元。

练习题5.5　缩略词是一个短语中每个单词的第一个字母组成的单词。例如，RAM是random access memory的缩略词。编写一个函数acronym()，带一个短语（即一个字符串）作为输入参数，返回该短语的缩略语。注意，缩略语应该全大写，即使短语中的单词不是大写。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08394.jpeg)

如果把对象累加到列表，则累加器应该是一个列表。那么，列表拼接的单位元是什么？它是空列表[]。

练习题5.6　编写函数divisors()，带一个正整数n作为输入参数，输出包含n的所有正因子的列表。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08395.jpeg)