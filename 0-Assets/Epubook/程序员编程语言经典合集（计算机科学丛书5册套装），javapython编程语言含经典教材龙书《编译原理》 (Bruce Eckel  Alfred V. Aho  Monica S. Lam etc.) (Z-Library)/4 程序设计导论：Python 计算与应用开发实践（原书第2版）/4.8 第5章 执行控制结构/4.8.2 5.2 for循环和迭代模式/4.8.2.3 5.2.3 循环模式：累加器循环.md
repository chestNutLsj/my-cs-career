   

### 5.2.3　循环模式：累加器循环

循环的一种常见模式是在循环的每次迭代中累积“东西”。例如，给定一个数值列表numList，我们希望计算数值的累积和。可以使用for循环实现这个目的。我们首先需要引入一个保存累积和的变量mySum。初始化变量mySum为0，然后可以使用一个for循环语句迭代列表numList中的数值并把它们累加到mySum。例如：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08383.jpeg)

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08384.jpeg)

上述for循环语句的执行过程如图5-3所示。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08385.jpeg)

图5-3　累加器模式。for循环语句迭代列表numList中的数值。每次迭代中，通过赋值语句“mySum=mySum+num”，把当前的数值累加到累加器mySum中

变量mySum的作用是累加器。在此例中，这是一个整数累加器，被初始化为0，因为累加整数，0是加法的单位元（即0不影响累加结果）。每个num值都通过赋值语句累加到累加器：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08386.jpeg)

在赋值运算符=的右侧表达式中，num的值和当前累加器mySum的值累加在一起，然后赋值语句把累加结果重新赋值给累加器mySum。我们称之为mySum递增了num值。该操作非常常见，存在一个简洁书写方法（复合赋值语句）：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08387.jpeg)

让我们使用复合赋值语句重新计算sum：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08388.jpeg)

我们把这种for循环模式称为累加器循环模式。