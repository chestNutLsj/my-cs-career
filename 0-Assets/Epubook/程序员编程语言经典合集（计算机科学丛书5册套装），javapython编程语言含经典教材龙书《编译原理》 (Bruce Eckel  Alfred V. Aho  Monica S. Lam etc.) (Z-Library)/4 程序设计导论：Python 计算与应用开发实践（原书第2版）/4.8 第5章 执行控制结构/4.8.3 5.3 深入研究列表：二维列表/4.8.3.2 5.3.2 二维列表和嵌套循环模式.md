   

### 5.3.2　二维列表和嵌套循环模式

当我们输出二维列表t的值时，输出的结果是一个列表的列表，而不是位于各行的表。通常，输出二维列表的内容也不错，因为它看起来像一个表。下一个方法使用迭代模式在单独的行中打印表的每一行：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08417.jpeg)

假如我们不希望打印表的每一行为一个列表，而希望有一个函数print2D()，打印t中的项如下所示：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08418.jpeg)

我们使用嵌套循环模式实现这个函数。外部for循环用于产生行，而内部for循环则迭代行中的项并输出：

模块：ch5.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08419.jpeg)

让我们再讨论一个示例。假如我们希望开发一个函数incr2D()，把一个数值二维列表中的每个数值递增1：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08420.jpeg)

显而易见，函数incr2D()需要针对输入参数二维列表t中的每个行索引i和列索引j执行如下语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08421.jpeg)

我们可以使用嵌套循环模式生成所有行索引和列索引的组合。

外循环应该生成t的行索引。因此，我们需要知道t的行数。它就是len(t)。内循环应该生成t的列索引。这里我们遇到了麻烦。如何确定t有多少列呢？它实际上是一行中的项的个数。由于我们假定所有行都有相同数量的项，所以我们可以随意选择第一行来获得列的数目len(t[0])。现在我们可以实现该函数：

模块：ch5.py

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08422.jpeg)

该程序使用嵌套循环模式逐行自左向右自顶向下访问二维列表t中的项。首先访问的是第0行的各项，依次为t[0][0]、t[0][1]、t[0][2]和t[0][3]。如图5-5所示。然后，从左到右访问第1行的各项，最后访问第2行的各项。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08423.jpeg)

图5-5　嵌套循环模式。外部for循环产生行索引。内部for循环产生列索引。箭头描述了第1行（索引0）的内部for循环的执行流

练习题5.9　编写一个函数add2D，带两个相同大小（即行列数都相同）的二维列表作为输入参数，把第一个列表中的每个项增加第二个列表中对应的项的值。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08424.jpeg)