   

## 5.11　思考题

5.23　编写函数pay()，带两个输入参数：小时工资和上周员工工作了的小时数。函数计算并返回员工的工资。加班工资的计算方法如下：大于40小时但小于或等于60小时按平时小时薪酬的1.5倍给薪；大于60小时则按平时小时薪酬的2倍给薪。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08479.jpeg)

5.24　编写函数case()，带一个字符串作为输入参数，根据字符串是否为大写、小写或非英文字母，分别返回“大写”、“小写”或“未知”。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08480.jpeg)

5.25　实现函数leap()，带一个年份作为输入参数。如果是闰年，则返回True，否则返回False。（如果某年能被4整除但不能被100整除，或者能被400整除，则该年是闰年。例如，1700、1800和1900不是闰年，但1600和2000是闰年。）

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08481.jpeg)

5.26　“石头、剪刀、布”是一种两个人玩的游戏，每个人选择其中一项。如果两个人选择相同项，则游戏打成平手。否则，按如下规则决定胜负：

（a）石头胜剪刀（因为石头能砸剪刀）

（b）剪刀胜布（因为剪刀能剪布）

（c）布胜石头（因为布包石头）

编写函数rps()，带两个参数：选手1的选择和选手2的选择（'R'、'P'或'S'）。如果选手1胜则返回1，如果选手2胜则返回-1，如果平手则返回0。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08482.jpeg)

5.27　编写函数letter2number()，带一个成绩等级字母（A、B、C、D、F，可以带-号和+号）作为输入参数，返回对应的成绩数值。A、B、C、D和F的成绩数值分别为4、3、2、1、0。+号增加0.3，-号减少0.3。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08483.jpeg)

5.28　编写函数geometric()，带一个整数列表作为输入参数，如果列表中整数构成几何序列（等比数列），则返回True。一个序列a0，a1，a2，a3，a4、…，an-2，an-1，当a1/a0，a2/a1，a3/a2，a4/a3，…，an-1/an-2都相等时，则该序列为几何序列。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08484.jpeg)

5.29　编写函数lastfirst()，带一个字符串（格式为<姓,名>）列表作为输入参数，返回如下两个列表：

（a）一个包含所有名的列表

（b）一个包含所有姓的列表

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08485.jpeg)

5.30　编写函数many()，带一个当前目录中的文件名（字符串）作为输入参数，输出长度分别为1、2、3和4的单词的个数。使用文件sample.txt测试函数。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08486.jpeg)

5.31　编写一个函数subsetSum()，带两个输入参数：一个正数列表和一个正数target。如果列表中存在三个数累加和等于target，则返回True。例如，如果输入列表为[5,4,10,20,15,19]，target为38，则返回True。因为4+15+19=38。但是，对于同样的输入列表但target为10，则返回False。因为列表中任何3个数的累加和都不等于10。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08487.jpeg)

5.32　实现函数fib()，带一个非负整数n作为输入参数，返回第n个斐波那契数。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08488.jpeg)

5.33　实现一个函数mystery()，带一个正整数n作为输入参数并回答下列问题：n折半多少次（使用整数除法）后为1？返回折半的次数。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08489.jpeg)

5.34　编写一个函数statement()，带一个浮点数列表作为输入参数，正数代表向银行账户存款，负数代表从银行账户取款。要求函数返回一个包括两个浮点数的列表：第一个数是存款总和，第二个数（负数）是取款总和。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08490.jpeg)

5.35　实现函数pixels()，带一个二维非负整数列表（表示一幅图像的像素值）作为输入参数，返回其中正数项的个数（即非全黑的像素点个数）。要求函数可以处理任何大小的二维列表。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08491.jpeg)

5.36　实现函数prime()，带一个正整数作为输入参数，如果是素数，则返回True，否则返回False。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08492.jpeg)

5.37　编写函数mssl()（最大和子列表），带一个整数列表作为输入参数。要求函数计算并返回输入列表中的最大和子列表之和。最大和子列表是输入列表的子列表（切片），其各项之和最大。空列表的和定义为0。例如，对于下列列表：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08493.jpeg)

其最大和子列表为[5,-2,7,7,2]，其各项之和为19。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08494.jpeg)

在最后一个例子中，最大和子列表为空子列表，因为所有的列表项都是负数。

5.38　编写函数collatz()，带一个正整数x作为输入参数，输出从x开始的Collatz序列。Collatz序列按如下规则根据序列中前一个x重复计算下一个x：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08495.jpeg)

要求当序列达到数值1时终止。注意：是否每一个正整数的Collatz序列总是结束为1是悬而未决的问题。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08496.jpeg)

5.39　编写函数exclamation()，带一个字符串作为输入参数，返回修改后的字符串：每个元音字母替换为4个连续的相同元音，最后增加一个感叹号（!）。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08497.jpeg)

5.40　常数π是一个无理数，其近似值为3.1415928…。π的准确值等于如下无穷数列之和：

π=4/1-4/3+4/5-4/7+4/9-4/11+…

我们可以通过计算该无穷数列前几项之和得到π的一个很好的近似。编写一个函数approxPi()，带一个浮点值error作为输入参数。逐项计算无穷数列的和，直到当前和和前一次和（少一项）之差小于或等于error，来求得π的误差在error之内的近似值。函数应该返回新的和。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08498.jpeg)

5.41　系数为a0，a1，a2，a3，…，an的n次多项式是如下的一个函数：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08499.jpeg)

函数可以针对不同的x求值。例如，如果p(x)=1+2x+x2，则p(2)=1+2*22+2=9。如果p(x)=1+x2+x4，则p(2)=2，p(3)=91。

编写一个函数poly()，带两个输入参数：一个多项式p(x)的系数a0，a1，a2，a3，…，an的列表和一个数值x。要求函数返回p(x)，即多项式对x的求值结果。注意下面用法是上述三个例子的运行结果。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08500.jpeg)

5.42　实现函数primeFac()，带一个正整数n作为输入参数，返回一个包含n的所有素因子分解的约数的列表。（正整数n的素因子分解是乘积为n的所有素数的列表。）

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08501.jpeg)

5.43　编写函数evenrow()，带一个二维整数列表作为输入参数。如果二维整数列表每一行之和均为偶数，则返回True；否则返回False（即有的行之和为奇数）。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08502.jpeg)

5.44　数字0，1，2，3，…，9的替代密码是把0，1，2，3，…，9中的每一个数字替换为0，1，2，3，…，9中的另一个数字。它可以表示为一个10位数的字符串，指定0，1，2，3，…，9中的每个数字如何被替换。例如，10位字符串“3941068257”指定了一个替代密码，其中数字0被替换为数字3，1被替换为9，2被替换为4，等等。若要加密一个非负整数，请用加密密钥指定的数字替换其每个数字。

实现函数encrypt()，带两个输入参数：一个10位字符串密钥和一个数字字符串（即要加密的明文），返回明文的加密密文。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08503.jpeg)

5.45　函数avgavg()带一个列表作为输入参数，列表各项是由三个数组成的列表。每个三个数列表代表特定学生某门课程获得的三次成绩。例如，某门课程四名学生成绩的输入列表如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08504.jpeg)

要求函数avgavg()在屏幕上输出两行内容。第一行为包含每个学生平均成绩的列表。第二行仅包含一个数值：班级平均成绩，即所有学生平均成绩的平均值。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08505.jpeg)

5.46　序列中的逆序是一对反序的条目。例如，在字符串“ABBFHDL”中，因为字符F出现在D之前，因此F和D构成了逆序。字符H和D也是如此。序列中的逆序数量（即无序对的数量）是序列无序状态的一种度量。“ABBFHDL”中逆序的总数是2。实现函数inversions()，带一个由A到Z中大写字母组成的序列（即字符串）作为输入参数，返回序列中的逆序数。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08506.jpeg)

5.47　编写函数d2x()，带两个输入参数：一个非负整数n（标准十进制表示）和一个2到9之间的整数x，返回n的x进制表示的数字字符串。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08507.jpeg)

5.48　假设list1和list2是两个整数列表。如果list1中的元素按相同顺序出现在list2中（但不一定要连续），则我们称list1是list2的子列表。例如，如果list1定义为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08508.jpeg)

list2定义为：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08509.jpeg)

则list1是list2的子列表，因为list1的数值（15、1和100）包含在list2并且保持相同顺序。然而，列表：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08510.jpeg)

不是list2的子列表。

实现函数sublist()，带两个输入参数：列表list1和list2。如果list1是list2的子列表，返回True；否则返回False。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08511.jpeg)

5.49　Heron方法是古希腊人用于计算一个数n的平方根的方法。该方法生产一系列值不断逼近![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08512.jpeg)。序列中的第一个值是一个任意的猜测值，其他值根据前一个值prev计算获得，计算公式如下：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08513.jpeg)

编写函数heron()，带两个数值输入参数：n和error。函数从![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08512.jpeg)的初始猜测值1.0开始，重复计算其更好的近似值，直到两次相邻的近似值之差（更准确地说，差的绝对值）小于或等于error。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08514.jpeg)