   

## 5.4　while循环

除了for循环，Python还有另外一个更通用的迭代控制结构：while循环。为了理解while循环是如何工作的，我们首先回顾一下单向if语句是如何工作的：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08425.jpeg)

当<条件>求值结果为True时，则执行<缩进代码块>。执行完<缩进代码块>后，将继续执行<非缩进语句>。如果<条件>求值结果为False，则程序直接转向<非缩进语句>。

while语句的语法格式和单分支if语句的语法格式类似：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08426.jpeg)

和if语句类似，在while语句中，当<条件>求值结果为True时，则执行<缩进代码块>。但是当执行完<缩进代码块>后，程序执行重新返回并检查<条件>求值结果是否为True。如果满足条件，则重新执行<缩进代码块>。只要<条件>求值结果为True，则不断重复执行<缩进代码块>。当<条件>求值结果为False，则跳转到<非缩进语句>。图5-6中的while循环流程图描述了可能的执行路径。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08427.jpeg)

图5-6　while语句流程图。只要条件的求值结果为True，则重复执行条件语句模块。当条件的求值结果为False，则执行紧跟在while循环语句后的语句

while循环的用法

while循环何时有用？我们用下一个问题说明这一点。假设我们有一个奇怪的想法：计算大于3 951的73的第一个倍数。解决这个问题的一种方法是连续生成73的正倍数，直到大于3 951。该思想的for循环实现可以从下列语句着手：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08428.jpeg)

我们尝试使用函数range()生成73的倍数：73、146、291、…。但是，什么时候终止呢？换言之，该用什么数值替换“???”？

当我们需要迭代但不知道迭代多少次时，while循环为此提供了完美的解决方案。在我们的例子中，我们需要持续生成73的倍数，只要倍数<=3 951。换言之，当倍数<=3 951，则生成下一个倍数。让我们翻译成Python语句：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08429.jpeg)

在while循环之前，必须先初始化变量multiple。我们可以把它初始化为73的第1个正倍数，即73。在while循环的每次迭代中，检查条件multiple<=3951。如果条件为True，则multiple增加到下一个73的倍数：

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08430.jpeg)

当while循环条件的求值结果为False时，循环执行终止，multiple的值大于bound。因为前一个multiple的值不大于bound，因此它就是我们所求的值：大于bound的最小倍数。

练习题5.10　编写一个函数interest()，带一个浮点数利率（例如，0.06，对应于6%利率）作为输入参数。函数计算并返回一笔投资价值翻倍所需要的时间（年数）。注意：一笔投资价值翻倍所需的时间与原始投资额无关。

![](0-Assets/Epubook/程序员编程语言经典合集（计算机科学丛书5册套装），javapython编程语言含经典教材龙书《编译原理》%20(Bruce%20Eckel%20%20Alfred%20V.%20Aho%20%20Monica%20S.%20Lam%20etc.)%20(Z-Library)/images/image08431.jpeg)